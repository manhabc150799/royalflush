2026-01-17 00:01:25.091 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:54211 (ID: 3)
2026-01-17 00:01:27.349 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-17 00:01:27.349 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123
2026-01-17 00:01:27.398 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 00:01:27.398 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 3
2026-01-17 00:01:27.398 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 00:01:27.746 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-17 00:01:27.746 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-17 00:01:27.746 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:01:27.746 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:01:27.746 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:01:27.746 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-17 00:01:27.746 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=2, limit=5
2026-01-17 00:01:27.746 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:01:27.746 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-17 00:01:27.746 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 00:01:27.746 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 0 quests for user 2 on date 2026-01-17
2026-01-17 00:01:27.746 [Server] INFO  com.mygame.server.database.QuestDAO - Found 5 quests in daily_quest_config
2026-01-17 00:01:27.756 [Server] INFO  com.mygame.server.database.QuestDAO - Assigned 5 daily quests to user 2 (expected: 5)
2026-01-17 00:01:27.756 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 00:01:27.756 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 00:01:59.098 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:02:01.101 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:02:03.104 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:02:05.104 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:02:07.107 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:02:09.110 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:02:11.110 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:02:13.110 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:02:15.113 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:02:15.704 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-17 00:02:17.361 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:54216 (ID: 4)
2026-01-17 00:02:17.362 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LoginRequest
2026-01-17 00:02:17.362 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 4: username=123
2026-01-17 00:02:17.411 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 00:02:17.412 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 4
2026-01-17 00:02:17.412 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 00:02:18.326 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:02:20.328 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:02:21.179 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: MatchHistoryRequest
2026-01-17 00:02:21.179 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 4: userId=2, limit=5
2026-01-17 00:02:21.180 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:02:22.332 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:02:24.335 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:02:25.798 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: CreateRoomRequest
2026-01-17 00:02:25.807 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 104
2026-01-17 00:02:25.808 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 104)
2026-01-17 00:02:25.812 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 104 (position: 0)
2026-01-17 00:02:25.812 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 104)
2026-01-17 00:02:27.617 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-17 00:02:27.618 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 104
2026-01-17 00:02:27.618 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 104
2026-01-17 00:02:27.618 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 104
2026-01-17 00:02:27.618 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 104
2026-01-17 00:02:27.618 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 104 (còn lại 0 players)
2026-01-17 00:02:28.135 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:02:30.138 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:02:31.979 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 4)
2026-01-17 00:04:33.786 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 00:04:33.981 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 00:04:34.011 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 00:04:34.011 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 00:04:34.011 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 00:04:34.011 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 00:04:34.015 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 00:04:34.024 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 00:04:34.029 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 00:04:34.029 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 00:04:34.029 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 00:04:34.029 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 00:04:34.029 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 00:04:34.100 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 00:04:34.111 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 00:04:34.117 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 00:04:34.117 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 00:04:34.117 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 00:04:47.602 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:64638 (ID: 1)
2026-01-17 00:04:50.821 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-17 00:04:50.821 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-17 00:04:50.875 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 00:04:50.879 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-17 00:04:50.879 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 00:04:51.222 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-17 00:04:51.222 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-17 00:04:51.224 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:04:51.225 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:04:51.225 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:04:51.227 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-17 00:04:51.227 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-17 00:04:51.227 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:04:51.229 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 00:04:51.229 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 00:04:51.231 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 00:04:51.233 [Server] INFO  com.mygame.server.database.QuestDAO - Auto-completed login quest for user 2
2026-01-17 00:04:51.234 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 00:04:52.251 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ClaimQuestRequest
2026-01-17 00:04:52.255 [Server] INFO  com.mygame.server.database.QuestDAO - User 2 claimed quest 1 reward: 20000 credits
2026-01-17 00:04:52.255 [Server] INFO  c.m.server.handlers.QuestHandler - User 2 claimed quest 1 reward: 20000 credits
2026-01-17 00:04:52.257 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 00:04:52.258 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 00:04:52.258 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 00:04:52.259 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 00:04:53.135 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:04:55.138 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:04:57.140 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:05:20.741 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:05:46.693 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-17 00:13:19.964 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 00:13:20.288 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 00:13:20.324 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 00:13:20.324 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 00:13:20.324 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 00:13:20.324 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 00:13:20.335 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 00:13:20.350 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 00:13:20.355 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 00:13:20.356 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 00:13:20.356 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 00:13:20.356 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 00:13:20.432 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 00:13:20.443 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 00:13:20.443 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 00:13:20.443 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 00:13:20.443 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 00:13:30.491 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:59025 (ID: 1)
2026-01-17 00:13:32.584 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-17 00:13:32.584 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-17 00:13:32.643 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 00:13:32.643 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-17 00:13:32.643 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 00:13:32.993 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-17 00:13:32.993 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-17 00:13:32.996 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:13:32.996 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:13:32.996 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:13:32.998 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-17 00:13:33.000 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-17 00:13:33.000 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:13:33.002 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 00:13:33.002 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 00:13:33.004 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 00:13:33.005 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 00:13:34.906 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:13:48.466 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:14:29.113 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-17 00:20:03.700 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 00:20:03.871 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 00:20:03.900 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 00:20:03.901 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 00:20:03.901 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 00:20:03.901 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 00:20:03.906 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 00:20:03.907 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 00:20:03.907 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 00:20:03.908 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 00:20:03.908 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 00:20:03.908 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 00:20:03.909 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 00:20:03.909 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 00:20:03.909 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 00:20:03.910 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 00:20:03.910 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 00:20:03.910 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 00:20:03.910 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 00:20:03.911 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 00:20:03.913 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 00:20:03.918 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 00:20:03.918 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 00:20:03.919 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 00:20:03.919 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 00:20:03.919 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 00:20:03.982 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 00:20:03.987 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 00:20:03.987 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 00:20:03.987 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 00:20:03.998 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 00:20:14.449 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62603 (ID: 1)
2026-01-17 00:20:18.104 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-17 00:20:18.105 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-17 00:20:18.161 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 00:20:18.164 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-17 00:20:18.164 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 00:20:18.511 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-17 00:20:18.511 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-17 00:20:18.513 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:20:18.513 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:20:18.513 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:20:18.515 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-17 00:20:18.515 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-17 00:20:18.517 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:20:18.518 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 00:20:18.518 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 00:20:18.520 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 00:20:18.523 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 00:20:20.423 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:21:48.013 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:22:16.929 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:22:18.929 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:22:20.933 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:22:22.933 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:22:24.933 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:22:26.942 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:22:28.811 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-17 00:26:53.783 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 00:26:53.954 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 00:26:53.983 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 00:26:53.983 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 00:26:53.983 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 00:26:53.983 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 00:26:53.983 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 00:26:53.983 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 00:26:53.993 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 00:26:53.993 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 00:26:53.993 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 00:26:53.994 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 00:26:53.994 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 00:26:53.994 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 00:26:53.994 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 00:26:53.994 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 00:26:53.994 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 00:26:53.994 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 00:26:53.994 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 00:26:53.996 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 00:26:53.996 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 00:26:54.004 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 00:26:54.004 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 00:26:54.004 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 00:26:54.004 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 00:26:54.004 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 00:26:54.074 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 00:26:54.082 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 00:26:54.085 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 00:26:54.085 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 00:26:54.085 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 00:27:02.410 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57043 (ID: 1)
2026-01-17 00:27:05.733 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-17 00:27:05.733 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-17 00:27:05.805 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 00:27:05.808 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-17 00:27:05.808 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 00:27:06.156 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-17 00:27:06.156 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-17 00:27:06.158 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:27:06.159 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:27:06.159 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:27:06.161 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-17 00:27:06.162 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-17 00:27:06.163 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:27:06.164 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 00:27:06.164 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 00:27:06.167 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 00:27:06.168 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 00:27:26.033 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-17 00:31:22.595 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:63192 (ID: 2)
2026-01-17 00:31:24.595 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-17 00:31:24.596 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123
2026-01-17 00:31:24.647 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 00:31:24.648 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 2
2026-01-17 00:31:24.648 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 00:31:24.993 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-17 00:31:24.994 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-17 00:31:24.994 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:31:24.994 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:31:24.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:31:24.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-17 00:31:24.994 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=2, limit=5
2026-01-17 00:31:24.994 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:31:24.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-17 00:31:24.994 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 00:31:24.994 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 00:31:24.994 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 00:31:51.807 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:31:53.810 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:31:55.814 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:31:57.817 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:31:59.818 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:01.818 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:03.823 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:05.823 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:07.826 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:09.829 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:11.832 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:13.835 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:15.835 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:17.838 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:19.841 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:20.766 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57871 (ID: 3)
2026-01-17 00:32:21.844 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:23.847 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:25.850 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:26.034 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57872 (ID: 4)
2026-01-17 00:32:27.854 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:29.856 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:31.860 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:31.895 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-17 00:32:31.896 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123123
2026-01-17 00:32:31.945 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-17 00:32:31.947 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 3
2026-01-17 00:32:31.947 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-17 00:32:32.305 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-17 00:32:32.305 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-17 00:32:32.305 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:32:32.305 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:32:32.305 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:32:32.306 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-17 00:32:32.306 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=3, limit=5
2026-01-17 00:32:32.306 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:32:32.307 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-17 00:32:32.307 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-17 00:32:32.307 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 0 quests for user 3 on date 2026-01-17
2026-01-17 00:32:32.310 [Server] INFO  com.mygame.server.database.QuestDAO - Found 5 quests in daily_quest_config
2026-01-17 00:32:32.313 [Server] INFO  com.mygame.server.database.QuestDAO - Assigned 5 daily quests to user 3 (expected: 5)
2026-01-17 00:32:32.314 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-17
2026-01-17 00:32:32.315 [Server] INFO  com.mygame.server.database.QuestDAO - Auto-completed login quest for user 3
2026-01-17 00:32:32.315 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-17 00:32:33.862 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:34.206 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:32:35.863 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:36.210 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:32:37.573 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LoginRequest
2026-01-17 00:32:37.573 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 4: username=123123123
2026-01-17 00:32:37.622 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-17 00:32:37.624 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 4
2026-01-17 00:32:37.624 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-17 00:32:37.866 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:37.968 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaderboardRequest
2026-01-17 00:32:37.968 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 4: limit=50
2026-01-17 00:32:37.969 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:32:37.969 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:32:37.969 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:32:37.971 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: MatchHistoryRequest
2026-01-17 00:32:37.971 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 4: userId=4, limit=5
2026-01-17 00:32:37.971 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:32:37.971 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: GetQuestsRequest
2026-01-17 00:32:37.971 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-17 00:32:37.972 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 0 quests for user 4 on date 2026-01-17
2026-01-17 00:32:37.973 [Server] INFO  com.mygame.server.database.QuestDAO - Found 5 quests in daily_quest_config
2026-01-17 00:32:37.975 [Server] INFO  com.mygame.server.database.QuestDAO - Assigned 5 daily quests to user 4 (expected: 5)
2026-01-17 00:32:37.975 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-17
2026-01-17 00:32:37.976 [Server] INFO  com.mygame.server.database.QuestDAO - Auto-completed login quest for user 4
2026-01-17 00:32:37.976 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-17 00:32:38.213 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:32:39.866 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:39.882 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:32:40.216 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:32:41.869 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:32:41.885 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:32:42.219 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:32:42.367 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: CreateRoomRequest
2026-01-17 00:32:42.378 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 105
2026-01-17 00:32:42.378 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 105)
2026-01-17 00:32:42.382 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 105 (position: 0)
2026-01-17 00:32:42.382 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 105)
2026-01-17 00:32:43.888 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:32:44.220 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:32:44.917 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-17 00:32:44.922 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 105
2026-01-17 00:32:44.922 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 105 (position: 1)
2026-01-17 00:32:44.922 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 105
2026-01-17 00:32:45.889 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:32:46.432 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: JoinRoomRequest
2026-01-17 00:32:46.437 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 105
2026-01-17 00:32:46.437 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 105 (position: 2)
2026-01-17 00:32:46.438 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 105
2026-01-17 00:32:48.407 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: StartGameRequest
2026-01-17 00:32:48.407 [Server] INFO  c.mygame.server.handlers.RoomHandler - Starting game session for room 105...
2026-01-17 00:32:48.414 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 2: 73000
2026-01-17 00:32:48.414 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 3: 217000
2026-01-17 00:32:48.414 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 4: 10000
2026-01-17 00:32:48.415 [Server] INFO  c.m.server.game.PokerGameSession - Player 3 posts SB: 500
2026-01-17 00:32:48.415 [Server] INFO  c.m.server.game.PokerGameSession - Player 2 posts BB: 1000
2026-01-17 00:32:48.415 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 2: [10D, 2P]
2026-01-17 00:32:48.415 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 3: [7D, 6P]
2026-01-17 00:32:48.415 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 4: [3P, 4D]
2026-01-17 00:32:48.415 [Server] INFO  c.m.server.game.PokerGameSession - Pre-flop starts. First actor: Player 3
2026-01-17 00:32:48.415 [Server] INFO  c.m.server.game.GameSessionManager - Đã start session PokerGameSession cho room 105 (POKER)
2026-01-17 00:32:48.416 [Server] INFO  c.mygame.server.handlers.RoomHandler - Deck shuffled. Dealing cards... (Session Started)
2026-01-17 00:32:48.416 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 105 by host 2
2026-01-17 00:32:59.193 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 00:32:59.193 [Server] INFO  c.m.server.game.PokerGameSession - Player 3 folds
2026-01-17 00:33:01.726 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 00:33:01.726 [Server] INFO  c.m.server.game.PokerGameSession - Player 4 folds
2026-01-17 00:33:01.726 [Server] INFO  c.m.server.game.PokerGameSession - Winner by fold: Player 2
2026-01-17 00:33:01.727 [Server] DEBUG c.m.server.game.PokerGameSession - Player 2 credit change: 73500 - 73000 = 500
2026-01-17 00:33:01.728 [Server] DEBUG c.m.server.game.PokerGameSession - Player 3 credit change: 216500 - 217000 = -500
2026-01-17 00:33:01.729 [Server] DEBUG c.m.server.game.PokerGameSession - Player 4 credit change: 10000 - 10000 = 0
2026-01-17 00:33:01.731 [Server] DEBUG com.mygame.server.database.UserDAO - Đã cập nhật credits cho user 2: 500
2026-01-17 00:33:01.731 [Server] DEBUG c.m.server.game.GameSessionManager - Updated credits for player 2: 500
2026-01-17 00:33:01.732 [Server] DEBUG com.mygame.server.database.UserDAO - Đã cập nhật credits cho user 3: -500
2026-01-17 00:33:01.732 [Server] DEBUG c.m.server.game.GameSessionManager - Updated credits for player 3: -500
2026-01-17 00:33:01.732 [Server] INFO  c.m.server.game.GameSessionManager - Đã kết thúc ván POKER ở room 105, winner: 2
2026-01-17 00:33:06.740 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaveRoomRequest
2026-01-17 00:33:06.743 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 105
2026-01-17 00:33:06.743 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 105
2026-01-17 00:33:06.743 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 105 (còn lại 2 players)
2026-01-17 00:33:06.743 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-17 00:33:06.744 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 105
2026-01-17 00:33:06.744 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 105
2026-01-17 00:33:06.744 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 105 (còn lại 1 players)
2026-01-17 00:33:06.744 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaveRoomRequest
2026-01-17 00:33:06.746 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 105
2026-01-17 00:33:06.746 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 105
2026-01-17 00:33:06.746 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 105
2026-01-17 00:33:06.746 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 105
2026-01-17 00:33:06.746 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 105 (còn lại 0 players)
2026-01-17 00:33:07.784 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:07.940 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:07.972 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:09.787 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:09.944 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:09.972 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:11.790 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:11.946 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:11.975 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:13.793 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:13.950 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:13.978 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:15.796 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:15.952 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:15.981 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:17.434 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: CreateRoomRequest
2026-01-17 00:33:17.436 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 106
2026-01-17 00:33:17.436 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 106)
2026-01-17 00:33:17.437 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 106 (position: 0)
2026-01-17 00:33:17.437 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 106)
2026-01-17 00:33:17.799 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:17.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:19.794 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:19.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:21.803 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:21.987 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:23.341 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-17 00:33:23.342 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 106
2026-01-17 00:33:23.342 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 106 (position: 1)
2026-01-17 00:33:23.342 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 106
2026-01-17 00:33:23.806 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:25.518 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-17 00:33:25.520 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 106
2026-01-17 00:33:25.520 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 106 (position: 2)
2026-01-17 00:33:25.520 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 106
2026-01-17 00:33:38.493 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-17 00:33:38.493 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 105 không tồn tại trong memory
2026-01-17 00:33:39.009 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:40.365 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaveRoomRequest
2026-01-17 00:33:40.365 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 105 không tồn tại trong memory
2026-01-17 00:33:40.643 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:41.012 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:42.646 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:43.015 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:44.649 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:44.874 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaveRoomRequest
2026-01-17 00:33:44.875 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 105 không tồn tại trong memory
2026-01-17 00:33:45.018 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:45.521 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:46.652 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:47.021 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:47.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:48.655 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:49.024 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:49.527 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:50.658 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:51.027 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:51.529 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:52.661 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:53.027 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:53.533 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:33:54.664 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:55.030 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:56.669 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:57.030 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:33:58.670 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:33:59.033 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:00.674 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:01.037 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:02.677 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:03.039 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:04.680 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:05.041 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:06.680 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:07.042 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:08.682 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:09.043 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:10.683 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:11.046 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:12.686 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:13.049 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:14.689 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:15.052 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:16.689 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:17.051 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:18.692 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:19.055 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:20.695 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:21.055 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:22.698 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:23.058 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:24.701 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:25.061 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:26.702 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:27.064 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:28.703 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:29.067 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:30.708 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:31.070 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:32.711 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:33.074 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:34.714 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:35.076 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:36.715 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:37.080 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:38.717 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:39.079 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:40.720 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:41.083 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:42.723 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:43.086 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:44.723 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:45.089 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:46.725 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:47.088 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:48.726 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:49.092 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:50.729 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:51.091 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:52.732 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:53.095 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:54.735 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:55.098 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:56.736 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:57.101 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:34:58.738 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:34:59.103 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:35:00.741 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:35:01.107 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:35:02.745 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:35:03.109 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:35:04.748 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:35:05.113 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:35:06.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:35:07.114 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 00:35:08.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:44:50.202 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 00:44:50.384 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 00:44:50.418 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 00:44:50.418 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 00:44:50.418 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 00:44:50.418 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 00:44:50.424 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 00:44:50.429 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 00:44:50.434 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 00:44:50.434 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 00:44:50.434 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 00:44:50.434 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 00:44:50.434 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 00:44:50.507 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 00:44:50.519 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 00:44:50.526 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 00:44:50.526 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 00:44:50.527 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 00:45:05.129 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:60369 (ID: 1)
2026-01-17 00:45:05.187 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:60370 (ID: 2)
2026-01-17 00:45:07.838 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:60371 (ID: 3)
2026-01-17 00:45:11.360 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-17 00:45:11.360 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123
2026-01-17 00:45:11.436 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 00:45:11.436 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 2
2026-01-17 00:45:11.436 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 00:45:11.789 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-17 00:45:11.789 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-17 00:45:11.792 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:45:11.793 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:45:11.793 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:11.798 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-17 00:45:11.798 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=2, limit=5
2026-01-17 00:45:11.800 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:45:11.800 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-17 00:45:11.801 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 00:45:11.804 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 00:45:11.805 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 00:45:13.702 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:14.572 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-17 00:45:14.572 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123123
2026-01-17 00:45:14.641 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-17 00:45:14.642 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 1
2026-01-17 00:45:14.642 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-17 00:45:14.985 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-17 00:45:14.986 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-17 00:45:14.986 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:45:14.986 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:45:14.986 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:14.989 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-17 00:45:14.989 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=3, limit=5
2026-01-17 00:45:14.989 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:45:14.989 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 00:45:14.989 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-17 00:45:14.990 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-17
2026-01-17 00:45:14.990 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-17 00:45:15.702 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:16.898 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:17.706 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:18.900 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:19.709 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:19.925 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-17 00:45:19.925 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123123123
2026-01-17 00:45:19.992 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-17 00:45:19.993 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 3
2026-01-17 00:45:19.993 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-17 00:45:20.341 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-17 00:45:20.341 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-17 00:45:20.342 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:45:20.342 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:45:20.342 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:20.343 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-17 00:45:20.343 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=4, limit=5
2026-01-17 00:45:20.344 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:45:20.344 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-17 00:45:20.344 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-17 00:45:20.345 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-17
2026-01-17 00:45:20.346 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-17 00:45:20.903 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:21.711 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:22.253 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:22.906 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:23.711 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:24.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:24.909 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:25.715 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:26.259 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:26.909 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:27.719 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:28.259 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:28.912 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:29.718 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:30.261 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:30.914 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:31.721 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:32.265 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:32.917 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:33.724 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:34.268 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:34.918 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:35.728 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:36.271 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:36.918 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:37.731 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:38.274 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:38.921 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:39.734 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:40.277 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:40.924 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:41.736 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:42.280 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:42.925 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:43.740 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:44.284 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:44.927 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:45.743 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:46.286 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:46.930 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:47.746 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:48.289 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:48.934 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:49.749 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:50.293 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:50.936 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:51.752 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:52.293 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:52.940 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:53.755 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:54.295 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:54.943 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:55.758 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:56.298 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:56.943 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:57.759 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:45:58.299 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:45:58.945 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:45:59.760 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:00.302 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:00.949 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:01.762 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:02.305 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:02.951 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:03.765 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:04.308 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:04.955 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:05.767 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:06.311 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:06.958 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:07.771 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:08.311 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:08.961 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:09.774 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:10.313 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:10.961 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:11.777 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:12.317 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:12.962 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:13.776 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:14.319 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:14.964 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:15.780 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:16.324 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:16.967 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:17.783 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:18.327 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:18.971 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:19.786 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:20.329 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:20.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:21.789 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:22.330 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:22.977 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:23.792 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:24.333 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:24.980 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:25.795 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:26.340 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:26.979 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:27.795 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:28.342 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:28.983 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:29.798 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:30.342 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:30.986 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:31.802 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:32.345 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:32.986 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:33.805 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:34.345 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:34.988 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:35.808 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:36.348 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:36.988 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:37.811 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:38.351 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:38.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:39.813 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:40.354 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:40.995 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:41.816 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:42.357 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:42.998 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:43.820 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:44.358 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:44.998 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:45.823 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:46.360 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:47.001 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:47.823 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:48.361 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:49.004 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:49.826 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:50.363 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:51.007 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:51.829 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:52.364 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:53.011 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:53.832 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:54.366 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:55.014 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:55.835 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:56.369 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:57.014 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:57.838 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:46:58.373 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:46:59.017 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:46:59.841 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:00.376 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:01.020 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:01.847 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:02.379 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:03.023 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:03.847 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:04.382 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:05.025 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:05.850 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:06.382 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:07.026 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:07.854 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:08.385 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:09.029 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:09.857 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:10.387 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:11.032 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:11.856 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:12.391 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:13.032 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:13.859 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:14.391 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:15.034 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:15.859 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:16.394 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:17.034 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:17.863 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:18.398 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:19.038 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:19.866 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:20.401 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:21.038 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:21.866 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:22.403 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:23.041 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:23.869 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:24.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: CreateRoomRequest
2026-01-17 00:47:24.229 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 107
2026-01-17 00:47:24.229 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 107)
2026-01-17 00:47:24.233 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 107 (position: 0)
2026-01-17 00:47:24.233 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 107)
2026-01-17 00:47:24.407 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:25.044 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:26.410 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:27.047 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:27.251 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: JoinRoomRequest
2026-01-17 00:47:27.253 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 107
2026-01-17 00:47:27.253 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 107 (position: 1)
2026-01-17 00:47:27.253 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 107
2026-01-17 00:47:28.413 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:29.079 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-17 00:47:29.080 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 107
2026-01-17 00:47:29.080 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 107 (position: 2)
2026-01-17 00:47:29.080 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 107
2026-01-17 00:47:31.929 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: StartGameRequest
2026-01-17 00:47:31.929 [Server] INFO  c.mygame.server.handlers.RoomHandler - Starting game session for room 107...
2026-01-17 00:47:31.932 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 2: 73500
2026-01-17 00:47:31.932 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 3: 216500
2026-01-17 00:47:31.932 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 4: 10000
2026-01-17 00:47:31.932 [Server] INFO  c.m.server.game.PokerGameSession - Player 3 posts SB: 500
2026-01-17 00:47:31.932 [Server] INFO  c.m.server.game.PokerGameSession - Player 2 posts BB: 1000
2026-01-17 00:47:31.932 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 2: [5P, 2C]
2026-01-17 00:47:31.932 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 3: [AC, KD]
2026-01-17 00:47:31.932 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 4: [7H, 2P]
2026-01-17 00:47:31.932 [Server] INFO  c.m.server.game.PokerGameSession - Pre-flop starts. First actor: Player 3
2026-01-17 00:47:31.933 [Server] INFO  c.m.server.game.GameSessionManager - Đã start session PokerGameSession cho room 107 (POKER)
2026-01-17 00:47:31.933 [Server] INFO  c.mygame.server.handlers.RoomHandler - Deck shuffled. Dealing cards... (Session Started)
2026-01-17 00:47:31.934 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 107 by host 2
2026-01-17 00:47:34.767 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: PlayerActionPacket
2026-01-17 00:47:34.767 [Server] INFO  c.m.server.game.PokerGameSession - Player 3 folds
2026-01-17 00:47:38.186 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 00:47:38.186 [Server] INFO  c.m.server.game.PokerGameSession - Player 4 folds
2026-01-17 00:47:38.187 [Server] INFO  c.m.server.game.PokerGameSession - Winner by fold: Player 2
2026-01-17 00:47:38.187 [Server] DEBUG c.m.server.game.PokerGameSession - Player 2 credit change: 74000 - 73500 = 500
2026-01-17 00:47:38.187 [Server] DEBUG c.m.server.game.PokerGameSession - Player 3 credit change: 216000 - 216500 = -500
2026-01-17 00:47:38.187 [Server] DEBUG c.m.server.game.PokerGameSession - Player 4 credit change: 10000 - 10000 = 0
2026-01-17 00:47:38.189 [Server] DEBUG com.mygame.server.database.UserDAO - Đã cập nhật credits cho user 2: 500
2026-01-17 00:47:38.189 [Server] DEBUG c.m.server.game.GameSessionManager - Updated credits for player 2: 500
2026-01-17 00:47:38.189 [Server] DEBUG com.mygame.server.database.UserDAO - Đã cập nhật credits cho user 3: -500
2026-01-17 00:47:38.189 [Server] DEBUG c.m.server.game.GameSessionManager - Updated credits for player 3: -500
2026-01-17 00:47:38.190 [Server] INFO  c.m.server.game.GameSessionManager - Đã kết thúc ván POKER ở room 107, winner: 2
2026-01-17 00:47:42.975 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaveRoomRequest
2026-01-17 00:47:42.977 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 107
2026-01-17 00:47:42.977 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 107
2026-01-17 00:47:42.977 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 107 thành user 3
2026-01-17 00:47:42.977 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 107 từ 2 sang 3
2026-01-17 00:47:42.977 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 107 (còn lại 2 players)
2026-01-17 00:47:43.198 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaveRoomRequest
2026-01-17 00:47:43.199 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 107
2026-01-17 00:47:43.199 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 107
2026-01-17 00:47:43.199 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 107 thành user 4
2026-01-17 00:47:43.199 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 107 từ 3 sang 4
2026-01-17 00:47:43.199 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 107 (còn lại 1 players)
2026-01-17 00:47:43.200 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaveRoomRequest
2026-01-17 00:47:43.201 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 107
2026-01-17 00:47:43.201 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 107
2026-01-17 00:47:43.202 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 107
2026-01-17 00:47:43.202 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 107
2026-01-17 00:47:43.202 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 107 (còn lại 0 players)
2026-01-17 00:47:44.275 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:44.354 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:44.744 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:46.275 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:46.354 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:46.746 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:48.278 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:48.355 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:48.750 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:50.281 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:50.359 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:47:50.753 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:50.869 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: CreateRoomRequest
2026-01-17 00:47:50.871 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 108
2026-01-17 00:47:50.871 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 2 (ID: 108)
2026-01-17 00:47:50.871 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 108 (position: 0)
2026-01-17 00:47:50.871 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 2 (ID: 108)
2026-01-17 00:47:52.284 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:52.756 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:54.287 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:54.759 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:56.291 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:56.762 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:47:57.659 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: StartGameRequest
2026-01-17 00:47:58.294 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:47:58.764 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:48:00.297 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:48:00.768 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:48:02.284 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: JoinRoomRequest
2026-01-17 00:48:02.286 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 108
2026-01-17 00:48:02.286 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 108 (position: 1)
2026-01-17 00:48:02.286 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 108
2026-01-17 00:48:02.300 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:48:04.302 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:48:04.444 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-17 00:48:04.445 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 108
2026-01-17 00:48:04.445 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 108 (position: 2)
2026-01-17 00:48:04.445 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 108
2026-01-17 00:48:06.825 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: StartGameRequest
2026-01-17 00:52:23.123 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 00:52:23.331 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 00:52:23.361 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 00:52:23.361 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 00:52:23.361 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 00:52:23.361 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 00:52:23.367 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 00:52:23.368 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 00:52:23.370 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 00:52:23.370 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 00:52:23.371 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 00:52:23.371 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 00:52:23.372 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 00:52:23.372 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 00:52:23.372 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 00:52:23.372 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 00:52:23.373 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 00:52:23.374 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 00:52:23.374 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 00:52:23.374 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 00:52:23.377 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 00:52:23.385 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 00:52:23.385 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 00:52:23.386 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 00:52:23.386 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 00:52:23.386 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 00:52:23.461 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 00:52:23.478 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 00:52:23.487 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 00:52:23.487 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 00:52:23.487 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 00:52:37.366 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:54606 (ID: 1)
2026-01-17 00:52:37.398 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:54607 (ID: 2)
2026-01-17 00:52:38.593 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:54609 (ID: 3)
2026-01-17 00:52:43.431 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-17 00:52:43.431 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123
2026-01-17 00:52:43.492 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 00:52:43.495 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 2
2026-01-17 00:52:43.495 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 00:52:43.843 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-17 00:52:43.843 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-17 00:52:43.845 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:52:43.845 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:52:43.845 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:52:43.849 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-17 00:52:43.849 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=2, limit=5
2026-01-17 00:52:43.852 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:52:43.852 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-17 00:52:43.852 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 00:52:43.855 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 00:52:43.856 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 00:52:45.754 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:52:47.755 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:52:47.945 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-17 00:52:47.945 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123123
2026-01-17 00:52:47.996 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-17 00:52:47.996 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 1
2026-01-17 00:52:47.996 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-17 00:52:48.340 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-17 00:52:48.340 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-17 00:52:48.341 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:52:48.341 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:52:48.341 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:52:48.341 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-17 00:52:48.341 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=3, limit=5
2026-01-17 00:52:48.341 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:52:48.341 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 00:52:48.341 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-17 00:52:48.341 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-17
2026-01-17 00:52:48.344 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-17 00:52:49.761 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:52:50.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:52:51.761 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:52:52.237 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-17 00:52:52.237 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123123123
2026-01-17 00:52:52.289 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-17 00:52:52.289 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 3
2026-01-17 00:52:52.289 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-17 00:52:52.289 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:52:52.637 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-17 00:52:52.638 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-17 00:52:52.639 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:52:52.639 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:52:52.639 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:52:52.639 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-17 00:52:52.639 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=4, limit=5
2026-01-17 00:52:52.640 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:52:52.640 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-17 00:52:52.641 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-17 00:52:52.641 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-17
2026-01-17 00:52:52.642 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-17 00:52:53.761 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:52:54.260 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:52:54.546 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:52:55.767 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:52:56.261 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:52:56.554 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:52:57.770 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:52:58.261 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:52:58.558 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:52:59.773 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:53:00.264 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:53:00.561 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:53:01.776 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:53:02.267 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:53:02.564 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:53:03.775 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:53:04.270 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:53:04.567 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:53:05.779 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:53:06.276 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:53:06.570 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:53:07.782 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:53:08.276 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:53:08.573 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:53:09.785 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:53:10.277 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:53:10.575 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:53:11.786 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:53:12.280 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: CreateRoomRequest
2026-01-17 00:53:12.285 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 109
2026-01-17 00:53:12.285 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 109)
2026-01-17 00:53:12.288 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 109 (position: 0)
2026-01-17 00:53:12.288 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 109)
2026-01-17 00:53:12.289 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:53:12.577 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:53:14.286 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:53:14.582 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:53:15.086 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: JoinRoomRequest
2026-01-17 00:53:15.087 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 109
2026-01-17 00:53:15.087 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 109 (position: 1)
2026-01-17 00:53:15.087 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 109
2026-01-17 00:53:16.582 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:53:16.810 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-17 00:53:16.812 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 109
2026-01-17 00:53:16.812 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 109 (position: 2)
2026-01-17 00:53:16.812 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 109
2026-01-17 00:53:19.005 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: StartGameRequest
2026-01-17 00:53:19.005 [Server] INFO  c.mygame.server.handlers.RoomHandler - Starting game session for room 109...
2026-01-17 00:53:19.008 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 2: 74000
2026-01-17 00:53:19.008 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 3: 216000
2026-01-17 00:53:19.008 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 4: 10000
2026-01-17 00:53:19.008 [Server] INFO  c.m.server.game.PokerGameSession - Player 3 posts SB: 500
2026-01-17 00:53:19.008 [Server] INFO  c.m.server.game.PokerGameSession - Player 2 posts BB: 1000
2026-01-17 00:53:19.008 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 2: [JH, 9H]
2026-01-17 00:53:19.008 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 3: [5C, 9P]
2026-01-17 00:53:19.008 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 4: [QD, 10C]
2026-01-17 00:53:19.008 [Server] INFO  c.m.server.game.PokerGameSession - Pre-flop starts. First actor: Player 3
2026-01-17 00:53:19.008 [Server] INFO  c.m.server.game.GameSessionManager - Đã start session PokerGameSession cho room 109 (POKER)
2026-01-17 00:53:19.008 [Server] INFO  c.mygame.server.handlers.RoomHandler - Deck shuffled. Dealing cards... (Session Started)
2026-01-17 00:53:19.008 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 109 by host 2
2026-01-17 00:53:20.732 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: StartGameRequest
2026-01-17 00:53:26.585 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: StartGameRequest
2026-01-17 00:53:28.755 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaveRoomRequest
2026-01-17 00:53:28.760 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 109
2026-01-17 00:53:28.760 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 109
2026-01-17 00:53:28.760 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 109 thành user 3
2026-01-17 00:53:28.760 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 109 từ 2 sang 3
2026-01-17 00:53:28.760 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 109 (còn lại 2 players)
2026-01-17 00:53:29.110 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 2)
2026-01-17 00:53:30.929 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaveRoomRequest
2026-01-17 00:53:30.930 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 109
2026-01-17 00:53:30.930 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 109
2026-01-17 00:53:30.931 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 109 thành user 4
2026-01-17 00:53:30.931 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 109 từ 3 sang 4
2026-01-17 00:53:30.931 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 109 (còn lại 1 players)
2026-01-17 00:53:31.274 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-17 00:53:34.070 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaveRoomRequest
2026-01-17 00:53:34.071 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 109
2026-01-17 00:53:34.071 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 109
2026-01-17 00:53:34.071 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 109
2026-01-17 00:53:34.071 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 109
2026-01-17 00:53:34.071 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 109 (còn lại 0 players)
2026-01-17 00:53:34.411 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-17 00:56:14.698 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 00:56:14.883 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 00:56:14.915 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 00:56:14.915 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 00:56:14.915 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 00:56:14.915 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 00:56:14.915 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 00:56:14.921 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 00:56:14.921 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 00:56:14.921 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 00:56:14.921 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 00:56:14.921 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 00:56:14.921 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 00:56:14.921 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 00:56:14.923 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 00:56:14.924 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 00:56:14.924 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 00:56:14.924 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 00:56:14.924 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 00:56:14.924 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 00:56:14.925 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 00:56:14.932 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 00:56:14.933 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 00:56:14.933 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 00:56:14.933 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 00:56:14.933 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 00:56:15.005 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 00:56:15.014 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 00:56:15.016 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 00:56:15.016 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 00:56:15.016 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 00:59:34.401 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 00:59:34.567 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 00:59:34.599 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 00:59:34.599 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 00:59:34.599 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 00:59:34.599 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 00:59:34.605 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 00:59:34.606 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 00:59:34.606 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 00:59:34.607 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 00:59:34.607 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 00:59:34.607 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 00:59:34.608 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 00:59:34.608 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 00:59:34.609 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 00:59:34.609 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 00:59:34.609 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 00:59:34.610 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 00:59:34.610 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 00:59:34.610 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 00:59:34.612 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 00:59:34.619 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 00:59:34.619 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 00:59:34.619 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 00:59:34.619 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 00:59:34.620 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 00:59:34.686 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 00:59:34.693 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 00:59:34.699 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 00:59:34.699 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 00:59:34.699 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 00:59:45.644 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:56380 (ID: 1)
2026-01-17 00:59:47.798 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-17 00:59:47.798 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-17 00:59:47.863 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 00:59:47.866 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-17 00:59:47.866 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 00:59:48.223 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-17 00:59:48.224 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-17 00:59:48.225 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:59:48.227 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:59:48.227 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:59:48.230 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-17 00:59:48.231 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-17 00:59:48.234 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:59:48.234 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 00:59:48.234 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 00:59:48.237 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 00:59:48.239 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 00:59:48.724 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:56382 (ID: 2)
2026-01-17 00:59:49.921 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:56383 (ID: 3)
2026-01-17 00:59:50.124 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:59:52.126 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-17 00:59:52.126 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123123
2026-01-17 00:59:52.176 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-17 00:59:52.176 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 2
2026-01-17 00:59:52.176 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-17 00:59:52.176 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:59:52.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-17 00:59:52.524 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-17 00:59:52.524 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:59:52.524 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:59:52.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:59:52.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-17 00:59:52.526 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=3, limit=5
2026-01-17 00:59:52.526 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:59:52.526 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-17 00:59:52.526 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-17 00:59:52.526 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-17
2026-01-17 00:59:52.528 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-17 00:59:54.131 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:59:54.436 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:59:56.111 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-17 00:59:56.111 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123123123
2026-01-17 00:59:56.161 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-17 00:59:56.161 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 3
2026-01-17 00:59:56.161 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-17 00:59:56.162 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:59:56.441 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 00:59:56.505 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-17 00:59:56.505 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-17 00:59:56.505 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 00:59:56.505 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 00:59:56.505 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:59:56.505 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-17 00:59:56.505 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=4, limit=5
2026-01-17 00:59:56.510 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 00:59:56.510 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-17 00:59:56.510 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-17 00:59:56.511 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-17
2026-01-17 00:59:56.512 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-17 00:59:58.133 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 00:59:58.422 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 00:59:58.442 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:00:00.138 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:00:00.424 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:00:00.447 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:00:02.141 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:00:02.428 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:00:02.450 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:00:04.144 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:00:04.431 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:00:04.453 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:00:05.695 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: CreateRoomRequest
2026-01-17 01:00:05.701 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 110
2026-01-17 01:00:05.701 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: z (ID: 110)
2026-01-17 01:00:05.705 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 110 (position: 0)
2026-01-17 01:00:05.705 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: z (ID: 110)
2026-01-17 01:00:06.432 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:00:06.452 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:00:08.376 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-17 01:00:08.376 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 110
2026-01-17 01:00:08.376 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 110 (position: 1)
2026-01-17 01:00:08.377 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 110
2026-01-17 01:00:08.437 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:00:08.456 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:00:10.438 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:00:10.856 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-17 01:00:10.858 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 110
2026-01-17 01:00:10.858 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 110 (position: 2)
2026-01-17 01:00:10.858 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 110
2026-01-17 01:00:13.891 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-17 01:00:13.891 [Server] INFO  c.mygame.server.handlers.RoomHandler - Starting game session for room 110...
2026-01-17 01:00:13.892 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 2: 74000
2026-01-17 01:00:13.892 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 3: 216000
2026-01-17 01:00:13.892 [Server] INFO  c.m.server.game.PokerGameSession - Loaded credits for player 4: 10000
2026-01-17 01:00:13.892 [Server] INFO  c.m.server.game.PokerGameSession - Player 3 posts SB: 500
2026-01-17 01:00:13.892 [Server] INFO  c.m.server.game.PokerGameSession - Player 2 posts BB: 1000
2026-01-17 01:00:13.892 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 2: [7P, 9D]
2026-01-17 01:00:13.896 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 3: [7C, 2D]
2026-01-17 01:00:13.896 [Server] INFO  c.m.server.game.PokerGameSession - Dealt to 4: [10C, 3H]
2026-01-17 01:00:13.896 [Server] INFO  c.m.server.game.PokerGameSession - Pre-flop starts. First actor: Player 3
2026-01-17 01:00:13.896 [Server] INFO  c.m.server.game.GameSessionManager - Đã start session PokerGameSession cho room 110 (POKER)
2026-01-17 01:00:13.896 [Server] INFO  c.mygame.server.handlers.RoomHandler - Deck shuffled. Dealing cards... (Session Started)
2026-01-17 01:00:13.896 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 110 by host 2
2026-01-17 01:00:15.505 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-17 01:00:18.410 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-17 01:00:20.722 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-17 01:00:22.982 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-17 01:00:25.941 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaveRoomRequest
2026-01-17 01:00:25.943 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 110
2026-01-17 01:00:25.943 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 110
2026-01-17 01:00:25.943 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 110 thành user 3
2026-01-17 01:00:25.943 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 110 từ 2 sang 3
2026-01-17 01:00:25.943 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 110 (còn lại 2 players)
2026-01-17 01:00:26.284 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-17 01:00:27.802 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaveRoomRequest
2026-01-17 01:00:27.802 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 110
2026-01-17 01:00:27.802 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 110
2026-01-17 01:00:27.805 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 110 thành user 4
2026-01-17 01:00:27.805 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 110 từ 3 sang 4
2026-01-17 01:00:27.805 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 110 (còn lại 1 players)
2026-01-17 01:00:28.136 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 2)
2026-01-17 01:00:30.712 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaveRoomRequest
2026-01-17 01:00:30.712 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 110
2026-01-17 01:00:30.712 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 110
2026-01-17 01:00:30.714 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 110
2026-01-17 01:00:30.714 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 110
2026-01-17 01:00:30.714 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 110 (còn lại 0 players)
2026-01-17 01:00:31.095 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-17 01:14:40.991 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 01:14:41.287 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 01:14:41.319 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 01:14:41.319 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 01:14:41.319 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 01:14:41.319 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 01:14:41.324 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 01:14:41.324 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 01:14:41.324 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 01:14:41.324 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 01:14:41.324 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 01:14:41.324 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 01:14:41.324 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 01:14:41.324 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 01:14:41.324 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 01:14:41.328 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 01:14:41.329 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 01:14:41.329 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 01:14:41.329 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 01:14:41.329 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 01:14:41.331 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 01:14:41.332 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 01:14:41.332 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 01:14:41.332 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 01:14:41.332 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 01:14:41.332 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 01:14:41.411 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 01:14:41.421 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 01:14:41.424 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 01:14:41.424 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 01:14:41.424 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 01:14:55.385 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62640 (ID: 1)
2026-01-17 01:14:55.761 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62641 (ID: 2)
2026-01-17 01:14:58.782 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62642 (ID: 3)
2026-01-17 01:14:59.469 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62643 (ID: 4)
2026-01-17 01:15:00.592 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-17 01:15:00.592 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-17 01:15:00.661 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 01:15:00.666 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-17 01:15:00.666 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 01:15:01.012 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-17 01:15:01.012 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-17 01:15:01.016 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 01:15:01.016 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 01:15:01.017 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:15:01.018 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-17 01:15:01.021 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-17 01:15:01.023 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 01:15:01.023 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 01:15:01.023 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 01:15:01.026 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 01:15:01.027 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 01:15:02.924 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:15:04.928 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:15:05.666 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-17 01:15:05.667 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123123
2026-01-17 01:15:05.716 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-17 01:15:05.717 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 2
2026-01-17 01:15:05.717 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-17 01:15:06.062 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-17 01:15:06.062 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-17 01:15:06.062 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 01:15:06.062 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 01:15:06.062 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:15:06.062 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-17 01:15:06.062 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=3, limit=5
2026-01-17 01:15:06.065 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 01:15:06.065 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-17 01:15:06.065 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-17 01:15:06.066 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-17
2026-01-17 01:15:06.067 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-17 01:15:06.927 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:15:07.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:15:08.928 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:15:09.004 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-17 01:15:09.004 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123123123
2026-01-17 01:15:09.059 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-17 01:15:09.059 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 3
2026-01-17 01:15:09.059 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-17 01:15:09.408 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-17 01:15:09.408 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-17 01:15:09.408 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 01:15:09.408 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 01:15:09.408 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:15:09.411 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-17 01:15:09.411 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=4, limit=5
2026-01-17 01:15:09.411 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 01:15:09.411 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-17 01:15:09.411 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-17 01:15:09.411 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-17
2026-01-17 01:15:09.412 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-17 01:15:09.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:15:10.931 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:15:11.321 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:15:11.977 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:15:12.934 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:15:13.324 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:15:13.521 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LoginRequest
2026-01-17 01:15:13.523 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 4: username=manh
2026-01-17 01:15:13.571 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: manh
2026-01-17 01:15:13.573 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 1 cho connection 4
2026-01-17 01:15:13.573 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: manh (ID: 1)
2026-01-17 01:15:13.921 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaderboardRequest
2026-01-17 01:15:13.921 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 4: limit=50
2026-01-17 01:15:13.923 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-17 01:15:13.923 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-17 01:15:13.923 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 01:15:13.923 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: MatchHistoryRequest
2026-01-17 01:15:13.923 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 4: userId=1, limit=5
2026-01-17 01:15:13.924 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 01:15:13.924 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: GetQuestsRequest
2026-01-17 01:15:13.924 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 1
2026-01-17 01:15:13.924 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 0 quests for user 1 on date 2026-01-17
2026-01-17 01:15:13.925 [Server] INFO  com.mygame.server.database.QuestDAO - Found 5 quests in daily_quest_config
2026-01-17 01:15:13.929 [Server] INFO  com.mygame.server.database.QuestDAO - Assigned 5 daily quests to user 1 (expected: 5)
2026-01-17 01:15:13.929 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 1 on date 2026-01-17
2026-01-17 01:15:13.930 [Server] INFO  com.mygame.server.database.QuestDAO - Auto-completed login quest for user 1
2026-01-17 01:15:13.931 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 1
2026-01-17 01:15:13.977 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:15:14.934 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:15:15.327 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:15:15.832 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 01:15:15.981 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:15:16.938 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 01:15:17.331 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:15:17.626 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: CreateRoomRequest
2026-01-17 01:15:17.632 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 111
2026-01-17 01:15:17.632 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: Room 7625 (ID: 111)
2026-01-17 01:15:17.636 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 111 (position: 0)
2026-01-17 01:15:17.636 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: Room 7625 (ID: 111)
2026-01-17 01:15:17.837 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 01:15:17.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:15:19.334 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:15:19.840 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 01:15:19.987 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 01:15:21.161 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-17 01:15:21.161 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 111
2026-01-17 01:15:21.165 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 111 (position: 1)
2026-01-17 01:15:21.165 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 111
2026-01-17 01:15:21.337 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 01:15:21.842 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 01:15:22.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-17 01:15:22.975 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 111
2026-01-17 01:15:22.975 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 111 (position: 2)
2026-01-17 01:15:22.975 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 111
2026-01-17 01:15:23.846 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-17 01:15:25.007 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: JoinRoomRequest
2026-01-17 01:15:25.008 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 1 vào room 111
2026-01-17 01:15:25.009 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 1 vào room 111 (position: 3)
2026-01-17 01:15:25.009 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã tham gia room 111
2026-01-17 01:15:27.306 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-17 01:15:27.307 [Server] INFO  c.mygame.server.handlers.RoomHandler - Starting game session for room 111...
2026-01-17 01:15:27.314 [Server] INFO  c.m.server.game.TienLenGameSession - Player 3 has the 3 of Spades
2026-01-17 01:15:27.314 [Server] INFO  c.m.server.game.TienLenGameSession - First player determined: 3 (Index 1)
2026-01-17 01:15:27.315 [Server] INFO  c.m.server.game.GameSessionManager - Đã start session TienLenGameSession cho room 111 (TIENLEN)
2026-01-17 01:15:27.315 [Server] INFO  c.mygame.server.handlers.RoomHandler - Deck shuffled. Dealing cards... (Session Started)
2026-01-17 01:15:27.315 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 111 by host 2
2026-01-17 01:15:33.350 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: PlayerActionPacket
2026-01-17 01:15:33.350 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 2 (Current Turn: 3)
2026-01-17 01:15:33.350 [Server] WARN  c.m.server.game.TienLenGameSession - Ignore action from 2 (not turn, expected 3)
2026-01-17 01:15:42.558 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: PlayerActionPacket
2026-01-17 01:15:42.558 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 3 (Current Turn: 3)
2026-01-17 01:15:42.558 [Server] INFO  c.m.server.game.TienLenGameSession - Player 3 played valid move: [3P, 3D] (PAIR)
2026-01-17 01:15:47.210 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:15:47.210 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 4 (Current Turn: 4)
2026-01-17 01:15:47.210 [Server] INFO  c.m.server.game.TienLenGameSession - Player 4 played valid move: [4P, 4C] (PAIR)
2026-01-17 01:15:50.942 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:15:50.942 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 1 (Current Turn: 1)
2026-01-17 01:15:50.942 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 played valid move: [6P, 6H] (PAIR)
2026-01-17 01:15:54.828 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: PlayerActionPacket
2026-01-17 01:15:54.828 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 2 (Current Turn: 2)
2026-01-17 01:15:54.829 [Server] INFO  c.m.server.game.TienLenGameSession - Player 2 played valid move: [8P, 8D] (PAIR)
2026-01-17 01:15:59.499 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: PlayerActionPacket
2026-01-17 01:15:59.499 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 3 (Current Turn: 3)
2026-01-17 01:15:59.499 [Server] INFO  c.m.server.game.TienLenGameSession - Player 3 played valid move: [9D, 9H] (PAIR)
2026-01-17 01:16:03.202 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:16:03.202 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 4 (Current Turn: 4)
2026-01-17 01:16:03.202 [Server] INFO  c.m.server.game.TienLenGameSession - Player 4 played valid move: [10P, 10C] (PAIR)
2026-01-17 01:16:07.871 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:16:07.871 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 1 (Current Turn: 1)
2026-01-17 01:16:07.871 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 played valid move: [KP, KH] (PAIR)
2026-01-17 01:16:15.082 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: PlayerActionPacket
2026-01-17 01:16:15.082 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 2 (Current Turn: 2)
2026-01-17 01:16:15.082 [Server] INFO  c.m.server.game.TienLenGameSession - Player 2 played valid move: [2P, 2H] (PAIR)
2026-01-17 01:16:19.857 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: PlayerActionPacket
2026-01-17 01:16:19.857 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 3 (Current Turn: 3)
2026-01-17 01:16:21.943 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:16:21.943 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 4 (Current Turn: 4)
2026-01-17 01:16:24.167 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:16:24.167 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 1 (Current Turn: 1)
2026-01-17 01:16:28.895 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: PlayerActionPacket
2026-01-17 01:16:28.896 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 2 (Current Turn: 2)
2026-01-17 01:16:28.896 [Server] INFO  c.m.server.game.TienLenGameSession - Player 2 played valid move: [4H, 5D, 6D, 7D] (STRAIGHT)
2026-01-17 01:16:39.792 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: PlayerActionPacket
2026-01-17 01:16:39.792 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 3 (Current Turn: 3)
2026-01-17 01:16:39.796 [Server] INFO  c.m.server.game.TienLenGameSession - Player 3 played valid move: [5P, 6C, 7C, 8C] (STRAIGHT)
2026-01-17 01:16:47.242 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:16:47.242 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 4 (Current Turn: 4)
2026-01-17 01:16:52.679 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:16:52.679 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 1 (Current Turn: 1)
2026-01-17 01:16:57.982 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: PlayerActionPacket
2026-01-17 01:16:57.982 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 2 (Current Turn: 2)
2026-01-17 01:16:57.982 [Server] INFO  c.m.server.game.TienLenGameSession - Player 2 played valid move: [10D, JP, QP, KC] (STRAIGHT)
2026-01-17 01:17:02.357 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: PlayerActionPacket
2026-01-17 01:17:02.357 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 3 (Current Turn: 3)
2026-01-17 01:17:06.932 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: PlayerActionPacket
2026-01-17 01:17:06.932 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 2 (Current Turn: 2)
2026-01-17 01:17:06.932 [Server] INFO  c.m.server.game.TienLenGameSession - Player 2 played valid move: [KD] (SINGLE)
2026-01-17 01:17:06.932 [Server] INFO  c.m.server.game.TienLenGameSession - Player 2 finished!
2026-01-17 01:17:12.073 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: PlayerActionPacket
2026-01-17 01:17:12.073 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 3 (Current Turn: 3)
2026-01-17 01:17:12.073 [Server] INFO  c.m.server.game.TienLenGameSession - Player 3 played valid move: [2C] (SINGLE)
2026-01-17 01:17:13.792 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:17:13.792 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 4 (Current Turn: 4)
2026-01-17 01:17:15.332 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:17:15.332 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 1 (Current Turn: 1)
2026-01-17 01:17:22.626 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: PlayerActionPacket
2026-01-17 01:17:22.627 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 3 (Current Turn: 3)
2026-01-17 01:17:22.627 [Server] INFO  c.m.server.game.TienLenGameSession - Player 3 played valid move: [10H, JC, QH] (STRAIGHT)
2026-01-17 01:17:25.176 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:17:25.176 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 4 (Current Turn: 4)
2026-01-17 01:17:28.742 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:17:28.742 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 1 (Current Turn: 1)
2026-01-17 01:17:30.676 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: PlayerActionPacket
2026-01-17 01:17:30.676 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 3 (Current Turn: 3)
2026-01-17 01:17:30.676 [Server] INFO  c.m.server.game.TienLenGameSession - Player 3 played valid move: [AH] (SINGLE)
2026-01-17 01:17:30.676 [Server] INFO  c.m.server.game.TienLenGameSession - Player 3 finished!
2026-01-17 01:17:35.157 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:17:35.157 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 4 (Current Turn: 4)
2026-01-17 01:17:37.176 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:17:37.176 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 1 (Current Turn: 1)
2026-01-17 01:17:48.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:17:48.148 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 4 (Current Turn: 4)
2026-01-17 01:17:48.148 [Server] INFO  c.m.server.game.TienLenGameSession - Player 4 played valid move: [3C, 3H] (PAIR)
2026-01-17 01:17:51.174 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:17:51.176 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 1 (Current Turn: 1)
2026-01-17 01:17:51.176 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 played valid move: [AP, AD] (PAIR)
2026-01-17 01:17:52.971 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:17:52.971 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 4 (Current Turn: 4)
2026-01-17 01:17:58.063 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:17:58.063 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 1 (Current Turn: 1)
2026-01-17 01:17:58.063 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 played valid move: [4D] (SINGLE)
2026-01-17 01:18:00.562 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:18:00.563 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 4 (Current Turn: 4)
2026-01-17 01:18:00.563 [Server] INFO  c.m.server.game.TienLenGameSession - Player 4 played valid move: [5H] (SINGLE)
2026-01-17 01:18:02.841 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:18:02.841 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 1 (Current Turn: 1)
2026-01-17 01:18:02.841 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 played valid move: [7P] (SINGLE)
2026-01-17 01:18:04.782 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:18:04.782 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 4 (Current Turn: 4)
2026-01-17 01:18:04.782 [Server] INFO  c.m.server.game.TienLenGameSession - Player 4 played valid move: [8H] (SINGLE)
2026-01-17 01:18:06.832 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:18:06.832 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 1 (Current Turn: 1)
2026-01-17 01:18:06.832 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 played valid move: [9P] (SINGLE)
2026-01-17 01:18:09.932 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:18:09.932 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 4 (Current Turn: 4)
2026-01-17 01:18:09.932 [Server] INFO  c.m.server.game.TienLenGameSession - Player 4 played valid move: [JD] (SINGLE)
2026-01-17 01:18:12.056 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:18:12.057 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 1 (Current Turn: 1)
2026-01-17 01:18:12.057 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 played valid move: [QD] (SINGLE)
2026-01-17 01:18:14.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:18:14.256 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 4 (Current Turn: 4)
2026-01-17 01:18:14.256 [Server] INFO  c.m.server.game.TienLenGameSession - Player 4 played valid move: [AC] (SINGLE)
2026-01-17 01:18:15.990 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:18:15.990 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 1 (Current Turn: 1)
2026-01-17 01:18:15.990 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 played valid move: [2D] (SINGLE)
2026-01-17 01:18:17.381 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:18:17.382 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: SKIP from Player 4 (Current Turn: 4)
2026-01-17 01:18:19.622 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:18:19.623 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 1 (Current Turn: 1)
2026-01-17 01:18:19.623 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 played valid move: [5C] (SINGLE)
2026-01-17 01:18:21.803 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayerActionPacket
2026-01-17 01:18:21.803 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 4 (Current Turn: 4)
2026-01-17 01:18:21.803 [Server] INFO  c.m.server.game.TienLenGameSession - Player 4 played valid move: [7H] (SINGLE)
2026-01-17 01:18:23.409 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayerActionPacket
2026-01-17 01:18:23.409 [Server] INFO  c.m.server.game.TienLenGameSession - Action received: PLAY from Player 1 (Current Turn: 1)
2026-01-17 01:18:23.409 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 played valid move: [JH] (SINGLE)
2026-01-17 01:18:23.409 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 finished!
2026-01-17 01:18:23.409 [Server] INFO  c.m.server.game.TienLenGameSession - Broadcast GameEndPacket. Winner: 2
2026-01-17 01:18:23.410 [Server] INFO  c.m.server.game.GameSessionManager - Tien Len game 111 finished, entering voting phase
2026-01-17 01:18:29.744 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: PlayAgainVotePacket
2026-01-17 01:18:29.744 [Server] INFO  c.m.server.game.TienLenGameSession - Player 2 voted: PLAY_AGAIN
2026-01-17 01:18:29.744 [Server] INFO  c.m.server.game.TienLenGameSession - Broadcast voting status: VOTING (1/4)
2026-01-17 01:18:31.771 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: PlayAgainVotePacket
2026-01-17 01:18:31.771 [Server] INFO  c.m.server.game.TienLenGameSession - Player 3 voted: PLAY_AGAIN
2026-01-17 01:18:31.772 [Server] INFO  c.m.server.game.TienLenGameSession - Broadcast voting status: VOTING (2/4)
2026-01-17 01:18:33.237 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: PlayAgainVotePacket
2026-01-17 01:18:33.238 [Server] INFO  c.m.server.game.TienLenGameSession - Player 4 voted: PLAY_AGAIN
2026-01-17 01:18:33.238 [Server] INFO  c.m.server.game.TienLenGameSession - Broadcast voting status: VOTING (3/4)
2026-01-17 01:18:34.759 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: PlayAgainVotePacket
2026-01-17 01:18:34.759 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 voted: PLAY_AGAIN
2026-01-17 01:18:34.759 [Server] INFO  c.m.server.game.TienLenGameSession - All 4 players voted to play again. Starting new game.
2026-01-17 01:18:34.759 [Server] INFO  c.m.server.game.TienLenGameSession - Broadcast voting status: STARTING_NEW_GAME (4/4)
2026-01-17 01:18:34.760 [Server] INFO  c.m.server.game.TienLenGameSession - Player 1 has the 3 of Spades
2026-01-17 01:18:34.760 [Server] INFO  c.m.server.game.TienLenGameSession - First player determined: 1 (Index 3)
2026-01-17 01:18:34.760 [Server] INFO  c.m.server.game.GameSessionManager - Tien Len game 111 restarted after voting
2026-01-17 01:18:37.745 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-17 01:18:37.746 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 111
2026-01-17 01:18:37.746 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 111
2026-01-17 01:18:37.746 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 111 thành user 3
2026-01-17 01:18:37.746 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 111 từ 2 sang 3
2026-01-17 01:18:37.746 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 111 (còn lại 3 players)
2026-01-17 01:18:38.769 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 2)
2026-01-17 01:18:38.771 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 111
2026-01-17 01:18:38.771 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 111
2026-01-17 01:18:38.771 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 111 thành user 4
2026-01-17 01:18:38.771 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 111 từ 3 sang 4
2026-01-17 01:18:38.771 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 111 (còn lại 2 players)
2026-01-17 01:18:39.817 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-17 01:18:39.817 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 111
2026-01-17 01:18:39.817 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 111
2026-01-17 01:18:39.819 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 111 thành user 1
2026-01-17 01:18:39.819 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 111 từ 4 sang 1
2026-01-17 01:18:39.819 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 111 (còn lại 1 players)
2026-01-17 01:18:40.598 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 4)
2026-01-17 01:18:40.599 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 1 khỏi room 111
2026-01-17 01:18:40.599 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 1 khỏi room 111
2026-01-17 01:18:40.600 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 111
2026-01-17 01:18:40.600 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 111
2026-01-17 01:18:40.600 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã rời room 111 (còn lại 0 players)
2026-01-17 13:20:54.005 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 13:20:54.285 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 13:20:54.324 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 13:20:54.324 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 13:20:54.324 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 13:20:54.324 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 13:20:54.339 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 13:20:54.341 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 13:20:54.342 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 13:20:54.342 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 13:20:54.343 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 13:20:54.344 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 13:20:54.344 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 13:20:54.345 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 13:20:54.345 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 13:20:54.348 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 13:20:54.349 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 13:20:54.349 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 13:20:54.349 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 13:20:54.349 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 13:20:54.360 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 13:20:54.371 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 13:20:54.372 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 13:20:54.373 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 13:20:54.373 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 13:20:54.373 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 13:20:54.460 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 13:20:54.475 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 13:20:54.485 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 13:20:54.485 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 13:20:54.485 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 13:21:14.602 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:54746 (ID: 1)
2026-01-17 13:21:30.521 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: RegisterRequest
2026-01-17 13:21:30.521 [Server] INFO  c.m.server.handlers.RegisterHandler - Nhận register request từ connection 1: username=dung
2026-01-17 13:21:30.662 [Server] INFO  com.mygame.server.database.UserDAO - Đã đăng ký user mới: dung (ID: 5)
2026-01-17 13:21:30.669 [Server] INFO  c.m.server.handlers.RegisterHandler - Đăng ký thành công cho user: dung (ID: 5)
2026-01-17 13:21:43.548 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: RegisterRequest
2026-01-17 13:21:43.548 [Server] INFO  c.m.server.handlers.RegisterHandler - Nhận register request từ connection 1: username=minh
2026-01-17 13:21:43.657 [Server] INFO  com.mygame.server.database.UserDAO - Đã đăng ký user mới: minh (ID: 6)
2026-01-17 13:21:43.659 [Server] INFO  c.m.server.handlers.RegisterHandler - Đăng ký thành công cho user: minh (ID: 6)
2026-01-17 13:21:51.178 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: RegisterRequest
2026-01-17 13:21:51.179 [Server] INFO  c.m.server.handlers.RegisterHandler - Nhận register request từ connection 1: username=linh
2026-01-17 13:21:51.287 [Server] INFO  com.mygame.server.database.UserDAO - Đã đăng ký user mới: linh (ID: 7)
2026-01-17 13:21:51.289 [Server] INFO  c.m.server.handlers.RegisterHandler - Đăng ký thành công cho user: linh (ID: 7)
2026-01-17 13:21:58.284 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: RegisterRequest
2026-01-17 13:21:58.285 [Server] INFO  c.m.server.handlers.RegisterHandler - Nhận register request từ connection 1: username=long
2026-01-17 13:21:58.394 [Server] INFO  com.mygame.server.database.UserDAO - Đã đăng ký user mới: long (ID: 8)
2026-01-17 13:21:58.396 [Server] INFO  c.m.server.handlers.RegisterHandler - Đăng ký thành công cho user: long (ID: 8)
2026-01-17 13:22:05.731 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-17 13:22:05.731 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-17 13:22:05.840 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 13:22:05.842 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-17 13:22:05.842 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 13:22:06.297 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-17 13:22:06.298 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-17 13:22:06.305 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 8 players từ leaderboard
2026-01-17 13:22:06.306 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 8 entries trong leaderboard
2026-01-17 13:22:06.307 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:22:06.315 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-17 13:22:06.315 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-17 13:22:06.325 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 13:22:06.332 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 13:22:06.332 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 13:22:06.338 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 13:22:06.340 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 13:22:08.136 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:22:10.144 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:22:12.151 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:22:14.159 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:22:16.166 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:22:18.174 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:22:20.181 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:22:22.189 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:22:24.196 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:22:26.204 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:22:27.629 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-17 13:22:40.175 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:51380 (ID: 2)
2026-01-17 13:22:40.177 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: RegisterRequest
2026-01-17 13:22:40.177 [Server] INFO  c.m.server.handlers.RegisterHandler - Nhận register request từ connection 2: username=hoang
2026-01-17 13:22:40.284 [Server] INFO  com.mygame.server.database.UserDAO - Đã đăng ký user mới: hoang (ID: 9)
2026-01-17 13:22:40.287 [Server] INFO  c.m.server.handlers.RegisterHandler - Đăng ký thành công cho user: hoang (ID: 9)
2026-01-17 13:23:02.668 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: RegisterRequest
2026-01-17 13:23:02.668 [Server] INFO  c.m.server.handlers.RegisterHandler - Nhận register request từ connection 2: username=111
2026-01-17 13:23:02.776 [Server] INFO  com.mygame.server.database.UserDAO - Đã đăng ký user mới: 111 (ID: 10)
2026-01-17 13:23:02.777 [Server] INFO  c.m.server.handlers.RegisterHandler - Đăng ký thành công cho user: 111 (ID: 10)
2026-01-17 13:23:09.231 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: RegisterRequest
2026-01-17 13:23:09.232 [Server] INFO  c.m.server.handlers.RegisterHandler - Nhận register request từ connection 2: username=222
2026-01-17 13:23:09.317 [Server] INFO  com.mygame.server.database.UserDAO - Đã đăng ký user mới: 222 (ID: 11)
2026-01-17 13:23:09.318 [Server] INFO  c.m.server.handlers.RegisterHandler - Đăng ký thành công cho user: 222 (ID: 11)
2026-01-17 13:23:16.279 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: RegisterRequest
2026-01-17 13:23:16.280 [Server] INFO  c.m.server.handlers.RegisterHandler - Nhận register request từ connection 2: username=333
2026-01-17 13:23:16.388 [Server] INFO  com.mygame.server.database.UserDAO - Đã đăng ký user mới: 333 (ID: 12)
2026-01-17 13:23:16.389 [Server] INFO  c.m.server.handlers.RegisterHandler - Đăng ký thành công cho user: 333 (ID: 12)
2026-01-17 13:23:17.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-17 13:23:17.974 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123
2026-01-17 13:23:18.061 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 13:23:18.063 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 2
2026-01-17 13:23:18.063 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 13:23:20.080 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 13:23:22.088 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 13:23:24.096 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-17 13:23:24.268 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 2)
2026-01-17 13:23:35.650 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:52217 (ID: 3)
2026-01-17 13:23:46.522 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-17 13:23:46.522 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123
2026-01-17 13:23:46.630 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 13:23:46.630 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 3
2026-01-17 13:23:46.631 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 13:23:47.079 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-17 13:23:47.079 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-17 13:23:47.081 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 12 players từ leaderboard
2026-01-17 13:23:47.081 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 12 entries trong leaderboard
2026-01-17 13:23:47.081 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 13:23:47.082 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-17 13:23:47.082 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=2, limit=5
2026-01-17 13:23:47.083 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 13:23:47.083 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-17 13:23:47.083 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 13:23:47.085 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 13:23:47.085 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 13:23:48.913 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 13:23:50.922 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 13:23:52.927 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 13:23:54.934 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-17 13:23:56.097 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-17 13:34:23.819 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 13:34:24.086 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 13:34:24.117 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 13:34:24.117 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 13:34:24.117 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 13:34:24.117 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 13:34:24.133 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 13:34:24.133 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 13:34:24.133 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 13:34:24.133 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 13:34:24.133 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 13:34:24.133 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 13:34:24.133 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 13:34:24.133 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 13:34:24.133 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 13:34:24.133 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 13:34:24.149 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 13:34:24.149 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 13:34:24.149 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 13:34:24.149 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 13:34:24.149 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 13:34:24.164 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 13:34:24.164 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 13:34:24.164 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 13:34:24.164 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 13:34:24.164 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 13:34:24.242 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 13:34:24.258 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 13:34:24.274 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 13:34:24.274 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 13:34:24.274 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 13:34:37.431 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:63436 (ID: 1)
2026-01-17 13:34:42.616 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-17 13:34:42.616 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-17 13:34:42.737 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 13:34:42.737 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-17 13:34:42.737 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 13:34:43.185 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-17 13:34:43.190 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-17 13:34:43.196 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 12 players từ leaderboard
2026-01-17 13:34:43.196 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 12 entries trong leaderboard
2026-01-17 13:34:43.199 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:34:43.205 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-17 13:34:43.205 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-17 13:34:43.212 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 13:34:43.212 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 13:34:43.212 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 13:34:43.215 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 13:34:43.220 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 13:34:45.025 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:35:26.731 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:35:28.737 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 13:35:29.850 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-17 14:18:19.874 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-17 14:18:20.104 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-17 14:18:20.136 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-17 14:18:20.136 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-17 14:18:20.136 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-17 14:18:20.136 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-17 14:18:20.151 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-17 14:18:20.152 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-17 14:18:20.152 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-17 14:18:20.153 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-17 14:18:20.153 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-17 14:18:20.154 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-17 14:18:20.154 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-17 14:18:20.154 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-17 14:18:20.155 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-17 14:18:20.158 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-17 14:18:20.158 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-17 14:18:20.158 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-17 14:18:20.159 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-17 14:18:20.159 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-17 14:18:20.170 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-17 14:18:20.179 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-17 14:18:20.180 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-17 14:18:20.181 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-17 14:18:20.181 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-17 14:18:20.181 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-17 14:18:20.253 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-17 14:18:20.266 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-17 14:18:20.273 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-17 14:18:20.273 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-17 14:18:20.273 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-17 14:20:01.765 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:50639 (ID: 1)
2026-01-17 14:20:09.970 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-17 14:20:09.970 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-17 14:20:10.032 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-17 14:20:10.035 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-17 14:20:10.036 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-17 14:20:10.394 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-17 14:20:10.394 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-17 14:20:10.397 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 12 players từ leaderboard
2026-01-17 14:20:10.399 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 12 entries trong leaderboard
2026-01-17 14:20:10.399 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 14:20:10.402 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-17 14:20:10.403 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-17 14:20:10.405 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Đã gửi 0 entries trong match history
2026-01-17 14:20:10.406 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-17 14:20:10.406 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-17 14:20:10.410 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-17
2026-01-17 14:20:10.410 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-17 14:20:12.302 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 14:20:14.308 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 14:20:16.314 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-17 14:21:13.990 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
