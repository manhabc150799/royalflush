2026-01-15 13:18:21.179 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-15 13:18:21.407 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-15 13:18:21.537 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-15 13:18:21.537 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-15 13:18:21.537 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-15 13:18:21.537 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-15 13:18:21.552 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-15 13:18:21.552 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-15 13:18:21.552 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-15 13:18:21.556 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-15 13:18:21.556 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-15 13:18:21.557 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-15 13:18:21.557 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-15 13:18:21.558 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-15 13:18:21.558 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-15 13:18:21.559 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-15 13:18:21.559 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-15 13:18:21.559 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-15 13:18:21.559 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-15 13:18:21.559 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-15 13:18:21.568 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-15 13:18:21.578 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-15 13:18:21.578 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-15 13:18:21.578 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-15 13:18:21.578 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-15 13:18:21.578 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-15 13:18:21.657 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-15 13:18:21.670 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-15 13:18:21.677 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-15 13:18:21.677 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-15 13:18:21.677 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-15 13:18:34.137 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:58324 (ID: 1)
2026-01-15 13:18:37.299 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:58325 (ID: 2)
2026-01-15 13:18:38.460 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:58326 (ID: 3)
2026-01-15 13:18:41.860 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-15 13:18:41.860 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123
2026-01-15 13:18:41.949 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 13:18:41.951 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 3
2026-01-15 13:18:41.952 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 13:18:42.300 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-15 13:18:42.301 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-15 13:18:42.307 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 3 players từ leaderboard
2026-01-15 13:18:42.308 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 3 entries trong leaderboard
2026-01-15 13:18:42.308 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:42.314 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-15 13:18:42.314 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=2, limit=5
2026-01-15 13:18:42.319 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:18:42.319 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:18:42.320 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-15 13:18:42.320 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 13:18:42.324 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 0 quests for user 2 on date 2026-01-15
2026-01-15 13:18:42.327 [Server] INFO  com.mygame.server.database.QuestDAO - Found 5 quests in daily_quest_config
2026-01-15 13:18:42.331 [Server] INFO  com.mygame.server.database.QuestDAO - Assigned 5 daily quests to user 2 (expected: 5)
2026-01-15 13:18:42.332 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 13:18:42.335 [Server] INFO  com.mygame.server.database.QuestDAO - Auto-completed login quest for user 2
2026-01-15 13:18:42.335 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 13:18:42.711 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:43.215 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:43.717 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:44.221 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:44.721 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:45.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:45.727 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:46.230 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:46.730 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:47.233 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:47.736 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:48.239 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:48.739 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:48.946 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-15 13:18:48.947 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123123
2026-01-15 13:18:49.016 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 13:18:49.016 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 2
2026-01-15 13:18:49.016 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 13:18:49.243 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:49.360 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-15 13:18:49.361 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-15 13:18:49.362 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 3 players từ leaderboard
2026-01-15 13:18:49.362 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 3 entries trong leaderboard
2026-01-15 13:18:49.362 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:49.363 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-15 13:18:49.363 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=3, limit=5
2026-01-15 13:18:49.363 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:18:49.363 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:18:49.363 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-15 13:18:49.363 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 13:18:49.364 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 0 quests for user 3 on date 2026-01-15
2026-01-15 13:18:49.365 [Server] INFO  com.mygame.server.database.QuestDAO - Found 5 quests in daily_quest_config
2026-01-15 13:18:49.366 [Server] INFO  com.mygame.server.database.QuestDAO - Assigned 5 daily quests to user 3 (expected: 5)
2026-01-15 13:18:49.367 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 13:18:49.368 [Server] INFO  com.mygame.server.database.QuestDAO - Auto-completed login quest for user 3
2026-01-15 13:18:49.368 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 13:18:49.745 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:49.774 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:50.246 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:50.277 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:50.749 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:50.780 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:51.252 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:51.283 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:51.755 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:51.786 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:52.258 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:52.286 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:52.758 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:52.789 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:53.261 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:53.292 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:53.762 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:53.792 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:54.264 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:54.295 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:54.683 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-15 13:18:54.685 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=manh
2026-01-15 13:18:54.751 [Server] WARN  com.mygame.server.database.UserDAO - Incorrect password for user: manh
2026-01-15 13:18:54.753 [Server] WARN  c.m.server.handlers.LoginHandler - Login thất bại: Incorrect username or password
2026-01-15 13:18:54.767 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:54.795 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:55.268 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:55.299 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:55.771 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:55.802 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:56.274 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:56.303 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:56.774 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:56.805 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:57.277 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:57.308 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:57.779 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:57.811 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:58.283 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:58.314 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:58.786 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:58.817 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:59.286 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:59.317 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:18:59.789 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:18:59.820 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:00.293 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:00.320 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:00.795 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:00.820 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:01.299 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:01.324 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:01.796 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-15 13:19:01.796 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=manh
2026-01-15 13:19:01.864 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: manh
2026-01-15 13:19:01.864 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 1 cho connection 1
2026-01-15 13:19:01.864 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: manh (ID: 1)
2026-01-15 13:19:01.865 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:01.865 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:02.211 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-15 13:19:02.211 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-15 13:19:02.212 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 3 players từ leaderboard
2026-01-15 13:19:02.212 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 3 entries trong leaderboard
2026-01-15 13:19:02.212 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:02.212 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-15 13:19:02.212 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=1, limit=5
2026-01-15 13:19:02.214 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:19:02.214 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:19:02.214 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-15 13:19:02.214 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 1
2026-01-15 13:19:02.215 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 0 quests for user 1 on date 2026-01-15
2026-01-15 13:19:02.216 [Server] INFO  com.mygame.server.database.QuestDAO - Found 5 quests in daily_quest_config
2026-01-15 13:19:02.216 [Server] INFO  com.mygame.server.database.QuestDAO - Assigned 5 daily quests to user 1 (expected: 5)
2026-01-15 13:19:02.217 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 1 on date 2026-01-15
2026-01-15 13:19:02.219 [Server] INFO  com.mygame.server.database.QuestDAO - Auto-completed login quest for user 1
2026-01-15 13:19:02.219 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 1
2026-01-15 13:19:02.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:02.327 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:02.624 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:02.808 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:02.829 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:03.126 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:03.311 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:03.333 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:03.627 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:03.814 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:03.833 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:04.130 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:04.314 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:04.345 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:04.633 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:04.815 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:04.848 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:05.133 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:05.315 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:05.348 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:05.636 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:05.817 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:05.852 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:06.139 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:06.320 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:06.355 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:06.640 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:06.823 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:19:06.858 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:06.903 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: CreateRoomRequest
2026-01-15 13:19:06.912 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 29
2026-01-15 13:19:06.912 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 29)
2026-01-15 13:19:06.916 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 29 (position: 0)
2026-01-15 13:19:06.916 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 29)
2026-01-15 13:19:07.142 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:07.358 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:07.642 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:07.860 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:08.145 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:08.361 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:08.645 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:08.861 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:09.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:09.364 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:09.648 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:09.867 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:10.152 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:10.370 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:10.655 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:10.871 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:11.155 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:11.373 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:11.658 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:11.756 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-15 13:19:11.756 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 29
2026-01-15 13:19:11.756 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 29 (position: 1)
2026-01-15 13:19:11.756 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 29
2026-01-15 13:19:11.876 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:19:12.157 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:12.661 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:13.163 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:13.539 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: JoinRoomRequest
2026-01-15 13:19:13.540 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 1 vào room 29
2026-01-15 13:19:13.541 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 1 vào room 29 (position: 2)
2026-01-15 13:19:13.541 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã tham gia room 29
2026-01-15 13:19:13.664 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:19:15.352 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: StartGameRequest
2026-01-15 13:19:15.352 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 29 by host 2
2026-01-15 13:20:35.327 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-15 13:20:35.329 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 1 khỏi room 29
2026-01-15 13:20:35.329 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 1 khỏi room 29
2026-01-15 13:20:35.329 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã rời room 29 (còn lại 2 players)
2026-01-15 13:20:36.708 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 2)
2026-01-15 13:20:36.712 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 29
2026-01-15 13:20:36.712 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 29
2026-01-15 13:20:36.712 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 29 (còn lại 1 players)
2026-01-15 13:20:38.226 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-15 13:20:38.227 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 29
2026-01-15 13:20:38.227 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 29
2026-01-15 13:20:38.228 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 29
2026-01-15 13:20:38.228 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 29
2026-01-15 13:20:38.228 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 29 (còn lại 0 players)
2026-01-15 13:45:16.422 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-15 13:45:16.603 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-15 13:45:16.634 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-15 13:45:16.634 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-15 13:45:16.634 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-15 13:45:16.634 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-15 13:45:16.641 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-15 13:45:16.641 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-15 13:45:16.642 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-15 13:45:16.642 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-15 13:45:16.643 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-15 13:45:16.643 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-15 13:45:16.643 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-15 13:45:16.643 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-15 13:45:16.645 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-15 13:45:16.645 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-15 13:45:16.645 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-15 13:45:16.645 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-15 13:45:16.645 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-15 13:45:16.646 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-15 13:45:16.648 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-15 13:45:16.652 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-15 13:45:16.653 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-15 13:45:16.653 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-15 13:45:16.653 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-15 13:45:16.653 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-15 13:45:16.721 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-15 13:45:16.734 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-15 13:45:16.742 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-15 13:45:16.742 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-15 13:45:16.742 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-15 13:45:33.186 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:59772 (ID: 1)
2026-01-15 13:45:34.269 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:59774 (ID: 2)
2026-01-15 13:45:36.532 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:59775 (ID: 3)
2026-01-15 13:45:58.034 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-15 13:45:58.034 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-15 13:45:58.112 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 13:45:58.114 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-15 13:45:58.114 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 13:45:58.462 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-15 13:45:58.462 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-15 13:45:58.465 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 3 players từ leaderboard
2026-01-15 13:45:58.466 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 3 entries trong leaderboard
2026-01-15 13:45:58.466 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:45:58.469 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-15 13:45:58.470 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-15 13:45:58.472 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:45:58.473 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:45:58.473 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-15 13:45:58.475 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 13:45:58.478 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 13:45:58.480 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 13:45:58.873 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:45:59.373 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:45:59.876 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:00.379 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:00.882 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:01.384 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:01.589 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-15 13:46:01.589 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123123
2026-01-15 13:46:01.657 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 13:46:01.658 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 2
2026-01-15 13:46:01.658 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 13:46:01.889 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:02.024 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-15 13:46:02.026 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-15 13:46:02.027 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 3 players từ leaderboard
2026-01-15 13:46:02.027 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 3 entries trong leaderboard
2026-01-15 13:46:02.027 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:02.028 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-15 13:46:02.028 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=3, limit=5
2026-01-15 13:46:02.028 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:46:02.028 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:46:02.028 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-15 13:46:02.028 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 13:46:02.029 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 13:46:02.030 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 13:46:02.388 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:02.416 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:02.891 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:02.919 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:03.394 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:03.423 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:03.898 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:03.923 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:04.401 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:04.426 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:04.904 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:04.925 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:05.407 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:05.429 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:05.910 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:05.932 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:06.110 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-15 13:46:06.111 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=manh
2026-01-15 13:46:06.185 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: manh
2026-01-15 13:46:06.185 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 1 cho connection 3
2026-01-15 13:46:06.185 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: manh (ID: 1)
2026-01-15 13:46:06.413 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:06.432 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:06.534 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-15 13:46:06.534 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-15 13:46:06.534 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 3 players từ leaderboard
2026-01-15 13:46:06.535 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 3 entries trong leaderboard
2026-01-15 13:46:06.535 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:06.535 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-15 13:46:06.535 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=1, limit=5
2026-01-15 13:46:06.536 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:46:06.536 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 13:46:06.536 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-15 13:46:06.536 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 1
2026-01-15 13:46:06.537 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 1 on date 2026-01-15
2026-01-15 13:46:06.537 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 1
2026-01-15 13:46:06.913 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:06.935 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:06.945 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:07.413 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:07.435 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:07.448 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:07.916 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:07.935 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:07.950 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:08.416 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:08.438 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:08.454 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:08.919 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:08.938 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:08.957 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:09.189 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: CreateRoomRequest
2026-01-15 13:46:09.196 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 30
2026-01-15 13:46:09.196 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 30)
2026-01-15 13:46:09.200 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 30 (position: 0)
2026-01-15 13:46:09.201 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 30)
2026-01-15 13:46:09.419 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 13:46:09.441 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:09.460 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:09.944 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:09.960 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:10.448 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:10.463 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:10.947 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:10.963 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:11.451 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 13:46:11.463 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:11.526 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-15 13:46:11.528 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 30
2026-01-15 13:46:11.528 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 30 (position: 1)
2026-01-15 13:46:11.528 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 30
2026-01-15 13:46:11.966 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:12.467 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:12.969 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 13:46:13.094 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-15 13:46:13.096 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 1 vào room 30
2026-01-15 13:46:13.096 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 1 vào room 30 (position: 2)
2026-01-15 13:46:13.096 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã tham gia room 30
2026-01-15 13:46:17.480 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-15 13:46:17.480 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 30 by host 2
2026-01-15 13:47:06.025 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-15 13:47:06.025 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 30
2026-01-15 13:47:06.026 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 30
2026-01-15 13:47:06.027 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 30 thành user 3
2026-01-15 13:47:06.027 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 30 từ 2 sang 3
2026-01-15 13:47:06.027 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 30 (còn lại 2 players)
2026-01-15 13:47:08.657 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 2)
2026-01-15 13:47:08.658 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 30
2026-01-15 13:47:08.658 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 30
2026-01-15 13:47:08.658 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 30 thành user 1
2026-01-15 13:47:08.658 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 30 từ 3 sang 1
2026-01-15 13:47:08.658 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 30 (còn lại 1 players)
2026-01-15 13:47:09.685 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-15 13:47:09.686 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 1 khỏi room 30
2026-01-15 13:47:09.686 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 1 khỏi room 30
2026-01-15 13:47:09.687 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 30
2026-01-15 13:47:09.687 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 30
2026-01-15 13:47:09.687 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã rời room 30 (còn lại 0 players)
2026-01-15 19:36:18.676 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-15 19:36:18.922 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-15 19:36:18.963 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-15 19:36:18.963 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-15 19:36:18.963 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-15 19:36:18.963 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-15 19:36:18.978 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-15 19:36:18.980 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-15 19:36:18.981 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-15 19:36:18.981 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-15 19:36:18.982 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-15 19:36:18.982 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-15 19:36:18.983 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-15 19:36:18.983 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-15 19:36:18.983 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-15 19:36:18.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-15 19:36:18.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-15 19:36:18.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-15 19:36:18.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-15 19:36:18.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-15 19:36:18.992 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-15 19:36:19.003 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-15 19:36:19.003 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-15 19:36:19.003 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-15 19:36:19.003 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-15 19:36:19.003 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-15 19:36:19.064 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-15 19:36:19.072 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-15 19:36:19.083 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-15 19:36:19.083 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-15 19:36:19.083 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-15 19:36:35.793 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:53882 (ID: 1)
2026-01-15 19:36:39.856 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:53883 (ID: 2)
2026-01-15 19:36:40.809 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:53884 (ID: 3)
2026-01-15 19:36:42.641 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-15 19:36:42.641 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-15 19:36:42.730 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 19:36:42.734 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-15 19:36:42.734 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 19:36:43.088 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-15 19:36:43.088 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-15 19:36:43.093 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 3 players từ leaderboard
2026-01-15 19:36:43.093 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 3 entries trong leaderboard
2026-01-15 19:36:43.095 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:43.100 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-15 19:36:43.101 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-15 19:36:43.104 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:36:43.105 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:36:43.106 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-15 19:36:43.106 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 19:36:43.110 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 19:36:43.111 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 19:36:43.493 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:43.996 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:44.500 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:45.003 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:45.502 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:46.006 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:46.509 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:46.628 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-15 19:36:46.629 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123123
2026-01-15 19:36:46.693 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 19:36:46.693 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 2
2026-01-15 19:36:46.693 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 19:36:47.009 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:47.038 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-15 19:36:47.039 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-15 19:36:47.040 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 3 players từ leaderboard
2026-01-15 19:36:47.041 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 3 entries trong leaderboard
2026-01-15 19:36:47.041 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:47.041 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-15 19:36:47.041 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=3, limit=5
2026-01-15 19:36:47.042 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:36:47.042 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:36:47.042 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-15 19:36:47.042 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 19:36:47.042 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 19:36:47.044 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 19:36:47.452 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:47.509 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:47.956 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:48.012 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:48.455 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:48.512 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:48.955 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:49.012 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:49.459 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:49.514 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:49.953 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:50.012 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:50.459 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:50.521 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:50.962 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:51.021 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:51.419 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-15 19:36:51.419 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=manh
2026-01-15 19:36:51.487 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: manh
2026-01-15 19:36:51.487 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 1 cho connection 3
2026-01-15 19:36:51.487 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: manh (ID: 1)
2026-01-15 19:36:51.487 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:51.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:51.836 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-15 19:36:51.836 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-15 19:36:51.837 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 3 players từ leaderboard
2026-01-15 19:36:51.837 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 3 entries trong leaderboard
2026-01-15 19:36:51.837 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:51.838 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-15 19:36:51.838 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=1, limit=5
2026-01-15 19:36:51.838 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:36:51.839 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:36:51.839 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-15 19:36:51.839 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 1
2026-01-15 19:36:51.840 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 1 on date 2026-01-15
2026-01-15 19:36:51.841 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 1
2026-01-15 19:36:51.968 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:52.027 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:52.249 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:52.471 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:52.530 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:52.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:52.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:53.033 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:53.252 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:53.474 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:53.534 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:53.753 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:53.978 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:54.037 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:54.255 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:54.480 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:54.537 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:54.759 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:54.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:55.040 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:55.259 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:55.431 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: CreateRoomRequest
2026-01-15 19:36:55.451 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 31
2026-01-15 19:36:55.451 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 31)
2026-01-15 19:36:55.456 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 31 (position: 0)
2026-01-15 19:36:55.456 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 31)
2026-01-15 19:36:55.487 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:55.541 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 19:36:55.758 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:55.988 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:56.259 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:56.493 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:56.761 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:56.996 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:57.262 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:57.496 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:57.766 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:57.881 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-15 19:36:57.884 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 31
2026-01-15 19:36:57.884 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 31 (position: 1)
2026-01-15 19:36:57.884 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 31
2026-01-15 19:36:57.996 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 19:36:58.268 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:58.771 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:59.274 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 19:36:59.458 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-15 19:36:59.463 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 1 vào room 31
2026-01-15 19:36:59.463 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 1 vào room 31 (position: 2)
2026-01-15 19:36:59.463 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã tham gia room 31
2026-01-15 19:37:01.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-15 19:37:01.994 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 31 by host 2
2026-01-15 19:37:38.659 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-15 19:37:38.660 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 31
2026-01-15 19:37:38.660 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 31
2026-01-15 19:37:38.661 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 31 thành user 3
2026-01-15 19:37:38.661 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 31 từ 2 sang 3
2026-01-15 19:37:38.661 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 31 (còn lại 2 players)
2026-01-15 19:37:39.691 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 2)
2026-01-15 19:37:39.693 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 31
2026-01-15 19:37:39.693 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 31
2026-01-15 19:37:39.694 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 31 thành user 1
2026-01-15 19:37:39.694 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 31 từ 3 sang 1
2026-01-15 19:37:39.694 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 31 (còn lại 1 players)
2026-01-15 19:37:43.009 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-15 19:37:43.010 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 1 khỏi room 31
2026-01-15 19:37:43.010 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 1 khỏi room 31
2026-01-15 19:37:43.012 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 31
2026-01-15 19:37:43.012 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 31
2026-01-15 19:37:43.012 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã rời room 31 (còn lại 0 players)
2026-01-15 19:43:14.496 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:65303 (ID: 4)
2026-01-15 19:43:23.509 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:65315 (ID: 5)
2026-01-15 19:43:26.578 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:65316 (ID: 6)
2026-01-15 19:43:29.972 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LoginRequest
2026-01-15 19:43:29.972 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 4: username=123
2026-01-15 19:43:30.037 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 19:43:30.037 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 4
2026-01-15 19:43:30.037 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 19:43:30.382 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaderboardRequest
2026-01-15 19:43:30.382 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 4: limit=50
2026-01-15 19:43:30.382 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 3 players từ leaderboard
2026-01-15 19:43:30.382 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 3 entries trong leaderboard
2026-01-15 19:43:30.382 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:30.382 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: MatchHistoryRequest
2026-01-15 19:43:30.382 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 4: userId=2, limit=5
2026-01-15 19:43:30.390 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:43:30.390 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:43:30.391 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: GetQuestsRequest
2026-01-15 19:43:30.391 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 19:43:30.391 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 19:43:30.392 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 19:43:30.805 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:31.311 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:31.812 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:32.315 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:32.815 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:33.321 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:33.726 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LoginRequest
2026-01-15 19:43:33.726 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 5: username=123123
2026-01-15 19:43:33.792 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 19:43:33.792 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 5
2026-01-15 19:43:33.792 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 19:43:33.823 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:34.145 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LeaderboardRequest
2026-01-15 19:43:34.145 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 5: limit=50
2026-01-15 19:43:34.147 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 3 players từ leaderboard
2026-01-15 19:43:34.147 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 3 entries trong leaderboard
2026-01-15 19:43:34.147 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:34.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: MatchHistoryRequest
2026-01-15 19:43:34.148 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 5: userId=3, limit=5
2026-01-15 19:43:34.148 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:43:34.148 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:43:34.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: GetQuestsRequest
2026-01-15 19:43:34.148 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 19:43:34.150 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 19:43:34.150 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 19:43:34.326 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:34.557 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:34.826 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:35.061 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:35.330 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:35.562 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:35.834 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:36.062 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:36.332 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:36.562 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:36.831 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:37.062 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:37.341 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:37.570 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:37.842 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:38.071 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:38.341 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:38.572 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:38.851 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:39.071 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:39.355 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:39.580 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:39.855 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:40.082 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:40.358 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:40.586 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:40.861 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:41.086 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:41.361 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:41.589 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:41.864 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:42.089 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:42.367 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:42.592 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:42.867 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:43.095 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:43.370 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:43.595 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:43.873 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:44.098 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:44.377 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:44.599 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:44.877 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:45.099 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:45.380 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:45.598 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:45.883 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:46.102 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:46.386 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:46.601 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:46.737 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: RegisterRequest
2026-01-15 19:43:46.737 [Server] INFO  c.m.server.handlers.RegisterHandler - Nhận register request từ connection 6: username=123123123
2026-01-15 19:43:46.806 [Server] INFO  com.mygame.server.database.UserDAO - Đã đăng ký user mới: 123123123 (ID: 4)
2026-01-15 19:43:46.807 [Server] INFO  c.m.server.handlers.RegisterHandler - Đăng ký thành công cho user: 123123123 (ID: 4)
2026-01-15 19:43:46.886 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:47.105 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:47.382 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:47.601 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:47.889 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:48.108 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:48.392 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:48.611 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:48.895 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:49.114 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:49.395 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:49.617 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:49.898 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:50.120 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:50.401 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:50.620 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:50.905 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:51.122 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:51.326 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LoginRequest
2026-01-15 19:43:51.326 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 6: username=123123123
2026-01-15 19:43:51.393 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 19:43:51.394 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 6
2026-01-15 19:43:51.394 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 19:43:51.407 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:51.623 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:51.739 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LeaderboardRequest
2026-01-15 19:43:51.739 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 6: limit=50
2026-01-15 19:43:51.740 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 19:43:51.740 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 19:43:51.740 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:51.740 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: MatchHistoryRequest
2026-01-15 19:43:51.740 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 6: userId=4, limit=5
2026-01-15 19:43:51.741 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:43:51.741 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:43:51.741 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: GetQuestsRequest
2026-01-15 19:43:51.741 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 19:43:51.742 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 0 quests for user 4 on date 2026-01-15
2026-01-15 19:43:51.742 [Server] INFO  com.mygame.server.database.QuestDAO - Found 5 quests in daily_quest_config
2026-01-15 19:43:51.744 [Server] INFO  com.mygame.server.database.QuestDAO - Assigned 5 daily quests to user 4 (expected: 5)
2026-01-15 19:43:51.746 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 19:43:51.747 [Server] INFO  com.mygame.server.database.QuestDAO - Auto-completed login quest for user 4
2026-01-15 19:43:51.747 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 19:43:51.910 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:52.126 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:52.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:52.414 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:52.630 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:52.651 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:52.914 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:53.133 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:53.154 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:53.417 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:53.635 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:53.655 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:53.917 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:54.138 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:54.155 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:54.417 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:54.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ClaimQuestRequest
2026-01-15 19:43:54.526 [Server] INFO  com.mygame.server.database.QuestDAO - User 4 claimed quest 1 reward: 20000 credits
2026-01-15 19:43:54.527 [Server] INFO  c.m.server.handlers.QuestHandler - User 4 claimed quest 1 reward: 20000 credits
2026-01-15 19:43:54.530 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: GetQuestsRequest
2026-01-15 19:43:54.530 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 19:43:54.531 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 19:43:54.532 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 19:43:54.642 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:54.654 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:54.917 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:55.142 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:55.158 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:55.420 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:55.645 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:55.660 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:55.923 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:56.145 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:56.161 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:56.426 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:56.645 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:56.662 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:56.926 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:57.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:57.163 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:57.426 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:57.651 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:57.667 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:57.930 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:58.154 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:58.170 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:58.433 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:58.654 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:58.670 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:58.936 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:59.158 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:59.173 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:59.435 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:43:59.658 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:43:59.674 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:43:59.939 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:00.159 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:00.176 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:00.442 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:00.661 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:00.676 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:00.945 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:01.164 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:01.179 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:01.448 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:01.664 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:01.679 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:01.952 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:02.167 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:02.182 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:02.454 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:02.679 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:02.683 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:02.957 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:03.179 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:03.182 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:03.458 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:03.682 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:03.685 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:03.960 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:04.182 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:04.186 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:04.464 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:04.685 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:04.688 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:04.967 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:05.185 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:05.191 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:05.467 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:05.685 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:05.695 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:05.967 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:06.188 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:06.195 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:06.470 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:06.692 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:06.698 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:06.973 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:07.195 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:07.202 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:07.477 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:07.698 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:07.704 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:07.979 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:08.198 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:08.204 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:08.482 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:08.701 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:08.707 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:08.982 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:09.201 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:09.211 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:09.485 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:09.704 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:09.714 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:09.988 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:10.162 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:65322 (ID: 7)
2026-01-15 19:44:10.204 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:10.214 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:10.489 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:10.707 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:10.717 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:10.992 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:11.207 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:11.219 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:11.492 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:11.711 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:11.720 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:11.995 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:12.210 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:12.222 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:12.498 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:12.714 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:12.726 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:13.001 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:13.216 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:13.226 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:13.501 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:13.717 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:13.729 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:14.002 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:14.220 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:14.229 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:14.504 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:14.720 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:14.732 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:15.007 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:15.223 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:15.233 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:15.380 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: LoginRequest
2026-01-15 19:44:15.380 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 7: username=manh
2026-01-15 19:44:15.447 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: manh
2026-01-15 19:44:15.449 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 1 cho connection 7
2026-01-15 19:44:15.449 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: manh (ID: 1)
2026-01-15 19:44:15.510 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:15.725 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:15.732 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:15.794 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: LeaderboardRequest
2026-01-15 19:44:15.794 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 7: limit=50
2026-01-15 19:44:15.795 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 19:44:15.795 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 19:44:15.795 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:15.795 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: MatchHistoryRequest
2026-01-15 19:44:15.795 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 7: userId=1, limit=5
2026-01-15 19:44:15.796 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:44:15.796 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:44:15.796 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: GetQuestsRequest
2026-01-15 19:44:15.796 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 1
2026-01-15 19:44:15.797 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 1 on date 2026-01-15
2026-01-15 19:44:15.797 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 1
2026-01-15 19:44:16.010 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:16.207 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:16.229 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:16.236 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:16.511 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:16.707 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:16.732 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:16.738 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:17.013 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:17.210 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:17.232 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:17.238 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:17.517 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:17.713 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:17.735 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:17.742 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:18.020 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:18.212 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:18.235 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:18.245 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:18.523 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:18.716 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:18.738 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:18.748 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:19.023 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:19.220 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:19.242 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:19.251 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:19.526 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:19.720 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:19.742 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:19.754 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:20.029 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:20.223 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:20.245 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:20.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:20.461 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: CreateRoomRequest
2026-01-15 19:44:20.463 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 32
2026-01-15 19:44:20.463 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 32)
2026-01-15 19:44:20.463 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 32 (position: 0)
2026-01-15 19:44:20.463 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 32)
2026-01-15 19:44:20.529 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 19:44:20.722 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:20.744 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:20.754 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:21.225 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:21.245 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:21.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:21.729 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:21.748 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:21.757 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:22.228 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:22.248 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:22.257 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:22.607 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: JoinRoomRequest
2026-01-15 19:44:22.609 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 32
2026-01-15 19:44:22.609 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 32 (position: 1)
2026-01-15 19:44:22.609 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 32
2026-01-15 19:44:22.732 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:22.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 19:44:22.760 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:23.235 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:23.260 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:23.735 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:23.761 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 19:44:23.886 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: JoinRoomRequest
2026-01-15 19:44:23.887 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 32
2026-01-15 19:44:23.887 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 32 (position: 2)
2026-01-15 19:44:23.887 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 32
2026-01-15 19:44:24.235 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:24.737 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:25.226 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: JoinRoomRequest
2026-01-15 19:44:25.226 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 1 vào room 32
2026-01-15 19:44:25.226 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 1 vào room 32 (position: 3)
2026-01-15 19:44:25.226 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã tham gia room 32
2026-01-15 19:44:25.238 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 19:44:27.935 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: StartGameRequest
2026-01-15 19:44:27.935 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 32 by host 2
2026-01-15 19:48:26.296 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 4)
2026-01-15 19:48:26.298 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 32
2026-01-15 19:48:26.298 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 32
2026-01-15 19:48:26.298 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 32 thành user 3
2026-01-15 19:48:26.298 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 32 từ 2 sang 3
2026-01-15 19:48:26.298 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 32 (còn lại 3 players)
2026-01-15 19:48:27.311 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 5)
2026-01-15 19:48:27.312 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 32
2026-01-15 19:48:27.312 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 32
2026-01-15 19:48:27.312 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 32 thành user 4
2026-01-15 19:48:27.312 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 32 từ 3 sang 4
2026-01-15 19:48:27.312 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 32 (còn lại 2 players)
2026-01-15 19:48:28.210 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 6)
2026-01-15 19:48:28.212 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 32
2026-01-15 19:48:28.212 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 32
2026-01-15 19:48:28.212 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 32 thành user 1
2026-01-15 19:48:28.212 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 32 từ 4 sang 1
2026-01-15 19:48:28.212 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 32 (còn lại 1 players)
2026-01-15 19:48:29.877 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 7)
2026-01-15 19:48:29.881 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 1 khỏi room 32
2026-01-15 19:48:29.881 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 1 khỏi room 32
2026-01-15 19:48:29.881 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 32
2026-01-15 19:48:29.881 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 32
2026-01-15 19:48:29.881 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã rời room 32 (còn lại 0 players)
2026-01-15 19:56:21.497 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:64196 (ID: 8)
2026-01-15 19:56:30.246 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:64210 (ID: 9)
2026-01-15 19:56:34.580 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:64211 (ID: 10)
2026-01-15 19:56:35.018 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:64212 (ID: 11)
2026-01-15 19:56:39.242 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: LoginRequest
2026-01-15 19:56:39.242 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 11: username=123123123
2026-01-15 19:56:39.312 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 19:56:39.313 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 11
2026-01-15 19:56:39.313 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 19:56:39.662 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: LeaderboardRequest
2026-01-15 19:56:39.662 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 11: limit=50
2026-01-15 19:56:39.662 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 19:56:39.662 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 19:56:39.662 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:39.663 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: MatchHistoryRequest
2026-01-15 19:56:39.663 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 11: userId=4, limit=5
2026-01-15 19:56:39.663 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:56:39.664 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:56:39.664 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: GetQuestsRequest
2026-01-15 19:56:39.664 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 19:56:39.664 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 19:56:39.664 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 19:56:40.072 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:40.573 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:41.073 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:41.573 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:42.081 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:42.581 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:43.082 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:43.583 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:44.088 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:44.591 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:44.702 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: LoginRequest
2026-01-15 19:56:44.702 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 9: username=123
2026-01-15 19:56:44.764 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 19:56:44.768 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 9
2026-01-15 19:56:44.768 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 19:56:45.093 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:45.112 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: LeaderboardRequest
2026-01-15 19:56:45.112 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 9: limit=50
2026-01-15 19:56:45.112 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 19:56:45.112 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 19:56:45.112 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:45.113 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: MatchHistoryRequest
2026-01-15 19:56:45.113 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 9: userId=2, limit=5
2026-01-15 19:56:45.113 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:56:45.113 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:56:45.114 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: GetQuestsRequest
2026-01-15 19:56:45.114 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 19:56:45.114 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 19:56:45.114 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 19:56:45.523 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:45.595 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:46.031 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:46.096 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:46.532 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:46.601 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:47.035 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:47.101 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:47.534 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:47.602 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:48.036 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:48.107 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:48.538 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:48.602 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:49.042 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:49.108 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:49.368 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: LoginRequest
2026-01-15 19:56:49.368 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 10: username=1231231
2026-01-15 19:56:49.368 [Server] WARN  com.mygame.server.database.UserDAO - User not found: 1231231
2026-01-15 19:56:49.368 [Server] WARN  c.m.server.handlers.LoginHandler - Login thất bại: Incorrect username or password
2026-01-15 19:56:49.541 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:49.606 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:50.043 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:50.113 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:50.545 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:50.612 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:51.051 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:51.113 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:51.522 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: LoginRequest
2026-01-15 19:56:51.522 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 10: username=123123
2026-01-15 19:56:51.592 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 19:56:51.592 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 10
2026-01-15 19:56:51.592 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 19:56:51.592 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:51.612 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:51.943 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: LeaderboardRequest
2026-01-15 19:56:51.943 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 10: limit=50
2026-01-15 19:56:51.943 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 19:56:51.943 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 19:56:51.943 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:51.943 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: MatchHistoryRequest
2026-01-15 19:56:51.943 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 10: userId=3, limit=5
2026-01-15 19:56:51.946 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:56:51.946 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:56:51.946 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: GetQuestsRequest
2026-01-15 19:56:51.946 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 19:56:51.946 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 19:56:51.946 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 19:56:52.053 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:52.113 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:52.354 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:52.554 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:52.613 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:52.852 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:53.057 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:53.117 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:53.359 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:53.560 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:53.622 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:53.863 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:54.062 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:54.126 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:54.362 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:54.563 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:54.626 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:54.863 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:55.062 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:55.123 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:55.367 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:55.567 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:55.628 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:55.872 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:56.064 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:56.132 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:56.372 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:56.562 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:56.631 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:56.875 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:57.068 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:57.135 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:57.377 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:57.567 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:57.632 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:57.881 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:58.073 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:58.133 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:58.381 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:58.575 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:58.638 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:58.885 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:59.075 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:59.141 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:59.387 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:56:59.581 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:56:59.644 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:56:59.891 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:00.082 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:00.143 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:00.393 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:00.583 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:00.645 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:00.895 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:01.082 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:01.151 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:01.393 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:01.591 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:01.650 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:01.892 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:02.093 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:02.153 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:02.393 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:02.597 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:02.653 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:02.897 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:03.092 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:03.152 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:03.203 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: LoginRequest
2026-01-15 19:57:03.203 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 8: username=manh
2026-01-15 19:57:03.271 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: manh
2026-01-15 19:57:03.272 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 1 cho connection 8
2026-01-15 19:57:03.272 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: manh (ID: 1)
2026-01-15 19:57:03.393 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:03.602 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:03.620 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: LeaderboardRequest
2026-01-15 19:57:03.620 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 8: limit=50
2026-01-15 19:57:03.622 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 19:57:03.622 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 19:57:03.622 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:03.622 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: MatchHistoryRequest
2026-01-15 19:57:03.622 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 8: userId=1, limit=5
2026-01-15 19:57:03.622 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:57:03.622 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 19:57:03.622 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: GetQuestsRequest
2026-01-15 19:57:03.622 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 1
2026-01-15 19:57:03.622 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 1 on date 2026-01-15
2026-01-15 19:57:03.622 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 1
2026-01-15 19:57:03.653 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:03.901 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:04.032 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:04.107 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:04.157 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:04.403 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:04.533 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:04.604 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:04.662 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:04.902 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:05.035 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:05.108 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:05.163 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:05.403 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:05.533 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:05.610 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:05.663 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:05.903 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:06.032 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:06.113 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:06.162 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:06.407 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:06.541 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:06.613 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:06.666 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:06.909 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:07.041 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:07.113 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:07.172 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:07.413 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:07.544 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:07.616 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:07.672 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:07.913 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:08.044 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:08.119 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:08.175 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:08.416 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:08.544 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:08.619 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:08.675 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:08.912 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:09.042 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:09.122 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:09.178 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:09.293 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: CreateRoomRequest
2026-01-15 19:57:09.296 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 1 vào room 33
2026-01-15 19:57:09.296 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 33)
2026-01-15 19:57:09.296 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 1 vào room 33 (position: 0)
2026-01-15 19:57:09.296 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 33)
2026-01-15 19:57:09.419 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:09.543 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 19:57:09.623 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:09.673 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:09.922 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:10.125 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:10.178 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:10.422 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:10.625 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:10.674 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:10.922 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:11.125 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:11.181 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:11.423 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:11.622 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:11.682 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:11.928 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:12.132 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:12.182 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:12.432 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:12.633 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 19:57:12.684 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:12.833 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: JoinRoomRequest
2026-01-15 19:57:12.833 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 33
2026-01-15 19:57:12.833 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 33 (position: 1)
2026-01-15 19:57:12.833 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 33
2026-01-15 19:57:12.933 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:13.186 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:13.435 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:13.691 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:13.933 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:14.193 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:14.329 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: JoinRoomRequest
2026-01-15 19:57:14.329 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 33
2026-01-15 19:57:14.329 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 33 (position: 2)
2026-01-15 19:57:14.329 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 33
2026-01-15 19:57:14.433 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 10: ListRoomsRequest
2026-01-15 19:57:14.693 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:15.193 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:15.697 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:16.197 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:16.700 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:17.203 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: ListRoomsRequest
2026-01-15 19:57:17.334 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 11: JoinRoomRequest
2026-01-15 19:57:17.335 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 33
2026-01-15 19:57:17.335 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 33 (position: 3)
2026-01-15 19:57:17.335 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 33
2026-01-15 19:57:20.315 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: StartGameRequest
2026-01-15 19:57:20.317 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 33 by host 1
2026-01-15 19:58:11.453 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 8)
2026-01-15 19:58:11.453 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 1 khỏi room 33
2026-01-15 19:58:11.453 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 1 khỏi room 33
2026-01-15 19:58:11.453 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 33 thành user 2
2026-01-15 19:58:11.453 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 33 từ 1 sang 2
2026-01-15 19:58:11.453 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã rời room 33 (còn lại 3 players)
2026-01-15 19:58:12.475 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 9)
2026-01-15 19:58:12.479 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 33
2026-01-15 19:58:12.479 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 33
2026-01-15 19:58:12.480 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 33 thành user 3
2026-01-15 19:58:12.480 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 33 từ 2 sang 3
2026-01-15 19:58:12.480 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 33 (còn lại 2 players)
2026-01-15 19:58:13.478 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 10)
2026-01-15 19:58:13.478 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 33
2026-01-15 19:58:13.478 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 33
2026-01-15 19:58:13.478 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 33 thành user 4
2026-01-15 19:58:13.478 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 33 từ 3 sang 4
2026-01-15 19:58:13.478 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 33 (còn lại 1 players)
2026-01-15 19:58:14.518 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 11)
2026-01-15 19:58:14.519 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 33
2026-01-15 19:58:14.519 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 33
2026-01-15 19:58:14.520 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 33
2026-01-15 19:58:14.520 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 33
2026-01-15 19:58:14.520 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 33 (còn lại 0 players)
2026-01-15 20:08:12.908 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62113 (ID: 12)
2026-01-15 20:08:29.295 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62131 (ID: 13)
2026-01-15 20:08:30.296 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62133 (ID: 14)
2026-01-15 20:08:32.005 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62136 (ID: 15)
2026-01-15 20:08:33.949 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62137 (ID: 16)
2026-01-15 20:08:44.805 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 16)
2026-01-15 20:08:52.569 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: LoginRequest
2026-01-15 20:08:52.569 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 15: username=123
2026-01-15 20:08:52.616 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 20:08:52.620 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 15
2026-01-15 20:08:52.620 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 20:08:52.964 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: LeaderboardRequest
2026-01-15 20:08:52.964 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 15: limit=50
2026-01-15 20:08:52.964 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:08:52.971 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:08:52.971 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:52.971 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: MatchHistoryRequest
2026-01-15 20:08:52.971 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 15: userId=2, limit=5
2026-01-15 20:08:52.971 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:08:52.971 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:08:52.971 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: GetQuestsRequest
2026-01-15 20:08:52.972 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 20:08:52.972 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 20:08:52.973 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 20:08:53.378 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:53.882 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:54.383 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:54.887 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:55.391 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:55.894 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:56.398 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:56.855 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: LoginRequest
2026-01-15 20:08:56.855 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 14: username=123123
2026-01-15 20:08:56.906 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 20:08:56.906 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 14
2026-01-15 20:08:56.906 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 20:08:56.906 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:57.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: LeaderboardRequest
2026-01-15 20:08:57.256 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 14: limit=50
2026-01-15 20:08:57.256 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:08:57.256 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:08:57.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:08:57.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: MatchHistoryRequest
2026-01-15 20:08:57.256 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 14: userId=3, limit=5
2026-01-15 20:08:57.256 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:08:57.256 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:08:57.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: GetQuestsRequest
2026-01-15 20:08:57.256 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 20:08:57.256 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 20:08:57.256 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 20:08:57.394 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:57.664 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:08:57.901 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:58.182 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:08:58.401 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:58.684 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:08:58.903 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:59.185 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:08:59.407 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:08:59.684 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:08:59.907 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:00.185 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:00.403 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:00.691 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:00.904 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:01.191 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:01.408 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:01.694 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:01.893 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: LoginRequest
2026-01-15 20:09:01.893 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 13: username=123123123
2026-01-15 20:09:01.946 [Server] WARN  com.mygame.server.database.UserDAO - Incorrect password for user: 123123123
2026-01-15 20:09:01.946 [Server] WARN  c.m.server.handlers.LoginHandler - Login thất bại: Incorrect username or password
2026-01-15 20:09:01.946 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:02.193 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:02.413 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:02.701 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:02.913 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:03.203 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:03.413 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:03.707 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:03.920 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:04.203 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:04.417 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:04.710 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:04.922 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:05.213 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:05.422 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:05.713 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:05.923 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:06.214 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:06.427 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:06.713 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:06.924 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:07.216 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:07.435 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:07.722 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:07.933 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:08.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:08.434 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: LoginRequest
2026-01-15 20:09:08.434 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 13: username=123123123
2026-01-15 20:09:08.486 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 20:09:08.486 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 13
2026-01-15 20:09:08.486 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 20:09:08.486 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:08.729 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:08.832 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: LeaderboardRequest
2026-01-15 20:09:08.832 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 13: limit=50
2026-01-15 20:09:08.832 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:09:08.832 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:09:08.832 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:08.832 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: MatchHistoryRequest
2026-01-15 20:09:08.833 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 13: userId=4, limit=5
2026-01-15 20:09:08.833 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:09:08.833 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:09:08.833 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: GetQuestsRequest
2026-01-15 20:09:08.833 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 20:09:08.833 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 20:09:08.833 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 20:09:08.941 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:09.232 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:09.244 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:09.441 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:09.734 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:09.743 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:09.944 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:10.238 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:10.248 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:10.444 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:10.737 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:10.748 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:10.943 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:11.241 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:11.250 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:11.447 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:11.744 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:11.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:11.948 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:12.245 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:12.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:12.453 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:12.744 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:12.753 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:12.957 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:13.251 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:13.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:13.453 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:13.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:13.753 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:13.957 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:14.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:14.260 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:14.458 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:14.757 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:14.763 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:14.963 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:14.964 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: LoginRequest
2026-01-15 20:09:14.964 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 12: username=manh
2026-01-15 20:09:15.015 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: manh
2026-01-15 20:09:15.015 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 1 cho connection 12
2026-01-15 20:09:15.015 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: manh (ID: 1)
2026-01-15 20:09:15.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:15.264 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:15.363 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: LeaderboardRequest
2026-01-15 20:09:15.363 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 12: limit=50
2026-01-15 20:09:15.363 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:09:15.363 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:09:15.364 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: ListRoomsRequest
2026-01-15 20:09:15.364 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: MatchHistoryRequest
2026-01-15 20:09:15.364 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 12: userId=1, limit=5
2026-01-15 20:09:15.364 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:09:15.364 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:09:15.364 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: GetQuestsRequest
2026-01-15 20:09:15.364 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 1
2026-01-15 20:09:15.365 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 1 on date 2026-01-15
2026-01-15 20:09:15.365 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 1
2026-01-15 20:09:15.463 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:15.757 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:15.766 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:15.772 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: ListRoomsRequest
2026-01-15 20:09:15.964 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:16.253 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:16.264 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:16.273 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: ListRoomsRequest
2026-01-15 20:09:16.467 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:16.758 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:16.768 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:16.775 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: ListRoomsRequest
2026-01-15 20:09:16.972 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:17.262 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:17.272 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:17.273 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: ListRoomsRequest
2026-01-15 20:09:17.473 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:17.766 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:17.772 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:17.779 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: ListRoomsRequest
2026-01-15 20:09:17.978 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:18.269 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:18.273 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:18.278 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: ListRoomsRequest
2026-01-15 20:09:18.482 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:18.772 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:18.773 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:18.773 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: ListRoomsRequest
2026-01-15 20:09:18.884 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: CreateRoomRequest
2026-01-15 20:09:18.884 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 1 vào room 34
2026-01-15 20:09:18.884 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: Room 8884 (ID: 34)
2026-01-15 20:09:18.884 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 1 vào room 34 (position: 0)
2026-01-15 20:09:18.884 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: Room 8884 (ID: 34)
2026-01-15 20:09:18.983 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:19.275 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:19.276 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:19.484 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:19.773 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:19.780 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:19.991 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:20.276 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:20.283 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:20.494 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:20.778 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:20.784 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:20.993 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:21.188 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: JoinRoomRequest
2026-01-15 20:09:21.189 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 34
2026-01-15 20:09:21.189 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 34 (position: 1)
2026-01-15 20:09:21.189 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 34
2026-01-15 20:09:21.281 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:21.288 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 13: ListRoomsRequest
2026-01-15 20:09:21.497 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:21.785 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:22.001 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:22.288 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:22.501 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:22.783 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:22.985 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: JoinRoomRequest
2026-01-15 20:09:22.986 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 34
2026-01-15 20:09:22.986 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 34 (position: 2)
2026-01-15 20:09:22.986 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 34
2026-01-15 20:09:23.003 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 15: ListRoomsRequest
2026-01-15 20:09:23.287 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:23.788 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:24.291 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:24.791 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: ListRoomsRequest
2026-01-15 20:09:24.964 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 14: JoinRoomRequest
2026-01-15 20:09:24.967 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 34
2026-01-15 20:09:24.967 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 34 (position: 3)
2026-01-15 20:09:24.967 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 34
2026-01-15 20:09:27.041 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 12: StartGameRequest
2026-01-15 20:09:27.041 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 34 by host 1
2026-01-15 20:10:10.409 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 15)
2026-01-15 20:10:10.409 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 34
2026-01-15 20:10:10.410 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 34
2026-01-15 20:10:10.410 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 34 (còn lại 3 players)
2026-01-15 20:10:11.392 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 14)
2026-01-15 20:10:11.393 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 34
2026-01-15 20:10:11.393 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 34
2026-01-15 20:10:11.393 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 34 (còn lại 2 players)
2026-01-15 20:10:12.750 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 13)
2026-01-15 20:10:12.751 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 34
2026-01-15 20:10:12.751 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 34
2026-01-15 20:10:12.751 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 34 (còn lại 1 players)
2026-01-15 20:10:15.053 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 12)
2026-01-15 20:10:15.054 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 1 khỏi room 34
2026-01-15 20:10:15.054 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 1 khỏi room 34
2026-01-15 20:10:15.054 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 34
2026-01-15 20:10:15.054 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 34
2026-01-15 20:10:15.054 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 1 đã rời room 34 (còn lại 0 players)
2026-01-15 20:34:42.864 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:56537 (ID: 17)
2026-01-15 20:34:52.783 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:56547 (ID: 18)
2026-01-15 20:34:57.859 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: LoginRequest
2026-01-15 20:34:57.859 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 17: username=123
2026-01-15 20:34:57.911 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 20:34:57.911 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 17
2026-01-15 20:34:57.911 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 20:34:58.265 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: LeaderboardRequest
2026-01-15 20:34:58.265 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 17: limit=50
2026-01-15 20:34:58.265 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:34:58.265 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:34:58.265 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:34:58.265 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: MatchHistoryRequest
2026-01-15 20:34:58.265 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 17: userId=2, limit=5
2026-01-15 20:34:58.265 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:34:58.265 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:34:58.265 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: GetQuestsRequest
2026-01-15 20:34:58.267 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 20:34:58.267 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 20:34:58.267 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 20:34:58.583 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:56552 (ID: 19)
2026-01-15 20:34:58.670 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:34:59.171 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:34:59.670 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:00.177 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:00.677 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:01.180 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:01.555 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: LoginRequest
2026-01-15 20:35:01.555 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 18: username=123123
2026-01-15 20:35:01.608 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 20:35:01.609 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 18
2026-01-15 20:35:01.609 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 20:35:01.679 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:01.955 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: LeaderboardRequest
2026-01-15 20:35:01.957 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 18: limit=50
2026-01-15 20:35:01.957 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:35:01.957 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:35:01.957 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:01.957 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: MatchHistoryRequest
2026-01-15 20:35:01.957 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 18: userId=3, limit=5
2026-01-15 20:35:01.958 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:35:01.958 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:35:01.958 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: GetQuestsRequest
2026-01-15 20:35:01.958 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 20:35:01.959 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 20:35:01.959 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 20:35:02.148 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:56553 (ID: 20)
2026-01-15 20:35:02.178 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:02.368 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:02.680 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:02.869 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:03.184 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:03.368 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:03.679 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:03.871 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:04.188 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:04.368 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:04.691 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:04.877 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:05.191 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:05.378 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:05.538 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: LoginRequest
2026-01-15 20:35:05.538 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 19: username=123123123
2026-01-15 20:35:05.588 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 20:35:05.588 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 19
2026-01-15 20:35:05.588 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 20:35:05.698 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:05.881 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:05.939 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: LeaderboardRequest
2026-01-15 20:35:05.939 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 19: limit=50
2026-01-15 20:35:05.939 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:35:05.939 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:35:05.939 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:05.939 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: MatchHistoryRequest
2026-01-15 20:35:05.939 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 19: userId=4, limit=5
2026-01-15 20:35:05.939 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:35:05.939 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:35:05.939 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: GetQuestsRequest
2026-01-15 20:35:05.939 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 20:35:05.941 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 20:35:05.941 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 20:35:06.201 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:06.348 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:06.379 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:06.704 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:06.851 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:06.879 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:07.208 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:07.355 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:07.388 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:07.708 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:07.858 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:07.888 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:08.208 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:08.358 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:08.388 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:08.708 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:08.858 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:08.891 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:09.213 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:09.358 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:09.393 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:09.718 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:09.862 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:09.891 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:10.218 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:10.361 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:10.394 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:10.721 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:10.867 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:10.898 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:11.218 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:11.369 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:11.401 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:11.719 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:11.868 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:11.901 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:12.222 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:12.351 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 20)
2026-01-15 20:35:12.369 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:12.401 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:12.727 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:12.870 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:12.903 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:13.227 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:13.369 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:13.408 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:13.727 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:13.877 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:13.908 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:14.235 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:14.380 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:14.409 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:14.729 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:14.878 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:14.909 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:15.238 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:15.383 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:15.414 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:15.738 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:15.881 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:15.917 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:16.242 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:16.388 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:16.417 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:16.499 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ClaimQuestRequest
2026-01-15 20:35:16.501 [Server] INFO  com.mygame.server.database.QuestDAO - User 2 claimed quest 1 reward: 20000 credits
2026-01-15 20:35:16.501 [Server] INFO  c.m.server.handlers.QuestHandler - User 2 claimed quest 1 reward: 20000 credits
2026-01-15 20:35:16.506 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: GetQuestsRequest
2026-01-15 20:35:16.506 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 20:35:16.506 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 20:35:16.507 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 20:35:16.744 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:16.892 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:16.920 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:17.241 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:17.394 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:17.422 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:17.748 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:17.895 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:17.924 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:18.248 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:18.399 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:18.427 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:18.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:18.898 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:18.927 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:19.253 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:19.401 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:19.428 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:19.758 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:19.901 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:19.928 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:20.257 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:20.402 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:20.429 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:20.758 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:20.901 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:20.929 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:21.261 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:21.403 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:21.433 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:21.761 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:21.908 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:21.928 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:22.259 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:22.408 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:22.439 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:22.759 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:22.908 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:22.938 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:23.267 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:23.411 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:23.439 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:23.767 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:23.913 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:23.941 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:24.267 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:24.417 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:24.445 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:24.768 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:24.919 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:24.949 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:25.273 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:25.419 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:25.451 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:25.777 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:25.922 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:25.953 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:26.279 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:26.419 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:26.458 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:26.778 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:26.928 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:26.958 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:27.278 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:27.428 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:27.458 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:27.778 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:27.928 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:27.967 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:28.278 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:28.438 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:28.468 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:28.788 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:28.941 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:28.972 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:29.292 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:29.441 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:29.471 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:29.793 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:29.944 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:29.973 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:30.298 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:30.444 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:30.473 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:30.801 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:30.948 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:30.977 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:31.301 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:31.448 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:31.479 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:31.803 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:31.951 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:31.983 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:32.307 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:32.453 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:32.483 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:32.808 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:32.951 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:32.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:33.307 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:33.454 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:33.488 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:33.811 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:33.957 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:33.988 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:34.308 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:34.458 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:34.491 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:34.809 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:34.959 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:34.991 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:35.317 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:35.460 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:35.495 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:35.817 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:35.963 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:35.998 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:36.320 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: ListRoomsRequest
2026-01-15 20:35:36.466 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:36.501 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:36.511 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: CreateRoomRequest
2026-01-15 20:35:36.513 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 35
2026-01-15 20:35:36.513 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 35)
2026-01-15 20:35:36.513 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 35 (position: 0)
2026-01-15 20:35:36.513 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 35)
2026-01-15 20:35:36.967 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:37.001 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:37.467 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:37.503 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:37.967 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:38.001 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:38.467 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:38.508 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:38.968 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: JoinRoomRequest
2026-01-15 20:35:38.968 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 35
2026-01-15 20:35:38.968 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 35 (position: 1)
2026-01-15 20:35:38.968 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 35
2026-01-15 20:35:38.968 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 19: ListRoomsRequest
2026-01-15 20:35:39.008 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:39.511 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:40.008 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:40.509 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:40.918 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: JoinRoomRequest
2026-01-15 20:35:40.918 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 35
2026-01-15 20:35:40.918 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 35 (position: 2)
2026-01-15 20:35:40.918 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 35
2026-01-15 20:35:41.017 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 18: ListRoomsRequest
2026-01-15 20:35:43.317 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 17: StartGameRequest
2026-01-15 20:35:43.317 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 35 by host 2
2026-01-15 20:35:57.431 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 17)
2026-01-15 20:35:57.431 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 35
2026-01-15 20:35:57.431 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 35
2026-01-15 20:35:57.431 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 35 thành user 4
2026-01-15 20:35:57.431 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 35 từ 2 sang 4
2026-01-15 20:35:57.431 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 35 (còn lại 2 players)
2026-01-15 20:36:02.700 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 18)
2026-01-15 20:36:02.701 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 35
2026-01-15 20:36:02.701 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 35
2026-01-15 20:36:02.701 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 35 (còn lại 1 players)
2026-01-15 20:36:03.971 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 19)
2026-01-15 20:36:03.973 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 35
2026-01-15 20:36:03.973 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 35
2026-01-15 20:36:03.974 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 35
2026-01-15 20:36:03.974 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 35
2026-01-15 20:36:03.974 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 35 (còn lại 0 players)
2026-01-15 20:40:49.736 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:55419 (ID: 21)
2026-01-15 20:41:07.535 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:51494 (ID: 22)
2026-01-15 20:41:13.644 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:51495 (ID: 23)
2026-01-15 20:41:16.309 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: LoginRequest
2026-01-15 20:41:16.309 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 21: username=123
2026-01-15 20:41:16.377 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 20:41:16.377 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 21
2026-01-15 20:41:16.377 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 20:41:16.725 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: LeaderboardRequest
2026-01-15 20:41:16.725 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 21: limit=50
2026-01-15 20:41:16.726 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:41:16.726 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:41:16.726 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:16.727 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: MatchHistoryRequest
2026-01-15 20:41:16.727 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 21: userId=2, limit=5
2026-01-15 20:41:16.727 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:41:16.727 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:41:16.727 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: GetQuestsRequest
2026-01-15 20:41:16.727 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 20:41:16.728 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 20:41:16.728 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 20:41:17.139 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:17.642 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:18.145 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:18.645 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:19.149 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:19.652 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:19.818 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: LoginRequest
2026-01-15 20:41:19.818 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 22: username=123123
2026-01-15 20:41:19.886 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 20:41:19.887 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 22
2026-01-15 20:41:19.887 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 20:41:20.152 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:20.235 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: LeaderboardRequest
2026-01-15 20:41:20.235 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 22: limit=50
2026-01-15 20:41:20.235 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:41:20.235 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:41:20.235 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:20.235 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: MatchHistoryRequest
2026-01-15 20:41:20.235 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 22: userId=3, limit=5
2026-01-15 20:41:20.236 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:41:20.236 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:41:20.237 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: GetQuestsRequest
2026-01-15 20:41:20.237 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 20:41:20.237 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 20:41:20.237 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 20:41:20.645 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:20.652 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:21.149 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:21.155 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:21.652 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:21.654 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:22.152 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:22.158 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:22.655 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:22.658 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:23.158 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:23.161 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:23.658 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:23.661 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:23.790 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: LoginRequest
2026-01-15 20:41:23.790 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 23: username=123123123
2026-01-15 20:41:23.856 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 20:41:23.856 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 23
2026-01-15 20:41:23.856 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 20:41:24.161 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:24.164 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:24.201 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: LeaderboardRequest
2026-01-15 20:41:24.201 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 23: limit=50
2026-01-15 20:41:24.201 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:41:24.201 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:41:24.201 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:24.201 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: MatchHistoryRequest
2026-01-15 20:41:24.201 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 23: userId=4, limit=5
2026-01-15 20:41:24.202 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:41:24.202 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:41:24.202 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: GetQuestsRequest
2026-01-15 20:41:24.202 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 20:41:24.202 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 20:41:24.203 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 20:41:24.614 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:24.661 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:24.667 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:25.117 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:25.164 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:25.170 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:25.617 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:25.664 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:25.670 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:26.120 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:26.167 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:26.173 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:26.618 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:26.667 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:26.668 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:27.121 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:27.170 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:27.174 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:27.619 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:27.668 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:27.679 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:28.129 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:28.169 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:28.178 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:28.628 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:28.673 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:28.683 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:29.136 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:29.177 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:29.183 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:29.636 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:29.680 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:29.686 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: ListRoomsRequest
2026-01-15 20:41:29.811 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: CreateRoomRequest
2026-01-15 20:41:29.813 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 36
2026-01-15 20:41:29.813 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 36)
2026-01-15 20:41:29.813 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 36 (position: 0)
2026-01-15 20:41:29.813 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 36)
2026-01-15 20:41:30.135 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:30.180 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:30.638 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:30.683 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:31.139 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:31.180 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:31.641 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:31.678 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:32.143 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:32.182 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:32.649 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:32.689 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:33.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:33.192 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:33.648 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:33.691 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:34.139 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: JoinRoomRequest
2026-01-15 20:41:34.139 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 36
2026-01-15 20:41:34.141 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 36 (position: 1)
2026-01-15 20:41:34.141 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 36
2026-01-15 20:41:34.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:34.193 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 22: ListRoomsRequest
2026-01-15 20:41:34.651 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:35.151 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:35.658 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: ListRoomsRequest
2026-01-15 20:41:35.814 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 23: JoinRoomRequest
2026-01-15 20:41:35.816 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 36
2026-01-15 20:41:35.816 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 36 (position: 2)
2026-01-15 20:41:35.816 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 36
2026-01-15 20:41:38.089 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 21: StartGameRequest
2026-01-15 20:41:38.089 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 36 by host 2
2026-01-15 20:43:38.839 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 21)
2026-01-15 20:43:38.842 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 36
2026-01-15 20:43:38.842 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 36
2026-01-15 20:43:38.842 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 36 thành user 3
2026-01-15 20:43:38.842 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 36 từ 2 sang 3
2026-01-15 20:43:38.842 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 36 (còn lại 2 players)
2026-01-15 20:43:39.866 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 22)
2026-01-15 20:43:39.867 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 36
2026-01-15 20:43:39.867 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 36
2026-01-15 20:43:39.867 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 36 thành user 4
2026-01-15 20:43:39.867 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 36 từ 3 sang 4
2026-01-15 20:43:39.867 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 36 (còn lại 1 players)
2026-01-15 20:43:47.585 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 23)
2026-01-15 20:43:47.587 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 36
2026-01-15 20:43:47.587 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 36
2026-01-15 20:43:47.587 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 36
2026-01-15 20:43:47.587 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 36
2026-01-15 20:43:47.587 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 36 (còn lại 0 players)
2026-01-15 20:46:09.081 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:64601 (ID: 24)
2026-01-15 20:46:17.652 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: LoginRequest
2026-01-15 20:46:17.652 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 24: username=123
2026-01-15 20:46:17.711 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 20:46:17.711 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 24
2026-01-15 20:46:17.711 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 20:46:18.063 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: LeaderboardRequest
2026-01-15 20:46:18.063 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 24: limit=50
2026-01-15 20:46:18.063 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:46:18.063 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:46:18.063 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:18.063 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: MatchHistoryRequest
2026-01-15 20:46:18.063 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 24: userId=2, limit=5
2026-01-15 20:46:18.063 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:46:18.063 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:46:18.063 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: GetQuestsRequest
2026-01-15 20:46:18.063 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 20:46:18.063 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 20:46:18.063 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 20:46:18.468 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:18.968 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:19.469 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:19.972 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:20.457 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:64610 (ID: 25)
2026-01-15 20:46:20.472 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:20.972 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:21.480 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:21.982 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:22.487 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:22.699 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:64611 (ID: 26)
2026-01-15 20:46:22.982 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:23.492 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:23.993 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:24.496 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:24.912 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: LoginRequest
2026-01-15 20:46:24.912 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 25: username=123123
2026-01-15 20:46:24.962 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 20:46:24.962 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 25
2026-01-15 20:46:24.962 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 20:46:24.992 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:25.311 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: LeaderboardRequest
2026-01-15 20:46:25.311 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 25: limit=50
2026-01-15 20:46:25.312 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:46:25.312 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:46:25.312 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:25.312 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: MatchHistoryRequest
2026-01-15 20:46:25.312 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 25: userId=3, limit=5
2026-01-15 20:46:25.312 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:46:25.312 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:46:25.312 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: GetQuestsRequest
2026-01-15 20:46:25.312 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 20:46:25.312 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 20:46:25.312 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 20:46:25.501 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:25.723 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:26.002 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:26.222 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:26.502 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:26.731 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:27.003 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:27.231 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:27.503 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:27.731 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:28.008 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:28.231 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:28.509 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:28.733 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:29.009 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:29.236 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:29.303 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: LoginRequest
2026-01-15 20:46:29.303 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 26: username=123123123
2026-01-15 20:46:29.352 [Server] WARN  com.mygame.server.database.UserDAO - Incorrect password for user: 123123123
2026-01-15 20:46:29.352 [Server] WARN  c.m.server.handlers.LoginHandler - Login thất bại: Incorrect username or password
2026-01-15 20:46:29.512 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:29.732 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:30.012 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:30.243 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:30.515 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:30.741 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:31.012 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:31.243 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:31.512 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:31.742 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:32.021 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:32.241 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:32.521 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:32.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:33.022 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:33.152 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: LoginRequest
2026-01-15 20:46:33.152 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 26: username=123123123
2026-01-15 20:46:33.202 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 20:46:33.202 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 26
2026-01-15 20:46:33.202 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 20:46:33.252 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:33.522 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:33.542 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: LeaderboardRequest
2026-01-15 20:46:33.542 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 26: limit=50
2026-01-15 20:46:33.549 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 20:46:33.549 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 20:46:33.549 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:33.549 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: MatchHistoryRequest
2026-01-15 20:46:33.549 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 26: userId=4, limit=5
2026-01-15 20:46:33.550 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:46:33.550 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 20:46:33.550 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: GetQuestsRequest
2026-01-15 20:46:33.550 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 20:46:33.550 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 20:46:33.551 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 20:46:33.752 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:33.961 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:34.022 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:34.253 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:34.462 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:34.522 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:34.762 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:34.965 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:35.028 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:35.262 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:35.461 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:35.530 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:35.766 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:35.971 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:36.031 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:36.268 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:36.406 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: CreateRoomRequest
2026-01-15 20:46:36.408 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 37
2026-01-15 20:46:36.408 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 37)
2026-01-15 20:46:36.408 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 37 (position: 0)
2026-01-15 20:46:36.408 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 37)
2026-01-15 20:46:36.474 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:36.532 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: ListRoomsRequest
2026-01-15 20:46:36.772 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:36.972 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:37.271 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:37.472 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:37.772 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:37.976 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:38.272 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:38.481 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:38.702 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: JoinRoomRequest
2026-01-15 20:46:38.703 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 37
2026-01-15 20:46:38.703 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 37 (position: 1)
2026-01-15 20:46:38.703 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 37
2026-01-15 20:46:38.777 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 25: ListRoomsRequest
2026-01-15 20:46:38.982 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:39.482 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:39.981 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:40.456 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: JoinRoomRequest
2026-01-15 20:46:40.457 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 37
2026-01-15 20:46:40.457 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 37 (position: 2)
2026-01-15 20:46:40.457 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 37
2026-01-15 20:46:40.487 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 26: ListRoomsRequest
2026-01-15 20:46:42.581 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 24: StartGameRequest
2026-01-15 20:46:42.581 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 37 by host 2
2026-01-15 20:48:33.172 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 24)
2026-01-15 20:48:33.172 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 37
2026-01-15 20:48:33.172 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 37
2026-01-15 20:48:33.176 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 37 thành user 3
2026-01-15 20:48:33.176 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 37 từ 2 sang 3
2026-01-15 20:48:33.176 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 37 (còn lại 2 players)
2026-01-15 20:48:35.221 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 25)
2026-01-15 20:48:35.222 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 37
2026-01-15 20:48:35.222 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 37
2026-01-15 20:48:35.222 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 37 thành user 4
2026-01-15 20:48:35.222 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 37 từ 3 sang 4
2026-01-15 20:48:35.222 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 37 (còn lại 1 players)
2026-01-15 20:48:36.230 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 26)
2026-01-15 20:48:36.231 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 37
2026-01-15 20:48:36.231 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 37
2026-01-15 20:48:36.231 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 37
2026-01-15 20:48:36.231 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 37
2026-01-15 20:48:36.231 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 37 (còn lại 0 players)
2026-01-15 21:26:13.035 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:52310 (ID: 27)
2026-01-15 21:26:19.659 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: LoginRequest
2026-01-15 21:26:19.659 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 27: username=123
2026-01-15 21:26:19.715 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 21:26:19.716 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 27
2026-01-15 21:26:19.716 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 21:26:20.073 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: LeaderboardRequest
2026-01-15 21:26:20.073 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 27: limit=50
2026-01-15 21:26:20.074 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 21:26:20.074 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 21:26:20.074 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:20.074 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: MatchHistoryRequest
2026-01-15 21:26:20.074 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 27: userId=2, limit=5
2026-01-15 21:26:20.076 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:26:20.076 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:26:20.076 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: GetQuestsRequest
2026-01-15 21:26:20.076 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 21:26:20.076 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 21:26:20.077 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 21:26:20.474 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:20.977 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:21.480 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:21.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:22.413 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:52321 (ID: 28)
2026-01-15 21:26:22.487 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:22.990 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:23.493 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:23.992 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:24.496 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:24.705 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:52322 (ID: 29)
2026-01-15 21:26:24.996 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:25.499 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:26.002 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:26.505 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:27.005 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:27.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: LoginRequest
2026-01-15 21:26:27.256 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 28: username=123123
2026-01-15 21:26:27.306 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 21:26:27.306 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 28
2026-01-15 21:26:27.306 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 21:26:27.505 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:27.651 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: LeaderboardRequest
2026-01-15 21:26:27.652 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 28: limit=50
2026-01-15 21:26:27.652 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 21:26:27.652 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 21:26:27.652 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:27.652 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: MatchHistoryRequest
2026-01-15 21:26:27.652 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 28: userId=3, limit=5
2026-01-15 21:26:27.653 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:26:27.653 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:26:27.653 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: GetQuestsRequest
2026-01-15 21:26:27.653 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 21:26:27.653 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 21:26:27.653 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 21:26:28.008 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:28.064 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:28.511 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:28.564 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:29.011 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:29.068 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:29.515 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:29.571 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:30.018 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:30.074 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:30.518 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:30.577 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:31.021 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:31.076 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:31.521 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:31.579 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:32.030 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:32.083 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:32.530 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:32.586 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:33.030 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:33.086 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:33.533 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:33.589 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:33.712 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: LoginRequest
2026-01-15 21:26:33.712 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 29: username=123123123
2026-01-15 21:26:33.761 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 21:26:33.762 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 29
2026-01-15 21:26:33.762 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 21:26:34.033 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:34.090 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:34.112 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: LeaderboardRequest
2026-01-15 21:26:34.112 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 29: limit=50
2026-01-15 21:26:34.112 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 21:26:34.112 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 21:26:34.112 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:34.113 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: MatchHistoryRequest
2026-01-15 21:26:34.113 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 29: userId=4, limit=5
2026-01-15 21:26:34.113 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:26:34.113 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:26:34.113 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: GetQuestsRequest
2026-01-15 21:26:34.113 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 21:26:34.113 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 21:26:34.113 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 21:26:34.526 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:34.536 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:34.590 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:35.029 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:35.037 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:35.092 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:35.533 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:35.540 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:35.592 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:36.036 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:36.040 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:36.096 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:36.540 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:36.542 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:36.599 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:37.043 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:37.046 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:37.102 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:37.543 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:37.545 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:37.605 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:38.043 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:38.047 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:38.105 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:38.421 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: CreateRoomRequest
2026-01-15 21:26:38.423 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 38
2026-01-15 21:26:38.423 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 38)
2026-01-15 21:26:38.423 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 38 (position: 0)
2026-01-15 21:26:38.423 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 38)
2026-01-15 21:26:38.543 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:38.548 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: ListRoomsRequest
2026-01-15 21:26:38.608 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:39.044 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:39.110 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:39.544 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:39.611 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:40.047 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:40.111 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:40.556 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:40.611 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:41.060 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:41.111 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:41.499 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: JoinRoomRequest
2026-01-15 21:26:41.500 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 38
2026-01-15 21:26:41.500 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 38 (position: 1)
2026-01-15 21:26:41.500 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 38
2026-01-15 21:26:41.564 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:41.620 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 28: ListRoomsRequest
2026-01-15 21:26:42.061 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:42.561 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:43.060 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:43.570 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: ListRoomsRequest
2026-01-15 21:26:43.717 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 29: JoinRoomRequest
2026-01-15 21:26:43.718 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 38
2026-01-15 21:26:43.718 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 38 (position: 2)
2026-01-15 21:26:43.718 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 38
2026-01-15 21:26:46.312 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 27: StartGameRequest
2026-01-15 21:26:46.312 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 38 by host 2
2026-01-15 21:27:31.730 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 27)
2026-01-15 21:27:31.731 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 38
2026-01-15 21:27:31.731 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 38
2026-01-15 21:27:31.731 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 38 thành user 3
2026-01-15 21:27:31.731 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 38 từ 2 sang 3
2026-01-15 21:27:31.731 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 38 (còn lại 2 players)
2026-01-15 21:27:32.732 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 28)
2026-01-15 21:27:32.733 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 38
2026-01-15 21:27:32.733 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 38
2026-01-15 21:27:32.733 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 38 thành user 4
2026-01-15 21:27:32.733 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 38 từ 3 sang 4
2026-01-15 21:27:32.733 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 38 (còn lại 1 players)
2026-01-15 21:27:33.768 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 29)
2026-01-15 21:27:33.768 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 38
2026-01-15 21:27:33.768 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 38
2026-01-15 21:27:33.768 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 38
2026-01-15 21:27:33.768 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 38
2026-01-15 21:27:33.768 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 38 (còn lại 0 players)
2026-01-15 21:49:34.352 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62283 (ID: 30)
2026-01-15 21:49:37.463 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: LoginRequest
2026-01-15 21:49:37.463 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 30: username=123
2026-01-15 21:49:37.512 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 21:49:37.512 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 30
2026-01-15 21:49:37.512 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 21:49:37.853 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: LeaderboardRequest
2026-01-15 21:49:37.853 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 30: limit=50
2026-01-15 21:49:37.853 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 21:49:37.853 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 21:49:37.853 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:37.858 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: MatchHistoryRequest
2026-01-15 21:49:37.858 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 30: userId=2, limit=5
2026-01-15 21:49:37.858 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:49:37.858 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:49:37.858 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: GetQuestsRequest
2026-01-15 21:49:37.858 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 21:49:37.858 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 21:49:37.858 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 21:49:38.272 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:38.773 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:39.273 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:39.772 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:40.275 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:40.778 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:41.282 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:41.781 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:42.285 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:42.784 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:43.288 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:43.788 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:44.287 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:44.787 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:45.291 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:45.794 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:46.294 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:46.797 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:47.299 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:47.800 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:48.303 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:48.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:49.306 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:49.806 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:50.313 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:50.814 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:51.141 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62293 (ID: 31)
2026-01-15 21:49:51.313 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:51.815 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:52.322 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:52.822 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:53.321 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:53.663 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62311 (ID: 32)
2026-01-15 21:49:53.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:54.328 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:54.828 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:55.331 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:55.832 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:56.334 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:56.835 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:57.335 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:57.838 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:58.341 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:58.841 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:59.344 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:49:59.844 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:00.344 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:00.635 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: LoginRequest
2026-01-15 21:50:00.635 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 32: username=123123
2026-01-15 21:50:00.707 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 21:50:00.707 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 32
2026-01-15 21:50:00.707 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 21:50:00.847 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:01.059 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: LeaderboardRequest
2026-01-15 21:50:01.059 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 32: limit=50
2026-01-15 21:50:01.059 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 21:50:01.059 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 21:50:01.059 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:01.059 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: MatchHistoryRequest
2026-01-15 21:50:01.059 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 32: userId=3, limit=5
2026-01-15 21:50:01.061 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:50:01.061 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:50:01.061 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: GetQuestsRequest
2026-01-15 21:50:01.061 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 21:50:01.061 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 21:50:01.061 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 21:50:01.347 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:01.473 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:01.850 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:01.975 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:02.350 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:02.475 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:02.848 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:02.973 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:03.347 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:03.478 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:03.853 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:03.981 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:04.353 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:04.484 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:04.859 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:04.987 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:05.362 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:05.484 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:05.866 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:05.991 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:06.363 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:06.493 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:06.872 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:06.992 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:07.010 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: LoginRequest
2026-01-15 21:50:07.010 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 31: username=123
2026-01-15 21:50:07.079 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 21:50:07.079 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 31
2026-01-15 21:50:07.081 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 21:50:07.372 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:07.428 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: LeaderboardRequest
2026-01-15 21:50:07.428 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 31: limit=50
2026-01-15 21:50:07.428 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 21:50:07.428 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 21:50:07.428 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:07.428 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: MatchHistoryRequest
2026-01-15 21:50:07.428 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 31: userId=2, limit=5
2026-01-15 21:50:07.429 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:50:07.429 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:50:07.429 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: GetQuestsRequest
2026-01-15 21:50:07.429 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 21:50:07.429 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 21:50:07.429 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 21:50:07.493 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:07.837 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:07.872 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:07.996 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:08.341 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:08.375 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:08.500 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:08.840 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:08.875 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:09.003 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:09.344 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:09.373 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:09.506 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:09.847 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:09.878 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:10.008 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:10.344 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:10.381 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:10.512 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:10.849 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:10.884 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:11.012 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:11.353 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:11.387 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:11.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:11.856 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:11.887 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:12.025 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:12.363 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:12.390 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:12.528 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:12.865 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:12.894 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:13.031 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:13.366 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:13.397 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:13.546 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:13.869 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:13.897 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:14.047 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:14.369 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:14.397 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:14.547 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:14.872 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:14.900 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:15.047 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:15.371 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:15.403 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:15.547 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:15.875 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:15.906 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:16.050 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:16.373 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:16.409 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:16.550 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:16.878 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:16.909 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:17.050 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:17.381 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:17.409 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:17.550 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:17.884 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:17.912 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:18.053 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:18.384 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:18.415 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:18.553 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:18.887 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:18.918 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 30: ListRoomsRequest
2026-01-15 21:50:19.056 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:19.237 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 30)
2026-01-15 21:50:19.390 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:19.554 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:19.890 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:20.059 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:20.390 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:20.562 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:20.890 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:21.065 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:21.392 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:21.568 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:21.897 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:22.068 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:22.396 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:22.572 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:22.752 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62322 (ID: 33)
2026-01-15 21:50:22.752 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: LoginRequest
2026-01-15 21:50:22.752 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 33: username=123123123
2026-01-15 21:50:22.802 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 21:50:22.802 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 33
2026-01-15 21:50:22.802 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 21:50:22.900 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:23.065 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:23.303 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:23.400 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:23.563 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:23.809 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:23.900 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:24.073 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:24.312 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:24.400 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:24.573 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:24.812 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:24.909 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:25.073 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:25.313 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:25.412 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:25.573 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:25.818 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:25.912 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:26.083 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:26.322 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:26.415 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:26.584 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:26.821 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:26.915 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:27.090 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:27.324 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:27.415 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:27.590 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:27.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:27.918 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:28.093 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:28.322 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:28.421 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:28.593 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:28.828 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:28.921 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:29.094 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:29.322 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:29.424 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:29.594 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:29.827 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:29.928 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:30.099 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:30.332 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:30.431 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:30.603 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:30.834 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:30.931 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:31.106 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:31.334 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:31.434 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:31.604 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:31.840 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:31.934 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:32.109 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:32.340 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:32.437 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:32.603 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:32.842 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:32.937 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:33.112 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:33.344 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:33.440 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:33.612 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:33.847 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:33.940 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:34.112 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:34.350 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:34.440 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:34.615 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:34.853 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:34.940 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:35.118 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:35.352 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:35.443 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:35.618 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:35.853 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:35.943 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:36.121 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:36.353 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:36.443 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:36.621 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:36.852 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:36.943 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:37.123 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:37.356 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:37.446 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:37.624 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:37.853 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 33: ListRoomsRequest
2026-01-15 21:50:37.946 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:38.133 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:38.262 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 33)
2026-01-15 21:50:38.446 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:38.637 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:38.946 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:39.140 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:39.449 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:39.640 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:39.953 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:40.140 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:40.456 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:40.643 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:40.956 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:41.143 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:41.459 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:41.646 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:41.959 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:42.149 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:42.462 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:42.649 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:42.965 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:43.147 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:43.465 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:43.649 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:43.965 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:44.152 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:44.468 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:44.655 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:44.968 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:45.157 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:45.471 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:45.631 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62327 (ID: 34)
2026-01-15 21:50:45.632 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: LoginRequest
2026-01-15 21:50:45.632 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 34: username=123123123
2026-01-15 21:50:45.682 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 21:50:45.682 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 34
2026-01-15 21:50:45.682 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 21:50:45.682 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:45.973 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:46.156 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:46.185 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:46.477 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:46.659 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:46.689 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:46.977 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:47.162 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:47.190 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:47.480 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:47.662 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:47.693 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:47.983 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:48.165 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:48.196 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:48.483 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:48.665 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:48.699 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:48.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:49.165 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:49.201 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:49.486 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:49.668 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:49.702 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:49.990 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:50.171 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:50.204 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:50.493 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:50.671 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:50.705 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:50.995 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:51.171 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:51.212 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:51.499 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:51.671 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:51.712 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:51.998 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:52.174 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:52.215 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:52.502 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:52.674 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:52.715 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:53.005 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:53.177 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:53.218 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:53.505 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:53.677 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:53.718 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:54.008 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:54.177 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:54.218 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:54.508 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:54.680 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:54.721 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:55.009 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:55.184 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:55.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:55.512 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:55.686 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:55.723 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:56.012 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:56.187 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:56.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:56.515 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:56.687 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:56.724 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:57.012 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:57.185 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:57.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:57.518 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:57.690 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:57.727 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:58.020 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:58.194 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:58.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:58.521 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:58.696 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:58.730 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:59.020 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:59.196 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:59.230 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:50:59.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:50:59.696 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:50:59.733 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:00.027 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:00.196 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:00.236 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:00.530 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:00.699 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:00.737 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:01.033 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:01.202 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:01.240 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:01.536 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:01.705 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:01.743 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:02.036 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:02.213 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:02.243 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:02.540 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:02.718 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:02.746 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:03.040 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:03.221 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:03.248 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:03.542 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:03.721 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:03.749 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:04.043 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:04.221 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:04.252 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:04.546 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:04.724 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:04.753 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:05.046 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:05.223 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:05.255 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:05.546 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:05.727 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:05.758 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:06.049 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:06.230 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:06.261 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:06.549 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:06.733 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:06.763 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:07.049 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:07.233 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:07.265 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:07.552 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:07.733 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 32: ListRoomsRequest
2026-01-15 21:51:07.768 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:08.052 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:08.267 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:08.364 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 32)
2026-01-15 21:51:08.555 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:08.770 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:09.058 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 31: ListRoomsRequest
2026-01-15 21:51:09.270 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:09.673 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 31)
2026-01-15 21:51:09.771 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:10.272 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:10.773 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 34: ListRoomsRequest
2026-01-15 21:51:11.170 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 34)
2026-01-15 21:52:20.863 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:61173 (ID: 35)
2026-01-15 21:52:29.813 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: LoginRequest
2026-01-15 21:52:29.813 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 35: username=123
2026-01-15 21:52:29.866 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 21:52:29.867 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 35
2026-01-15 21:52:29.867 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 21:52:30.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: LeaderboardRequest
2026-01-15 21:52:30.224 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 35: limit=50
2026-01-15 21:52:30.224 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 21:52:30.224 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 21:52:30.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:30.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: MatchHistoryRequest
2026-01-15 21:52:30.224 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 35: userId=2, limit=5
2026-01-15 21:52:30.225 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:52:30.225 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:52:30.225 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: GetQuestsRequest
2026-01-15 21:52:30.225 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 21:52:30.225 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 21:52:30.226 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 21:52:30.242 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:61182 (ID: 36)
2026-01-15 21:52:30.628 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:31.128 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:31.631 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:32.132 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:32.635 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:32.934 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:61183 (ID: 37)
2026-01-15 21:52:33.134 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:33.637 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:34.140 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:34.641 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:35.143 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:35.645 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:36.147 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:36.650 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:37.153 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:37.656 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:38.160 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:38.662 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:39.163 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:39.666 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:40.083 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: LoginRequest
2026-01-15 21:52:40.083 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 36: username=123123
2026-01-15 21:52:40.133 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 21:52:40.133 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 36
2026-01-15 21:52:40.133 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 21:52:40.166 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:40.477 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: LeaderboardRequest
2026-01-15 21:52:40.477 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 36: limit=50
2026-01-15 21:52:40.477 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 21:52:40.477 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 21:52:40.477 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:40.477 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: MatchHistoryRequest
2026-01-15 21:52:40.477 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 36: userId=3, limit=5
2026-01-15 21:52:40.478 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:52:40.478 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:52:40.478 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: GetQuestsRequest
2026-01-15 21:52:40.478 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 21:52:40.478 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 21:52:40.479 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 21:52:40.668 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:40.891 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:41.172 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:41.394 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:41.681 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:41.894 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:42.181 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:42.397 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:42.685 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:42.896 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:43.188 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:43.400 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:43.691 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:43.903 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:44.191 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:44.406 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:44.694 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:44.906 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:45.197 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:45.409 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:45.700 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:45.912 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:46.200 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:46.416 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:46.700 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:46.919 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:47.203 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:47.422 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:47.707 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:47.925 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:48.209 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:48.423 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: LoginRequest
2026-01-15 21:52:48.423 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 37: username=123123123
2026-01-15 21:52:48.472 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 21:52:48.472 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 37
2026-01-15 21:52:48.472 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 21:52:48.472 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:48.709 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:48.821 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: LeaderboardRequest
2026-01-15 21:52:48.821 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 37: limit=50
2026-01-15 21:52:48.821 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 21:52:48.821 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 21:52:48.822 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:48.822 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: MatchHistoryRequest
2026-01-15 21:52:48.822 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 37: userId=4, limit=5
2026-01-15 21:52:48.822 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:52:48.822 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 21:52:48.822 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: GetQuestsRequest
2026-01-15 21:52:48.822 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 21:52:48.822 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 21:52:48.823 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 21:52:48.928 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:49.213 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:49.231 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:49.428 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:49.715 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:49.734 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:49.931 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:50.219 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:50.237 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:50.434 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:50.712 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:50.733 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:50.938 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:51.222 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:51.237 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:51.441 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:51.722 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:51.738 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:51.941 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:52.225 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:52.241 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:52.444 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:52.725 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:52.743 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:52.947 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:53.228 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:53.243 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:53.450 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:53.728 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:53.747 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:53.953 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:54.231 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:54.247 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:54.456 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:54.731 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:54.750 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:54.956 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:55.234 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:55.250 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:55.459 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:55.737 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:55.750 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:55.959 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:56.241 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:56.253 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:56.462 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:56.743 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: ListRoomsRequest
2026-01-15 21:52:56.756 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:56.962 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:56.963 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: CreateRoomRequest
2026-01-15 21:52:56.964 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 39
2026-01-15 21:52:56.964 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 39)
2026-01-15 21:52:56.964 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 39 (position: 0)
2026-01-15 21:52:56.964 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 39)
2026-01-15 21:52:57.259 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:57.466 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:57.763 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:57.966 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:58.262 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:58.469 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:58.765 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:58.969 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:59.219 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: JoinRoomRequest
2026-01-15 21:52:59.220 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 39
2026-01-15 21:52:59.220 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 39 (position: 1)
2026-01-15 21:52:59.220 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 39
2026-01-15 21:52:59.269 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:52:59.472 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 36: ListRoomsRequest
2026-01-15 21:52:59.772 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:53:00.275 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:53:00.775 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:53:01.165 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: JoinRoomRequest
2026-01-15 21:53:01.167 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 39
2026-01-15 21:53:01.167 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 39 (position: 2)
2026-01-15 21:53:01.167 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 39
2026-01-15 21:53:01.278 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 37: ListRoomsRequest
2026-01-15 21:53:03.434 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 35: StartGameRequest
2026-01-15 21:53:03.435 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 39 by host 2
2026-01-15 21:53:42.565 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 35)
2026-01-15 21:53:42.566 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 39
2026-01-15 21:53:42.566 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 39
2026-01-15 21:53:42.566 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 39 thành user 3
2026-01-15 21:53:42.566 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 39 từ 2 sang 3
2026-01-15 21:53:42.566 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 39 (còn lại 2 players)
2026-01-15 21:53:43.596 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 36)
2026-01-15 21:53:43.598 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 39
2026-01-15 21:53:43.598 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 39
2026-01-15 21:53:43.598 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 39 thành user 4
2026-01-15 21:53:43.598 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 39 từ 3 sang 4
2026-01-15 21:53:43.598 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 39 (còn lại 1 players)
2026-01-15 21:53:44.732 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 37)
2026-01-15 21:53:44.732 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 39
2026-01-15 21:53:44.732 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 39
2026-01-15 21:53:44.734 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 39
2026-01-15 21:53:44.734 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 39
2026-01-15 21:53:44.734 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 39 (còn lại 0 players)
2026-01-15 22:03:15.179 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-15 22:03:15.364 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-15 22:03:15.394 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-15 22:03:15.395 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-15 22:03:15.395 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-15 22:03:15.395 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-15 22:03:15.401 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-15 22:03:15.401 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-15 22:03:15.402 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-15 22:03:15.402 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-15 22:03:15.402 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-15 22:03:15.402 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-15 22:03:15.402 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-15 22:03:15.403 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-15 22:03:15.403 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-15 22:03:15.403 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-15 22:03:15.403 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-15 22:03:15.405 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-15 22:03:15.405 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-15 22:03:15.405 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-15 22:03:15.406 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-15 22:03:15.413 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-15 22:03:15.413 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-15 22:03:15.414 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-15 22:03:15.414 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-15 22:03:15.414 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-15 22:03:15.478 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-15 22:03:15.488 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-15 22:03:15.495 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-15 22:03:15.495 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-15 22:03:15.495 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-15 22:03:30.945 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57446 (ID: 1)
2026-01-15 22:03:36.777 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57451 (ID: 2)
2026-01-15 22:03:42.044 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57452 (ID: 3)
2026-01-15 22:03:44.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-15 22:03:44.974 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-15 22:03:45.035 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 22:03:45.037 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-15 22:03:45.037 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 22:03:45.382 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-15 22:03:45.382 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-15 22:03:45.384 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:03:45.384 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:03:45.385 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:45.388 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-15 22:03:45.388 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-15 22:03:45.390 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:03:45.390 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:03:45.391 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-15 22:03:45.391 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 22:03:45.393 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 22:03:45.394 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 22:03:45.795 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:46.295 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:46.798 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:47.298 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:47.801 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:48.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:48.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:49.307 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:49.567 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-15 22:03:49.568 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123123
2026-01-15 22:03:49.635 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 22:03:49.635 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 2
2026-01-15 22:03:49.635 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 22:03:49.808 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:49.983 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-15 22:03:49.983 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-15 22:03:49.984 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:03:49.984 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:03:49.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:49.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-15 22:03:49.984 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=3, limit=5
2026-01-15 22:03:49.985 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:03:49.985 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:03:49.986 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-15 22:03:49.986 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 22:03:49.987 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 22:03:49.988 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 22:03:50.310 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:50.395 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:50.810 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:50.898 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:51.314 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:51.401 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:51.814 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:51.901 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:52.317 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:52.404 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:52.817 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:52.907 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:53.317 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:53.407 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:53.820 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:53.910 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:54.322 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:54.410 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:54.826 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:54.914 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:55.330 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:55.417 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:55.829 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:55.917 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:56.332 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:56.420 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:56.514 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-15 22:03:56.514 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123123123
2026-01-15 22:03:56.582 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 22:03:56.582 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 3
2026-01-15 22:03:56.582 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 22:03:56.835 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:56.920 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:56.939 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-15 22:03:56.939 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-15 22:03:56.940 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:03:56.940 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:03:56.940 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:03:56.940 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-15 22:03:56.940 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=4, limit=5
2026-01-15 22:03:56.941 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:03:56.941 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:03:56.941 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-15 22:03:56.941 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 22:03:56.942 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 22:03:56.942 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 22:03:57.336 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:57.340 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:03:57.423 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:57.844 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:57.845 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:03:57.926 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:58.345 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:03:58.346 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:58.429 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:58.848 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:03:58.849 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:58.930 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:59.351 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:03:59.352 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:59.429 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:03:59.855 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:03:59.855 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:03:59.932 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:04:00.354 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:04:00.357 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:04:00.435 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:04:00.709 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: CreateRoomRequest
2026-01-15 22:04:00.712 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 40
2026-01-15 22:04:00.712 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 40)
2026-01-15 22:04:00.716 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 40 (position: 0)
2026-01-15 22:04:00.716 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 40)
2026-01-15 22:04:00.857 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:04:00.860 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:04:00.935 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:04:01.363 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:04:01.446 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:04:01.867 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:04:01.948 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:04:02.369 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:04:02.451 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:04:02.873 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:04:02.954 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:04:03.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-15 22:04:03.225 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 40
2026-01-15 22:04:03.225 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 40 (position: 1)
2026-01-15 22:04:03.225 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 40
2026-01-15 22:04:03.373 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:04:03.457 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:04:03.875 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:04:04.375 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:04:04.879 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:04:05.104 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-15 22:04:05.106 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 40
2026-01-15 22:04:05.106 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 40 (position: 2)
2026-01-15 22:04:05.106 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 40
2026-01-15 22:04:07.542 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-15 22:04:07.543 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 40 by host 2
2026-01-15 22:05:56.874 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-15 22:05:56.880 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 40
2026-01-15 22:05:56.880 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 40
2026-01-15 22:05:56.880 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 40 (còn lại 2 players)
2026-01-15 22:15:18.408 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-15 22:15:18.583 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-15 22:15:18.710 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-15 22:15:18.710 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-15 22:15:18.710 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-15 22:15:18.710 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-15 22:15:18.710 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-15 22:15:18.710 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-15 22:15:18.710 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-15 22:15:18.710 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-15 22:15:18.720 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-15 22:15:18.720 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-15 22:15:18.720 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-15 22:15:18.720 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-15 22:15:18.720 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-15 22:15:18.720 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-15 22:15:18.720 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-15 22:15:18.720 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-15 22:15:18.720 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-15 22:15:18.720 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-15 22:15:18.725 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-15 22:15:18.729 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-15 22:15:18.730 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-15 22:15:18.730 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-15 22:15:18.730 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-15 22:15:18.730 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-15 22:15:18.794 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-15 22:15:18.803 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-15 22:15:18.803 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-15 22:15:18.803 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-15 22:15:18.803 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-15 22:15:32.964 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:50891 (ID: 1)
2026-01-15 22:15:36.062 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:50892 (ID: 2)
2026-01-15 22:15:38.890 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:50893 (ID: 3)
2026-01-15 22:15:40.394 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-15 22:15:40.394 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123
2026-01-15 22:15:40.464 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 22:15:40.473 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 2
2026-01-15 22:15:40.473 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 22:15:40.815 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-15 22:15:40.822 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-15 22:15:40.823 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:15:40.824 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:15:40.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:40.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-15 22:15:40.824 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=2, limit=5
2026-01-15 22:15:40.824 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:15:40.833 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:15:40.834 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-15 22:15:40.835 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 22:15:40.837 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 22:15:40.837 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 22:15:41.233 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:41.734 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:42.234 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:42.742 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:43.242 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:43.745 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:44.248 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:44.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:45.251 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:45.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:46.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:46.754 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:46.937 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-15 22:15:46.943 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 40
2026-01-15 22:15:46.943 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 40 (position: 0)
2026-01-15 22:15:46.943 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 40
2026-01-15 22:15:49.673 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaveRoomRequest
2026-01-15 22:15:49.673 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 40
2026-01-15 22:15:49.673 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 40
2026-01-15 22:15:49.682 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 40
2026-01-15 22:15:49.682 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 40
2026-01-15 22:15:49.682 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 40 (còn lại 0 players)
2026-01-15 22:15:49.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:50.494 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:50.995 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:51.496 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:51.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:52.501 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:53.001 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:53.504 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:54.003 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:54.511 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:55.011 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:55.504 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:56.015 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:56.405 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-15 22:15:56.409 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123123
2026-01-15 22:15:56.474 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 22:15:56.474 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 1
2026-01-15 22:15:56.474 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 22:15:56.514 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:56.823 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-15 22:15:56.823 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-15 22:15:56.823 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:15:56.824 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:15:56.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:15:56.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-15 22:15:56.824 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=3, limit=5
2026-01-15 22:15:56.824 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:15:56.824 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:15:56.825 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-15 22:15:56.825 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 22:15:56.825 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 22:15:56.825 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 22:15:57.013 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:57.235 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:15:57.523 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:57.734 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:15:58.023 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:58.241 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:15:58.523 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:58.742 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:15:59.023 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:59.244 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:15:59.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:15:59.744 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:00.023 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:00.251 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:00.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:00.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:01.034 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:01.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:01.542 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:01.755 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:01.890 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-15 22:16:01.890 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123123123
2026-01-15 22:16:01.961 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 22:16:01.961 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 3
2026-01-15 22:16:01.961 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 22:16:02.041 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:02.258 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:02.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-15 22:16:02.304 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-15 22:16:02.304 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:16:02.304 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:16:02.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:02.309 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-15 22:16:02.309 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=4, limit=5
2026-01-15 22:16:02.309 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:16:02.309 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:16:02.309 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-15 22:16:02.309 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 22:16:02.309 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 22:16:02.312 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 22:16:02.541 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:02.714 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:02.758 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:03.044 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:03.215 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:03.264 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:03.545 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:03.723 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:03.764 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:04.045 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:04.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:04.267 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:04.544 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:04.724 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:04.773 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:05.051 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:05.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:05.274 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:05.551 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:05.724 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:05.775 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:06.054 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:06.233 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:06.279 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:06.554 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:06.736 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:06.783 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:07.057 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:07.121 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: CreateRoomRequest
2026-01-15 22:16:07.123 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 41
2026-01-15 22:16:07.123 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 41)
2026-01-15 22:16:07.125 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 41 (position: 0)
2026-01-15 22:16:07.125 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 41)
2026-01-15 22:16:07.239 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:07.281 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:07.741 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:07.784 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:08.245 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:08.285 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:08.746 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:08.784 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:09.094 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaveRoomRequest
2026-01-15 22:16:09.094 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 40 không tồn tại trong memory
2026-01-15 22:16:09.251 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:09.292 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:09.533 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:09.753 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:09.792 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:10.033 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:10.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:10.294 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:10.533 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:10.754 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:10.794 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:11.036 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:11.258 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:11.295 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:11.534 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:11.764 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:11.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:12.042 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:12.265 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:12.305 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:12.504 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: CreateRoomRequest
2026-01-15 22:16:12.504 [Server] INFO  c.mygame.server.room.GameRoomManager - User 2 is already in room 41, leaving before creating new room
2026-01-15 22:16:12.504 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 41
2026-01-15 22:16:12.504 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 41
2026-01-15 22:16:12.504 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 41
2026-01-15 22:16:12.504 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 41
2026-01-15 22:16:12.504 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 41 (còn lại 0 players)
2026-01-15 22:16:12.504 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 42
2026-01-15 22:16:12.504 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: Room 2504 (ID: 42)
2026-01-15 22:16:12.512 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 42 (position: 0)
2026-01-15 22:16:12.512 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: Room 2504 (ID: 42)
2026-01-15 22:16:12.544 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:12.767 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:12.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:13.273 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:13.313 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:13.774 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:13.814 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:13.933 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaveRoomRequest
2026-01-15 22:16:13.933 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 40 không tồn tại trong memory
2026-01-15 22:16:14.274 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:14.314 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:14.465 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:14.782 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:14.814 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:14.965 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:15.284 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:15.314 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:15.468 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:15.785 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:15.813 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:15.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:16.284 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:16.323 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:16.474 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:16.791 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:16.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:16.975 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:17.291 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:17.323 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:17.481 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:17.792 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:17.826 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:17.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:18.294 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:18.327 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:18.486 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:18.794 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:18.825 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:18.991 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:19.133 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: JoinRoomRequest
2026-01-15 22:16:19.134 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 42
2026-01-15 22:16:19.134 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 42 (position: 1)
2026-01-15 22:16:19.134 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 42
2026-01-15 22:16:19.294 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:19.334 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:19.494 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:19.801 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:19.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:20.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:20.501 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:20.742 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaveRoomRequest
2026-01-15 22:16:20.743 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 42
2026-01-15 22:16:20.743 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 42
2026-01-15 22:16:20.743 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 42 (còn lại 1 players)
2026-01-15 22:16:20.803 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:21.001 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:21.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:21.441 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:21.504 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:21.805 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:21.944 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:22.004 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:22.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:22.444 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:22.504 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:22.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:22.951 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:22.964 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-15 22:16:22.968 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 42
2026-01-15 22:16:22.968 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 42 (position: 1)
2026-01-15 22:16:22.968 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 42
2026-01-15 22:16:23.008 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:23.451 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:23.513 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:23.954 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:24.015 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:24.253 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaveRoomRequest
2026-01-15 22:16:24.253 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 42
2026-01-15 22:16:24.253 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 42
2026-01-15 22:16:24.253 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 42 (còn lại 1 players)
2026-01-15 22:16:24.454 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:24.514 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:24.594 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:24.954 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:25.015 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:25.094 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:25.456 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:25.523 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:25.595 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:25.954 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:26.023 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:26.094 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:26.210 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-15 22:16:26.211 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 42
2026-01-15 22:16:26.211 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 42 (position: 1)
2026-01-15 22:16:26.211 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 42
2026-01-15 22:16:26.458 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:26.601 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:26.963 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:27.104 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:27.404 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaveRoomRequest
2026-01-15 22:16:27.404 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 40 không tồn tại trong memory
2026-01-15 22:16:27.464 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:27.604 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:27.716 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:27.964 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:28.104 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:28.215 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:28.464 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:28.613 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:28.724 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:28.973 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:29.113 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:29.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:29.474 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:29.614 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:29.724 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:29.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:30.115 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:30.225 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:30.477 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:30.623 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:30.735 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:30.981 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:31.124 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:31.236 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:31.484 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:31.624 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:31.736 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:31.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:32.124 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:32.241 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:32.486 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:32.632 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:32.741 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:32.988 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:33.136 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:33.191 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: CreateRoomRequest
2026-01-15 22:16:33.194 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 43
2026-01-15 22:16:33.194 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 43)
2026-01-15 22:16:33.195 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 43 (position: 0)
2026-01-15 22:16:33.195 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 43)
2026-01-15 22:16:33.245 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:33.491 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:33.745 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:33.991 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:34.244 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:34.494 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:34.751 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:34.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:35.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:35.496 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:35.757 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:35.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:36.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:36.501 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:36.763 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:36.983 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaveRoomRequest
2026-01-15 22:16:36.984 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 42
2026-01-15 22:16:36.984 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 42
2026-01-15 22:16:36.984 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 42 (còn lại 1 players)
2026-01-15 22:16:37.004 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:37.264 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:37.417 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:37.504 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:37.764 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:37.922 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:38.005 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:38.273 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:38.423 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:38.513 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:38.774 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:38.924 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:39.013 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:39.277 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:39.426 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:39.515 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:39.777 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:39.924 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:40.014 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:40.277 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:40.394 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-15 22:16:40.396 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 43
2026-01-15 22:16:40.396 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 43 (position: 1)
2026-01-15 22:16:40.396 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 43
2026-01-15 22:16:40.432 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:40.523 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:40.784 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:41.023 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:41.284 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:41.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:41.791 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:42.024 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:42.035 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaveRoomRequest
2026-01-15 22:16:42.036 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 42
2026-01-15 22:16:42.036 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 42
2026-01-15 22:16:42.036 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 42 (còn lại 1 players)
2026-01-15 22:16:42.294 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:42.527 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:42.564 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:42.794 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:43.033 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:43.073 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:43.294 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:43.534 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:43.573 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:43.801 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:44.034 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:44.074 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:44.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:44.541 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:44.579 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:44.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:45.044 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:16:45.080 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:45.305 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:45.580 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:45.654 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-15 22:16:45.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:46.084 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:46.310 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:16:46.584 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:46.744 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 2)
2026-01-15 22:16:46.744 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 42
2026-01-15 22:16:46.744 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 42
2026-01-15 22:16:46.744 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 42
2026-01-15 22:16:46.744 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 42
2026-01-15 22:16:46.744 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 42 (còn lại 0 players)
2026-01-15 22:16:47.084 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:16:47.423 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-15 22:16:53.747 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:50908 (ID: 4)
2026-01-15 22:16:56.046 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:50911 (ID: 5)
2026-01-15 22:16:56.281 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:50912 (ID: 6)
2026-01-15 22:16:59.585 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LoginRequest
2026-01-15 22:16:59.585 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 4: username=123
2026-01-15 22:16:59.635 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 22:16:59.640 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 4
2026-01-15 22:16:59.640 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 22:16:59.980 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaderboardRequest
2026-01-15 22:16:59.980 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 4: limit=50
2026-01-15 22:16:59.980 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:16:59.980 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:16:59.980 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:16:59.980 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: MatchHistoryRequest
2026-01-15 22:16:59.980 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 4: userId=2, limit=5
2026-01-15 22:16:59.985 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:16:59.985 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:16:59.985 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: GetQuestsRequest
2026-01-15 22:16:59.985 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 22:16:59.985 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 22:16:59.986 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 22:17:00.396 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:00.900 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:01.401 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:01.905 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:02.406 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:02.906 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:03.405 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:03.911 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:04.415 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:04.915 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:05.251 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LoginRequest
2026-01-15 22:17:05.251 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 5: username=123123
2026-01-15 22:17:05.321 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 22:17:05.321 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 5
2026-01-15 22:17:05.321 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 22:17:05.415 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:05.666 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LeaderboardRequest
2026-01-15 22:17:05.666 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 5: limit=50
2026-01-15 22:17:05.666 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:17:05.666 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:17:05.666 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:05.666 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: MatchHistoryRequest
2026-01-15 22:17:05.666 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 5: userId=3, limit=5
2026-01-15 22:17:05.666 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:17:05.666 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:17:05.666 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: GetQuestsRequest
2026-01-15 22:17:05.666 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 22:17:05.666 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 22:17:05.666 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 22:17:05.916 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:06.075 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:06.425 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:06.581 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:06.926 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:07.085 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:07.426 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:07.585 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:07.925 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:08.086 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:08.434 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:08.585 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:08.935 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:09.091 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:09.440 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:09.592 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:09.942 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:10.092 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:10.444 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:10.594 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:10.946 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:11.092 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:11.445 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:11.595 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:11.606 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LoginRequest
2026-01-15 22:17:11.606 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 6: username=123123123
2026-01-15 22:17:11.676 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 22:17:11.676 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 6
2026-01-15 22:17:11.676 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 22:17:11.946 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:12.026 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LeaderboardRequest
2026-01-15 22:17:12.026 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 6: limit=50
2026-01-15 22:17:12.026 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:17:12.026 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:17:12.026 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:12.026 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: MatchHistoryRequest
2026-01-15 22:17:12.026 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 6: userId=4, limit=5
2026-01-15 22:17:12.026 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:17:12.026 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:17:12.026 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: GetQuestsRequest
2026-01-15 22:17:12.026 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 22:17:12.026 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 22:17:12.026 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 22:17:12.096 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:12.441 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:12.448 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:12.595 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:12.942 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:12.945 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:13.101 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:13.444 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:13.446 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:13.606 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:13.945 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:13.951 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:14.106 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:14.446 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:14.455 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:14.605 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:14.945 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:14.956 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:15.106 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:15.453 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:15.455 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:15.605 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:15.956 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:15.959 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:16.112 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:16.151 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: JoinRoomRequest
2026-01-15 22:17:16.155 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 43
2026-01-15 22:17:16.155 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 43 (position: 1)
2026-01-15 22:17:16.155 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 43
2026-01-15 22:17:16.457 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:16.615 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:16.956 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:17.116 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:17.460 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:17.616 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:17.965 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:18.105 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 22:17:18.105 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 43
2026-01-15 22:17:18.105 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 43
2026-01-15 22:17:18.105 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 43 (còn lại 1 players)
2026-01-15 22:17:18.116 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:18.405 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:18.465 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:18.616 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:18.906 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:18.966 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:19.116 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:19.415 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:19.465 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:19.624 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:19.915 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:19.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:20.126 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:20.417 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:20.478 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:20.631 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:20.919 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:20.981 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:21.131 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:21.422 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:21.481 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:21.634 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:21.922 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:17:21.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:21.991 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: CreateRoomRequest
2026-01-15 22:17:21.992 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 44
2026-01-15 22:17:21.992 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 123 (ID: 44)
2026-01-15 22:17:21.992 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 44 (position: 0)
2026-01-15 22:17:21.993 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 123 (ID: 44)
2026-01-15 22:17:22.134 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:22.486 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:22.636 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:22.990 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:23.140 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:23.492 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:23.642 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:23.995 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:24.142 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:24.496 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:24.646 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:25.001 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:25.146 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:25.505 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:25.646 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:26.006 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:26.153 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:26.506 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:26.651 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:27.009 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:27.156 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:27.506 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:27.656 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:27.951 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: JoinRoomRequest
2026-01-15 22:17:27.954 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 44
2026-01-15 22:17:27.954 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 44 (position: 1)
2026-01-15 22:17:27.954 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 44
2026-01-15 22:17:28.015 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:28.155 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:17:28.516 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:29.016 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:29.516 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:30.024 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:30.527 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:31.031 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:31.525 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:32.026 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:17:32.175 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: JoinRoomRequest
2026-01-15 22:17:32.176 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 44
2026-01-15 22:17:32.176 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 44 (position: 2)
2026-01-15 22:17:32.176 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 44
2026-01-15 22:18:04.355 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 22:18:04.355 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 43
2026-01-15 22:18:04.355 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 43
2026-01-15 22:18:04.355 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 43 (còn lại 1 players)
2026-01-15 22:18:04.786 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:05.286 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:05.789 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:06.292 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:06.792 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:07.105 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LeaveRoomRequest
2026-01-15 22:18:07.105 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 44
2026-01-15 22:18:07.105 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 44
2026-01-15 22:18:07.105 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 44 (còn lại 2 players)
2026-01-15 22:18:07.295 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:07.795 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:07.806 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:08.296 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:08.305 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:08.797 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:08.806 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:09.206 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LeaveRoomRequest
2026-01-15 22:18:09.206 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 44
2026-01-15 22:18:09.206 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 44
2026-01-15 22:18:09.206 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 44 (còn lại 1 players)
2026-01-15 22:18:09.300 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:09.306 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:09.565 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:18:09.801 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:09.806 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:10.068 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:18:10.301 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:10.314 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:10.568 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:18:10.805 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:10.814 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:11.071 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:18:11.306 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:11.318 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:11.574 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:18:11.808 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:11.818 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:12.075 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:18:12.307 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:12.322 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:12.576 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:18:12.811 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:12.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:13.075 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:18:13.106 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 6)
2026-01-15 22:18:13.314 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:13.318 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:13.815 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:13.826 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:14.315 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:14.326 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:14.816 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:14.825 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:15.319 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:15.336 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:15.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:15.836 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:16.325 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:16.340 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:16.826 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:16.842 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:17.325 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:17.343 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:17.826 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:17.846 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:18.325 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:18.345 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:18.753 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: JoinRoomRequest
2026-01-15 22:18:18.753 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 44
2026-01-15 22:18:18.753 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 44 (position: 1)
2026-01-15 22:18:18.753 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 44
2026-01-15 22:18:18.835 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:18.848 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:19.352 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:19.855 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:20.356 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:20.865 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:21.368 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:21.446 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 22:18:21.447 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 43
2026-01-15 22:18:21.447 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 43
2026-01-15 22:18:21.447 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 43 (còn lại 1 players)
2026-01-15 22:18:21.865 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:22.015 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:22.366 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:22.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:22.866 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:23.023 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:23.365 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: JoinRoomRequest
2026-01-15 22:18:23.366 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 43
2026-01-15 22:18:23.366 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 43 (position: 1)
2026-01-15 22:18:23.366 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 43
2026-01-15 22:18:23.366 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:23.526 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:23.874 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:24.376 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:24.875 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:25.286 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 22:18:25.286 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 43
2026-01-15 22:18:25.286 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 43
2026-01-15 22:18:25.286 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 43 (còn lại 1 players)
2026-01-15 22:18:25.376 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:25.875 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:25.946 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:26.378 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:26.446 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:26.881 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:26.946 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:27.258 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: JoinRoomRequest
2026-01-15 22:18:27.259 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 44
2026-01-15 22:18:27.259 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 44 (position: 1)
2026-01-15 22:18:27.259 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 44
2026-01-15 22:18:27.386 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:27.452 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:27.955 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:28.456 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:28.955 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:29.176 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LeaveRoomRequest
2026-01-15 22:18:29.185 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 44
2026-01-15 22:18:29.185 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 44
2026-01-15 22:18:29.185 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 44 (còn lại 1 players)
2026-01-15 22:18:29.464 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:29.806 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:29.955 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:30.306 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:30.465 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:30.815 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:30.966 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:31.316 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:31.467 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:31.819 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:31.965 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:32.324 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:32.361 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: JoinRoomRequest
2026-01-15 22:18:32.362 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 44
2026-01-15 22:18:32.362 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 44 (position: 1)
2026-01-15 22:18:32.362 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 44
2026-01-15 22:18:32.469 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:32.826 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:33.329 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:33.490 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 22:18:33.491 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 43
2026-01-15 22:18:33.491 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 43
2026-01-15 22:18:33.491 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 43 (còn lại 1 players)
2026-01-15 22:18:33.829 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:34.095 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:34.329 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:34.596 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:34.835 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:35.101 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:35.336 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:35.601 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:35.836 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:36.105 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:36.336 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:36.607 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:36.842 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:37.105 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:37.345 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:37.606 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:37.845 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:38.114 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:18:38.345 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:38.476 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 4)
2026-01-15 22:18:38.846 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:18:39.586 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 5)
2026-01-15 22:20:25.630 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-15 22:20:25.824 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-15 22:20:25.860 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-15 22:20:25.860 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-15 22:20:25.860 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-15 22:20:25.860 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-15 22:20:25.865 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-15 22:20:25.876 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-15 22:20:25.876 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-15 22:20:25.876 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-15 22:20:25.876 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-15 22:20:25.876 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-15 22:20:25.951 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-15 22:20:25.957 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-15 22:20:25.957 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-15 22:20:25.957 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-15 22:20:25.957 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-15 22:20:40.701 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62322 (ID: 1)
2026-01-15 22:20:44.451 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62324 (ID: 2)
2026-01-15 22:20:46.142 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:62325 (ID: 3)
2026-01-15 22:20:48.613 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-15 22:20:48.614 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-15 22:20:48.694 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 22:20:48.697 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-15 22:20:48.697 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 22:20:49.045 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-15 22:20:49.045 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-15 22:20:49.047 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:20:49.048 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:20:49.048 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:49.051 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-15 22:20:49.051 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-15 22:20:49.056 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:20:49.056 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:20:49.057 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-15 22:20:49.057 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 22:20:49.057 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 22:20:49.057 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 22:20:49.455 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:49.954 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:50.454 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:50.958 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:51.461 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:51.954 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:52.464 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:52.964 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:53.466 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:53.969 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:54.465 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:54.891 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-15 22:20:54.891 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123123
2026-01-15 22:20:54.955 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 22:20:54.955 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 2
2026-01-15 22:20:54.955 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 22:20:54.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:55.305 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-15 22:20:55.305 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-15 22:20:55.306 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:20:55.306 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:20:55.306 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:20:55.306 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-15 22:20:55.306 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=3, limit=5
2026-01-15 22:20:55.306 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:20:55.306 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:20:55.306 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-15 22:20:55.306 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 22:20:55.306 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 22:20:55.306 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 22:20:55.475 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:55.716 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:20:55.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:56.221 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:20:56.478 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:56.725 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:20:56.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:57.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:20:57.485 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:57.730 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:20:57.987 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:58.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:20:58.490 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:58.734 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:20:58.990 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:59.234 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:20:59.493 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:20:59.735 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:20:59.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:21:00.240 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:00.351 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-15 22:21:00.351 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123123123
2026-01-15 22:21:00.415 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 22:21:00.415 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 3
2026-01-15 22:21:00.415 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 22:21:00.497 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:21:00.740 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:00.764 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-15 22:21:00.764 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-15 22:21:00.764 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:21:00.764 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:21:00.766 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:00.766 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-15 22:21:00.766 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=4, limit=5
2026-01-15 22:21:00.766 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:21:00.766 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:21:00.766 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-15 22:21:00.766 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 22:21:00.766 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 22:21:00.766 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 22:21:01.001 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:21:01.177 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:01.243 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:01.504 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:21:01.675 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:01.745 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:02.004 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:21:02.175 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:02.247 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:02.504 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:21:02.684 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:02.753 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:03.012 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:21:03.186 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:03.255 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:03.515 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:21:03.689 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:03.758 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:04.018 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:21:04.193 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:04.262 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:04.521 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:21:04.696 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:04.764 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:05.021 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:21:05.166 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: CreateRoomRequest
2026-01-15 22:21:05.169 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 45
2026-01-15 22:21:05.169 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 45)
2026-01-15 22:21:05.175 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 45 (position: 0)
2026-01-15 22:21:05.175 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 45)
2026-01-15 22:21:05.195 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:05.265 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:05.694 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:05.764 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:06.201 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:06.265 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:06.704 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:06.764 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:07.205 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:07.278 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:07.688 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-15 22:21:07.689 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 45
2026-01-15 22:21:07.689 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 45 (position: 1)
2026-01-15 22:21:07.689 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 45
2026-01-15 22:21:07.708 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:07.781 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:21:08.213 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:08.714 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:09.218 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:09.718 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:10.146 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-15 22:21:10.148 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 45
2026-01-15 22:21:10.148 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 45 (position: 2)
2026-01-15 22:21:10.148 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 45
2026-01-15 22:21:10.221 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:21:12.564 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-15 22:21:12.564 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 45 by host 2
2026-01-15 22:21:39.504 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-15 22:21:39.504 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 45
2026-01-15 22:21:39.504 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 45
2026-01-15 22:21:39.504 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 45 thành user 3
2026-01-15 22:21:39.504 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 45 từ 2 sang 3
2026-01-15 22:21:39.504 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 45 (còn lại 2 players)
2026-01-15 22:21:40.754 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 2)
2026-01-15 22:21:40.754 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 45
2026-01-15 22:21:40.754 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 45
2026-01-15 22:21:40.762 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 45 thành user 4
2026-01-15 22:21:40.762 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 45 từ 3 sang 4
2026-01-15 22:21:40.762 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 45 (còn lại 1 players)
2026-01-15 22:21:41.514 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-15 22:21:41.516 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 45
2026-01-15 22:21:41.516 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 45
2026-01-15 22:21:41.517 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 45
2026-01-15 22:21:41.517 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 45
2026-01-15 22:21:41.517 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 45 (còn lại 0 players)
2026-01-15 22:32:18.164 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57905 (ID: 4)
2026-01-15 22:32:26.359 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57912 (ID: 5)
2026-01-15 22:32:27.401 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57913 (ID: 6)
2026-01-15 22:32:32.795 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LoginRequest
2026-01-15 22:32:32.795 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 4: username=123
2026-01-15 22:32:32.863 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 22:32:32.863 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 4
2026-01-15 22:32:32.864 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 22:32:33.210 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaderboardRequest
2026-01-15 22:32:33.210 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 4: limit=50
2026-01-15 22:32:33.211 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:32:33.211 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:32:33.211 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:33.211 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: MatchHistoryRequest
2026-01-15 22:32:33.212 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 4: userId=2, limit=5
2026-01-15 22:32:33.212 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:32:33.212 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:32:33.212 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: GetQuestsRequest
2026-01-15 22:32:33.212 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 22:32:33.214 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 22:32:33.214 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 22:32:33.622 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:34.125 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:34.628 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:35.131 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:35.634 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:36.134 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:36.638 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:37.141 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:37.640 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:38.141 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:38.640 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:39.144 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:39.266 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LoginRequest
2026-01-15 22:32:39.266 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 5: username=123123
2026-01-15 22:32:39.337 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 22:32:39.338 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 5
2026-01-15 22:32:39.338 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 22:32:39.644 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:39.682 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LeaderboardRequest
2026-01-15 22:32:39.682 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 5: limit=50
2026-01-15 22:32:39.684 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:32:39.684 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:32:39.684 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:39.684 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: MatchHistoryRequest
2026-01-15 22:32:39.684 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 5: userId=3, limit=5
2026-01-15 22:32:39.685 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:32:39.685 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:32:39.685 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: GetQuestsRequest
2026-01-15 22:32:39.685 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 22:32:39.687 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 22:32:39.687 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 22:32:40.097 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:40.146 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:40.600 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:40.647 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:41.100 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:41.150 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:41.603 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:41.652 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:42.105 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:42.156 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:42.606 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:42.659 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:43.106 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:43.159 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:43.606 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:43.662 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:43.909 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LoginRequest
2026-01-15 22:32:43.910 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 6: username=123123123
2026-01-15 22:32:43.977 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 22:32:43.977 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 6
2026-01-15 22:32:43.977 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 22:32:44.105 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:44.162 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:44.328 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LeaderboardRequest
2026-01-15 22:32:44.328 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 6: limit=50
2026-01-15 22:32:44.329 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:32:44.329 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:32:44.329 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:44.329 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: MatchHistoryRequest
2026-01-15 22:32:44.329 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 6: userId=4, limit=5
2026-01-15 22:32:44.330 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:32:44.330 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:32:44.330 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: GetQuestsRequest
2026-01-15 22:32:44.330 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 22:32:44.331 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 22:32:44.331 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 22:32:44.608 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:44.665 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:44.735 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:45.111 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:45.168 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:45.236 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:45.612 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:45.671 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:45.741 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:46.115 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:46.171 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:46.243 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:46.618 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:46.675 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:46.746 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:47.118 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:47.176 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:47.247 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:47.618 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:47.685 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:47.750 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:48.121 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:48.187 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:48.253 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:48.625 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:48.688 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:48.753 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:49.128 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:49.190 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:49.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:49.631 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:49.690 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:49.756 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:50.134 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:50.193 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:50.259 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:50.633 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:50.696 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:50.762 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:51.137 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:51.196 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 22:32:51.261 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:51.288 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: CreateRoomRequest
2026-01-15 22:32:51.291 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 46
2026-01-15 22:32:51.291 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 46)
2026-01-15 22:32:51.292 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 46 (position: 0)
2026-01-15 22:32:51.292 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 46)
2026-01-15 22:32:51.640 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:51.765 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:52.140 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:52.274 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:52.642 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:52.774 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:53.146 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:53.275 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:53.646 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:53.774 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:54.075 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: JoinRoomRequest
2026-01-15 22:32:54.076 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 46
2026-01-15 22:32:54.076 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 46 (position: 1)
2026-01-15 22:32:54.076 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 46
2026-01-15 22:32:54.149 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 22:32:54.277 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:54.781 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:55.283 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:55.784 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:32:56.196 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: JoinRoomRequest
2026-01-15 22:32:56.199 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 46
2026-01-15 22:32:56.199 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 46 (position: 2)
2026-01-15 22:32:56.199 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 46
2026-01-15 22:32:56.284 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 22:33:04.329 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: StartGameRequest
2026-01-15 22:33:04.329 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 46 by host 2
2026-01-15 22:33:27.551 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 4)
2026-01-15 22:33:27.552 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 46
2026-01-15 22:33:27.552 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 46
2026-01-15 22:33:27.552 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 46 thành user 3
2026-01-15 22:33:27.552 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 46 từ 2 sang 3
2026-01-15 22:33:27.552 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 46 (còn lại 2 players)
2026-01-15 22:33:28.583 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 5)
2026-01-15 22:33:28.585 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 46
2026-01-15 22:33:28.585 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 46
2026-01-15 22:33:28.585 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 46 thành user 4
2026-01-15 22:33:28.585 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 46 từ 3 sang 4
2026-01-15 22:33:28.585 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 46 (còn lại 1 players)
2026-01-15 22:33:29.628 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 6)
2026-01-15 22:33:29.630 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 46
2026-01-15 22:33:29.630 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 46
2026-01-15 22:33:29.630 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 46
2026-01-15 22:33:29.630 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 46
2026-01-15 22:33:29.630 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 46 (còn lại 0 players)
2026-01-15 22:48:11.719 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-15 22:48:11.937 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-15 22:48:11.969 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-15 22:48:11.969 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-15 22:48:11.969 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-15 22:48:11.969 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-15 22:48:11.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-15 22:48:11.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-15 22:48:11.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-15 22:48:11.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-15 22:48:11.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-15 22:48:11.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-15 22:48:11.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-15 22:48:11.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-15 22:48:11.984 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-15 22:48:11.989 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-15 22:48:11.989 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-15 22:48:11.989 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-15 22:48:11.989 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-15 22:48:11.989 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-15 22:48:12.000 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-15 22:48:12.000 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-15 22:48:12.000 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-15 22:48:12.000 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-15 22:48:12.000 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-15 22:48:12.000 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-15 22:48:12.073 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-15 22:48:12.087 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-15 22:48:12.093 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-15 22:48:12.093 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-15 22:48:12.093 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-15 22:48:22.429 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:61247 (ID: 1)
2026-01-15 22:48:35.889 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:53064 (ID: 2)
2026-01-15 22:48:37.074 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:53065 (ID: 3)
2026-01-15 22:48:41.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-15 22:48:41.804 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-15 22:48:41.890 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 22:48:41.893 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-15 22:48:41.893 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 22:48:42.242 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-15 22:48:42.242 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-15 22:48:42.247 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:48:42.248 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:48:42.248 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:42.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-15 22:48:42.254 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-15 22:48:42.258 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:48:42.258 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:48:42.258 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-15 22:48:42.258 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 22:48:42.264 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 22:48:42.264 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 22:48:42.650 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:43.154 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:43.658 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:44.158 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:44.658 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:45.161 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:45.279 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-15 22:48:45.279 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123123
2026-01-15 22:48:45.358 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 22:48:45.358 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 2
2026-01-15 22:48:45.358 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 22:48:45.663 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:45.708 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-15 22:48:45.708 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-15 22:48:45.708 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:48:45.708 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:48:45.708 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:45.716 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-15 22:48:45.716 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=3, limit=5
2026-01-15 22:48:45.717 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:48:45.717 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:48:45.718 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-15 22:48:45.718 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 22:48:45.719 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 22:48:45.720 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 22:48:46.119 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:46.168 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:46.619 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:46.669 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:47.121 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:47.169 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:47.628 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:47.678 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:48.128 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:48.178 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:48.628 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:48.678 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:49.128 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:49.187 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:49.629 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:49.687 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:50.137 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:50.189 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:50.637 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:50.689 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:51.137 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:51.189 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:51.639 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:51.689 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:51.869 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-15 22:48:51.869 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123123123
2026-01-15 22:48:51.928 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 22:48:51.928 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 3
2026-01-15 22:48:51.928 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 22:48:52.139 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:52.193 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:52.282 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-15 22:48:52.282 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-15 22:48:52.282 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 22:48:52.287 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 22:48:52.287 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:52.287 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-15 22:48:52.287 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=4, limit=5
2026-01-15 22:48:52.288 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:48:52.288 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 22:48:52.288 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-15 22:48:52.288 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 22:48:52.289 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 22:48:52.289 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 22:48:52.639 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:52.693 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:52.697 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:53.143 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:53.195 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:53.200 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:53.643 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:53.697 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:53.698 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:54.146 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:54.197 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:54.200 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:54.650 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:54.697 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:54.700 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:55.153 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:55.198 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:55.206 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:55.650 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:55.700 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:55.700 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:56.156 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:56.203 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:56.206 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:56.656 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:56.706 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:56.706 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:56.985 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: CreateRoomRequest
2026-01-15 22:48:57.000 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 47
2026-01-15 22:48:57.000 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 47)
2026-01-15 22:48:57.006 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 47 (position: 0)
2026-01-15 22:48:57.006 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 47)
2026-01-15 22:48:57.151 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:57.207 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 22:48:57.209 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:57.659 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:57.710 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:58.158 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:58.209 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:58.660 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:58.709 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:59.088 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-15 22:48:59.089 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 47
2026-01-15 22:48:59.089 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 47 (position: 1)
2026-01-15 22:48:59.089 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 47
2026-01-15 22:48:59.158 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 22:48:59.218 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:48:59.719 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:49:00.219 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:49:00.719 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:49:01.228 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:49:01.728 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:49:02.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-15 22:49:02.225 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 47
2026-01-15 22:49:02.225 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 47 (position: 2)
2026-01-15 22:49:02.225 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 47
2026-01-15 22:49:02.231 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 22:49:05.318 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-15 22:49:05.319 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 47 by host 2
2026-01-15 22:50:42.658 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-15 22:50:42.663 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 47
2026-01-15 22:50:42.663 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 47
2026-01-15 22:50:42.663 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 47 (còn lại 2 players)
2026-01-15 22:50:42.719 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 2)
2026-01-15 22:50:42.719 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 47
2026-01-15 22:50:42.719 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 47
2026-01-15 22:50:42.719 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 47 (còn lại 1 players)
2026-01-15 23:16:28.208 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-15 23:16:28.419 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-15 23:16:28.451 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-15 23:16:28.451 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-15 23:16:28.451 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-15 23:16:28.451 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-15 23:16:28.458 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-15 23:16:28.469 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-15 23:16:28.469 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-15 23:16:28.469 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-15 23:16:28.469 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-15 23:16:28.469 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-15 23:16:28.469 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-15 23:16:28.543 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-15 23:16:28.550 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-15 23:16:28.558 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-15 23:16:28.558 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-15 23:16:28.558 [main] INFO  com.mygame.server.ServerLauncher - ========================================

2026-01-15 23:19:13.898 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:60670 (ID: 1)
2026-01-15 23:19:16.750 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LoginRequest
2026-01-15 23:19:16.750 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 1: username=123
2026-01-15 23:19:16.808 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 23:19:16.815 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 1
2026-01-15 23:19:16.815 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 23:19:17.164 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: LeaderboardRequest
2026-01-15 23:19:17.164 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 1: limit=50
2026-01-15 23:19:17.167 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 23:19:17.167 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 23:19:17.168 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:17.169 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: MatchHistoryRequest
2026-01-15 23:19:17.169 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 1: userId=2, limit=5
2026-01-15 23:19:17.175 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:19:17.175 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:19:17.175 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: GetQuestsRequest
2026-01-15 23:19:17.175 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 23:19:17.178 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 23:19:17.178 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 23:19:17.596 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:18.100 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:18.602 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:19.105 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:19.608 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:20.108 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:20.608 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:21.108 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:21.615 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:22.115 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:22.619 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:23.123 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:23.625 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:24.125 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:24.625 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:25.135 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:25.634 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:26.135 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:26.639 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:27.139 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:27.643 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:28.146 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:28.649 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:29.146 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:29.650 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:30.150 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:30.650 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:31.150 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:31.655 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:32.158 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:32.658 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:33.158 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:33.658 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:34.161 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:34.661 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:35.162 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:35.665 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:36.165 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:36.668 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:37.168 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:37.507 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:60682 (ID: 2)
2026-01-15 23:19:37.671 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:38.173 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:38.241 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:60683 (ID: 3)
2026-01-15 23:19:38.673 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:39.177 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:39.677 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:40.180 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:40.679 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:41.180 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:41.316 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LoginRequest
2026-01-15 23:19:41.316 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 2: username=123123
2026-01-15 23:19:41.365 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 23:19:41.365 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 2
2026-01-15 23:19:41.365 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 23:19:41.680 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:41.716 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: LeaderboardRequest
2026-01-15 23:19:41.716 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 2: limit=50
2026-01-15 23:19:41.717 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 23:19:41.717 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 23:19:41.717 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:41.717 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: MatchHistoryRequest
2026-01-15 23:19:41.718 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 2: userId=3, limit=5
2026-01-15 23:19:41.719 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:19:41.719 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:19:41.719 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: GetQuestsRequest
2026-01-15 23:19:41.719 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 23:19:41.719 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 23:19:41.720 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 23:19:42.127 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:42.183 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:42.630 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:42.686 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:43.130 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:43.189 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:43.632 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:43.689 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:44.133 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:44.193 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:44.636 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:44.696 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:45.136 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:45.198 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:45.639 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:45.687 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LoginRequest
2026-01-15 23:19:45.687 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 3: username=123123123
2026-01-15 23:19:45.736 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 23:19:45.738 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 3
2026-01-15 23:19:45.738 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 23:19:45.738 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:46.082 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: LeaderboardRequest
2026-01-15 23:19:46.083 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 3: limit=50
2026-01-15 23:19:46.083 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 23:19:46.083 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 23:19:46.083 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:46.084 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: MatchHistoryRequest
2026-01-15 23:19:46.085 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 3: userId=4, limit=5
2026-01-15 23:19:46.085 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:19:46.085 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:19:46.085 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: GetQuestsRequest
2026-01-15 23:19:46.085 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 23:19:46.086 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 23:19:46.087 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 23:19:46.139 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:46.205 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:46.496 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:46.641 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:46.705 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:46.998 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:47.146 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:47.208 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:47.502 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:47.648 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:47.708 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:48.005 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:48.149 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:48.211 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:48.508 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:48.651 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:48.714 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:49.011 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:49.152 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:49.215 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:49.513 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:49.655 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:49.717 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:50.014 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:50.158 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:50.217 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:50.517 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:50.658 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:50.720 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:51.020 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:51.161 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:51.221 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: ListRoomsRequest
2026-01-15 23:19:51.430 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: CreateRoomRequest
2026-01-15 23:19:51.440 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 48
2026-01-15 23:19:51.440 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 12 (ID: 48)
2026-01-15 23:19:51.444 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 48 (position: 0)
2026-01-15 23:19:51.444 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 12 (ID: 48)
2026-01-15 23:19:51.520 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:51.661 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:52.024 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:52.161 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:52.526 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:52.664 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:53.026 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:53.165 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:53.530 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:53.667 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:54.033 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:54.090 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: JoinRoomRequest
2026-01-15 23:19:54.091 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 48
2026-01-15 23:19:54.091 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 48 (position: 1)
2026-01-15 23:19:54.091 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 48
2026-01-15 23:19:54.170 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 2: ListRoomsRequest
2026-01-15 23:19:54.536 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:55.039 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:55.540 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:56.042 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: ListRoomsRequest
2026-01-15 23:19:56.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 3: JoinRoomRequest
2026-01-15 23:19:56.150 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 48
2026-01-15 23:19:56.150 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 48 (position: 2)
2026-01-15 23:19:56.150 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 48
2026-01-15 23:19:58.618 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 1: StartGameRequest
2026-01-15 23:19:58.618 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 48 by host 2
2026-01-15 23:20:52.374 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 1)
2026-01-15 23:20:52.375 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 48
2026-01-15 23:20:52.375 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 48
2026-01-15 23:20:52.375 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 48 thành user 3
2026-01-15 23:20:52.375 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 48 từ 2 sang 3
2026-01-15 23:20:52.375 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 48 (còn lại 2 players)
2026-01-15 23:20:53.444 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 2)
2026-01-15 23:20:53.445 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 48
2026-01-15 23:20:53.445 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 48
2026-01-15 23:20:53.445 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 48 thành user 4
2026-01-15 23:20:53.445 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 48 từ 3 sang 4
2026-01-15 23:20:53.445 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 48 (còn lại 1 players)
2026-01-15 23:20:54.426 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 3)
2026-01-15 23:20:54.427 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 48
2026-01-15 23:20:54.427 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 48
2026-01-15 23:20:54.428 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 48
2026-01-15 23:20:54.428 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 48
2026-01-15 23:20:54.428 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 48 (còn lại 0 players)
2026-01-15 23:38:37.635 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57919 (ID: 4)
2026-01-15 23:38:41.417 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LoginRequest
2026-01-15 23:38:41.417 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 4: username=123
2026-01-15 23:38:41.468 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 23:38:41.468 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 4
2026-01-15 23:38:41.468 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 23:38:41.818 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaderboardRequest
2026-01-15 23:38:41.819 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 4: limit=50
2026-01-15 23:38:41.819 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 23:38:41.819 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 23:38:41.819 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:41.819 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: MatchHistoryRequest
2026-01-15 23:38:41.819 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 4: userId=2, limit=5
2026-01-15 23:38:41.819 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:38:41.819 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:38:41.819 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: GetQuestsRequest
2026-01-15 23:38:41.819 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 23:38:41.819 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 23:38:41.823 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 23:38:42.230 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:42.724 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:43.235 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:43.734 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:44.234 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:44.735 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:45.123 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: JoinRoomRequest
2026-01-15 23:38:45.126 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 47
2026-01-15 23:38:45.126 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 47 (position: 0)
2026-01-15 23:38:45.126 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 47
2026-01-15 23:38:45.238 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:46.684 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 23:38:46.684 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 47
2026-01-15 23:38:46.684 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 47
2026-01-15 23:38:46.684 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 47
2026-01-15 23:38:46.684 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 47
2026-01-15 23:38:46.684 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 47 (còn lại 0 players)
2026-01-15 23:38:47.294 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:47.794 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:48.298 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:48.794 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:49.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:49.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:50.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:50.810 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:51.310 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:51.813 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:52.313 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:52.819 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:53.319 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:53.820 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:54.323 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:54.823 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:55.326 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:55.826 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:56.325 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:56.831 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:57.335 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:57.838 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:58.338 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:58.841 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:59.344 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:38:59.390 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57929 (ID: 5)
2026-01-15 23:38:59.844 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:00.347 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:00.850 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:01.354 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:01.448 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:57930 (ID: 6)
2026-01-15 23:39:01.857 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:02.360 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:02.863 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:03.363 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:03.866 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:04.369 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:04.871 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:05.371 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:05.875 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:06.204 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LoginRequest
2026-01-15 23:39:06.204 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 5: username=123123
2026-01-15 23:39:06.254 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 23:39:06.254 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 5
2026-01-15 23:39:06.254 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 23:39:06.378 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:06.601 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LeaderboardRequest
2026-01-15 23:39:06.602 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 5: limit=50
2026-01-15 23:39:06.602 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 23:39:06.602 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 23:39:06.602 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:06.603 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: MatchHistoryRequest
2026-01-15 23:39:06.603 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 5: userId=3, limit=5
2026-01-15 23:39:06.603 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:39:06.603 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:39:06.603 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: GetQuestsRequest
2026-01-15 23:39:06.603 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 23:39:06.604 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 23:39:06.605 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 23:39:06.877 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:07.013 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:07.381 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:07.516 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:07.885 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:08.016 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:08.388 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:08.519 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:08.891 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:09.019 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:09.390 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:09.522 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:09.894 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:10.024 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:10.394 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:10.527 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:10.531 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LoginRequest
2026-01-15 23:39:10.531 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 6: username=123123123
2026-01-15 23:39:10.583 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 23:39:10.583 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 6
2026-01-15 23:39:10.583 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 23:39:10.897 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:10.928 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LeaderboardRequest
2026-01-15 23:39:10.929 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 6: limit=50
2026-01-15 23:39:10.929 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 23:39:10.929 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 23:39:10.929 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:10.929 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: MatchHistoryRequest
2026-01-15 23:39:10.929 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 6: userId=4, limit=5
2026-01-15 23:39:10.930 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:39:10.930 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:39:10.930 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: GetQuestsRequest
2026-01-15 23:39:10.930 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 23:39:10.931 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 23:39:10.931 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 23:39:11.028 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:11.341 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:11.400 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:11.528 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:11.841 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:11.900 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:12.031 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:12.344 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:12.404 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:12.531 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:12.844 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:12.903 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:13.035 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:13.347 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:13.404 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:13.538 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:13.847 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:13.906 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:14.041 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:14.350 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:14.409 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:14.463 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: CreateRoomRequest
2026-01-15 23:39:14.465 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 49
2026-01-15 23:39:14.465 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 49)
2026-01-15 23:39:14.465 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 49 (position: 0)
2026-01-15 23:39:14.465 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 49)
2026-01-15 23:39:14.544 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:14.854 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:15.044 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:15.353 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:15.544 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:15.853 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:16.044 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:16.356 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:16.544 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:16.856 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:17.044 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:17.347 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: JoinRoomRequest
2026-01-15 23:39:17.349 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 49
2026-01-15 23:39:17.349 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 49 (position: 1)
2026-01-15 23:39:17.349 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 49
2026-01-15 23:39:17.359 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:17.547 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:17.859 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:18.363 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:18.863 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:19.366 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:19.868 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:20.007 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: JoinRoomRequest
2026-01-15 23:39:20.008 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 49
2026-01-15 23:39:20.008 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 49 (position: 2)
2026-01-15 23:39:20.008 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 49
2026-01-15 23:39:33.006 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 23:39:33.006 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 47 không tồn tại trong memory
2026-01-15 23:39:33.447 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:33.949 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:34.121 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: JoinRoomRequest
2026-01-15 23:39:34.124 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 49
2026-01-15 23:39:34.124 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 49 (position: 3)
2026-01-15 23:39:34.124 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 49
2026-01-15 23:39:44.400 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 23:39:44.400 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 47 không tồn tại trong memory
2026-01-15 23:39:44.728 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:45.231 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:45.734 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:46.006 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LeaveRoomRequest
2026-01-15 23:39:46.008 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 49
2026-01-15 23:39:46.008 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 49
2026-01-15 23:39:46.008 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 49 (còn lại 2 players)
2026-01-15 23:39:46.237 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:46.703 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:46.737 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:47.206 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:47.240 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:47.345 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LeaveRoomRequest
2026-01-15 23:39:47.346 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 49
2026-01-15 23:39:47.346 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 49
2026-01-15 23:39:47.346 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 49 (còn lại 1 players)
2026-01-15 23:39:47.700 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:47.709 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:47.743 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:48.200 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:48.212 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:48.246 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:48.703 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:48.712 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:48.749 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:49.206 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:49.211 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:49.253 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:49.644 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: JoinRoomRequest
2026-01-15 23:39:49.644 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 49
2026-01-15 23:39:49.644 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 49 (position: 1)
2026-01-15 23:39:49.644 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 49
2026-01-15 23:39:49.709 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:49.715 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:49.756 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:50.218 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:50.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:50.721 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:50.759 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:51.225 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:51.262 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:51.534 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LeaveRoomRequest
2026-01-15 23:39:51.535 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 49
2026-01-15 23:39:51.535 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 49
2026-01-15 23:39:51.535 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 49 (còn lại 1 players)
2026-01-15 23:39:51.728 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:51.765 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:52.103 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:52.231 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:52.268 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:52.606 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:52.734 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:52.768 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:53.109 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:53.234 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:53.268 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:53.612 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:53.734 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:53.771 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:54.006 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: JoinRoomRequest
2026-01-15 23:39:54.007 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 49
2026-01-15 23:39:54.007 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 49 (position: 1)
2026-01-15 23:39:54.007 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 49
2026-01-15 23:39:54.112 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:54.237 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:54.615 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:54.740 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:54.987 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 23:39:54.987 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 47 không tồn tại trong memory
2026-01-15 23:39:55.115 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:55.243 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:55.252 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:55.618 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:55.743 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:55.753 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:56.118 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:56.246 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:56.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:56.618 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:56.749 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:56.756 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:56.918 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: JoinRoomRequest
2026-01-15 23:39:56.920 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 49
2026-01-15 23:39:56.920 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 49 (position: 1)
2026-01-15 23:39:56.920 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 49
2026-01-15 23:39:57.119 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:57.249 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:57.621 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:57.752 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:58.124 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:58.149 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 23:39:58.149 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 47 không tồn tại trong memory
2026-01-15 23:39:58.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:58.487 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:58.624 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:58.759 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:58.987 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:59.127 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:59.262 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:59.487 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:39:59.627 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:39:59.761 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:39:59.990 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:00.131 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:00.265 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:00.493 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:00.631 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:00.711 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: CreateRoomRequest
2026-01-15 23:40:00.711 [Server] INFO  c.mygame.server.room.GameRoomManager - User 2 is already in room 49, leaving before creating new room
2026-01-15 23:40:00.713 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 49
2026-01-15 23:40:00.713 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 49
2026-01-15 23:40:00.714 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 49
2026-01-15 23:40:00.714 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 49
2026-01-15 23:40:00.714 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 49 (còn lại 0 players)
2026-01-15 23:40:00.715 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 50
2026-01-15 23:40:00.715 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 12 (ID: 50)
2026-01-15 23:40:00.715 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 50 (position: 0)
2026-01-15 23:40:00.715 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 12 (ID: 50)
2026-01-15 23:40:00.768 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:01.134 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:01.268 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:01.634 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:01.771 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:02.136 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:02.272 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:02.640 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:02.774 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:03.140 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:03.278 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:03.643 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:03.780 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:04.146 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:04.284 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:04.649 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:04.784 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:05.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:05.287 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:05.655 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:05.790 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:06.159 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:06.293 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:06.334 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: JoinRoomRequest
2026-01-15 23:40:06.336 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 50
2026-01-15 23:40:06.336 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 50 (position: 1)
2026-01-15 23:40:06.336 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 50
2026-01-15 23:40:06.796 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:07.296 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:07.796 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:08.297 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:08.799 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:09.301 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:09.803 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:10.302 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:10.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:11.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:11.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:12.308 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:12.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:13.314 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:13.765 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: JoinRoomRequest
2026-01-15 23:40:13.766 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 50
2026-01-15 23:40:13.766 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 50 (position: 2)
2026-01-15 23:40:13.766 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 50
2026-01-15 23:40:13.815 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:19.693 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 23:40:19.693 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 47 không tồn tại trong memory
2026-01-15 23:40:19.964 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:20.470 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:20.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:21.474 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:21.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:22.153 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LeaveRoomRequest
2026-01-15 23:40:22.153 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 49 không tồn tại trong memory
2026-01-15 23:40:22.484 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:22.703 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:22.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:23.204 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:23.483 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:23.704 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:23.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:24.208 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:24.485 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:24.709 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:24.834 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: LeaveRoomRequest
2026-01-15 23:40:24.834 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 49 không tồn tại trong memory
2026-01-15 23:40:24.990 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:25.154 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:25.209 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:25.493 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:25.654 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:25.714 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:25.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:26.154 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:26.215 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:26.497 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:26.654 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:26.719 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:26.994 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:27.154 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:27.219 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:27.504 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:27.663 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:27.724 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:28.004 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:28.164 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:28.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:28.506 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:28.665 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:28.725 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:29.004 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:29.164 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:29.225 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:29.510 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:29.665 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:29.733 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:30.010 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:30.174 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:30.234 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:30.514 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:30.674 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:30.734 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:31.014 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:31.174 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:31.235 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:31.514 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:31.674 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:31.739 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:31.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: JoinRoomRequest
2026-01-15 23:40:31.824 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 50
2026-01-15 23:40:31.824 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 50 (position: 3)
2026-01-15 23:40:31.824 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã tham gia room 50
2026-01-15 23:40:32.014 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:32.174 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:32.243 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:32.674 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:32.743 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:32.754 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: LeaveRoomRequest
2026-01-15 23:40:32.754 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 47 không tồn tại trong memory
2026-01-15 23:40:33.183 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:33.244 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:33.454 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:33.683 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:33.744 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:33.954 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:34.184 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:34.244 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:34.454 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:34.683 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:34.744 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:34.954 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:35.184 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:35.245 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:35.460 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:35.684 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:35.754 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:35.965 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:36.184 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:36.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:36.464 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:36.693 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:36.756 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:36.967 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:37.195 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:37.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:37.469 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:37.699 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:37.755 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:37.974 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:38.194 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:38.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:38.474 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:38.695 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:38.764 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:38.977 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:39.194 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:39.264 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:39.474 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:39.695 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:39.765 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:39.976 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:40.205 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:40.269 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:40.483 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:40.708 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:40.769 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:40.983 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:41.210 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:41.274 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:41.484 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:41.714 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:41.775 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:41.984 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:42.215 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:42.275 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:42.485 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:42.715 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:42.775 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:42.993 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:43.219 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:43.283 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:43.496 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:43.719 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:43.783 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:43.995 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:44.224 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:44.286 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:44.497 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:44.727 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:44.786 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:44.999 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:45.229 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:45.285 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:45.495 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:45.730 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:45.792 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:45.997 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:46.233 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:46.292 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:46.500 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:46.736 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:46.792 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:47.005 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:47.239 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:47.294 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:47.507 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:47.741 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:47.798 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:48.008 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:48.242 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:48.299 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:48.511 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:48.744 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:48.800 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:49.014 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:49.246 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:49.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:49.517 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:49.749 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:49.805 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:50.018 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:50.251 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:50.307 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:50.521 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:50.752 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:50.808 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:51.024 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:51.254 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:51.310 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:51.524 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:51.756 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:51.814 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:52.033 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:52.258 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:52.314 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:52.535 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:52.764 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:52.815 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:53.034 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:53.264 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:53.319 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:53.534 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:53.769 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:53.819 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:54.035 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:54.269 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:54.320 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:54.539 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:54.771 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:54.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:55.041 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:55.273 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:55.324 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:55.543 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:55.774 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:55.823 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:56.045 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:56.277 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:56.324 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:56.545 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:56.775 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:56.827 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:57.048 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:57.275 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:57.330 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:57.548 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:57.774 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:57.833 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:58.045 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:58.284 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:58.334 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:58.555 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:58.785 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:58.835 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:59.058 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:59.288 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:59.334 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:40:59.557 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:40:59.784 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:40:59.834 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:00.054 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:00.284 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:00.345 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:00.557 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:00.784 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:00.844 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:01.064 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:01.294 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:01.345 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:01.565 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:01.795 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:01.847 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:02.065 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:02.294 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:02.346 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:02.569 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:02.804 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:02.845 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:03.069 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:03.304 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:03.355 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:03.569 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:03.805 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:03.854 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:04.073 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:04.305 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:04.355 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:04.573 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:04.805 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:04.856 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:05.074 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:05.310 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:05.358 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:05.578 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:05.814 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:05.854 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:06.079 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:06.317 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:06.361 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:06.583 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:06.819 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:06.860 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:07.081 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:07.323 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:07.364 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:07.586 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:07.655 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: CreateRoomRequest
2026-01-15 23:41:07.655 [Server] INFO  c.mygame.server.room.GameRoomManager - User 3 is already in room 50, leaving before creating new room
2026-01-15 23:41:07.655 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 50
2026-01-15 23:41:07.655 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 50
2026-01-15 23:41:07.655 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 50 (còn lại 2 players)
2026-01-15 23:41:07.656 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 51
2026-01-15 23:41:07.656 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 21 (ID: 51)
2026-01-15 23:41:07.657 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 51 (position: 0)
2026-01-15 23:41:07.657 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 21 (ID: 51)
2026-01-15 23:41:07.823 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:07.864 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:08.084 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:08.323 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:08.585 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:08.824 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:09.084 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:09.328 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:09.584 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:09.833 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:10.095 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:10.329 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:10.596 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:10.829 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:11.094 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:11.335 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:11.594 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:11.834 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:12.104 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:12.342 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:12.604 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:12.844 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:13.104 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:13.344 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:13.344 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LeaveRoomRequest
2026-01-15 23:41:13.344 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 49 không tồn tại trong memory
2026-01-15 23:41:13.604 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:13.844 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:14.046 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:14.104 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:14.344 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:14.554 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:14.609 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:14.846 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:15.054 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:15.114 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:15.285 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: JoinRoomRequest
2026-01-15 23:41:15.286 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 51
2026-01-15 23:41:15.286 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 51 (position: 1)
2026-01-15 23:41:15.286 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 51
2026-01-15 23:41:15.348 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:15.614 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:15.847 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:16.119 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:16.354 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:16.623 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:16.654 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: LeaveRoomRequest
2026-01-15 23:41:16.654 [Server] WARN  c.mygame.server.room.GameRoomManager - Room 49 không tồn tại trong memory
2026-01-15 23:41:16.857 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:16.927 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:17.124 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:17.354 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:17.433 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:17.625 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:17.855 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:17.933 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:18.133 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:18.363 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:18.436 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:18.636 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:18.864 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:18.936 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:19.136 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:19.364 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:19.435 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:19.634 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:19.865 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:19.934 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:20.137 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:20.364 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:20.434 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:20.637 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:20.869 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:20.937 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:21.138 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:21.369 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:21.438 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:21.641 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:21.873 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:21.938 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:22.145 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:22.374 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:22.438 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:22.646 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:22.875 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:22.944 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:23.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:23.382 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:23.445 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:23.651 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:23.817 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: CreateRoomRequest
2026-01-15 23:41:23.817 [Server] INFO  c.mygame.server.room.GameRoomManager - User 3 is already in room 51, leaving before creating new room
2026-01-15 23:41:23.818 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 51
2026-01-15 23:41:23.818 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 51
2026-01-15 23:41:23.818 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 51
2026-01-15 23:41:23.819 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 51
2026-01-15 23:41:23.819 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 51 (còn lại 0 players)
2026-01-15 23:41:23.820 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 52
2026-01-15 23:41:23.820 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 52)
2026-01-15 23:41:23.820 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 52 (position: 0)
2026-01-15 23:41:23.820 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 52)
2026-01-15 23:41:23.885 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:23.944 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 5: ListRoomsRequest
2026-01-15 23:41:24.148 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:24.385 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:24.654 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:24.884 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:25.154 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:25.387 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:25.654 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:25.889 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:26.154 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:26.391 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:26.655 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:26.888 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:27.158 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:27.395 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 6: ListRoomsRequest
2026-01-15 23:41:27.664 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:28.169 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:28.613 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 6)
2026-01-15 23:41:28.613 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 50
2026-01-15 23:41:28.613 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 50
2026-01-15 23:41:28.613 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 50 (còn lại 1 players)
2026-01-15 23:41:28.669 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:29.173 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:29.676 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:29.705 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 5)
2026-01-15 23:41:29.705 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 52
2026-01-15 23:41:29.705 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 52
2026-01-15 23:41:29.705 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 52
2026-01-15 23:41:29.705 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 52
2026-01-15 23:41:29.705 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 52 (còn lại 0 players)
2026-01-15 23:41:30.175 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 4: ListRoomsRequest
2026-01-15 23:41:30.780 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 4)
2026-01-15 23:41:30.781 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 50
2026-01-15 23:41:30.781 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 50
2026-01-15 23:41:30.781 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 50
2026-01-15 23:41:30.781 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 50
2026-01-15 23:41:30.781 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 50 (còn lại 0 players)
2026-01-15 23:48:34.671 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:55600 (ID: 7)
2026-01-15 23:48:37.441 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: LoginRequest
2026-01-15 23:48:37.442 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 7: username=123
2026-01-15 23:48:37.490 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123
2026-01-15 23:48:37.490 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 2 cho connection 7
2026-01-15 23:48:37.490 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123 (ID: 2)
2026-01-15 23:48:37.835 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: LeaderboardRequest
2026-01-15 23:48:37.835 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 7: limit=50
2026-01-15 23:48:37.835 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 23:48:37.835 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 23:48:37.835 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:37.835 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: MatchHistoryRequest
2026-01-15 23:48:37.835 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 7: userId=2, limit=5
2026-01-15 23:48:37.836 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:48:37.836 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:48:37.836 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: GetQuestsRequest
2026-01-15 23:48:37.836 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 2
2026-01-15 23:48:37.836 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 2 on date 2026-01-15
2026-01-15 23:48:37.837 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 2
2026-01-15 23:48:38.249 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:38.745 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:39.255 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:39.755 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:40.256 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:40.759 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:41.258 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:41.762 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:42.260 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:42.765 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:43.267 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:43.767 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:44.265 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:44.772 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:45.274 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:45.774 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:46.275 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:46.777 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:47.277 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:47.777 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:48.278 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:48.779 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:49.245 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: CreateRoomRequest
2026-01-15 23:48:49.246 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 2 vào room 53
2026-01-15 23:48:49.246 [Server] INFO  com.mygame.server.database.RoomDAO - Đã tạo room: 1 (ID: 53)
2026-01-15 23:48:49.246 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 2 vào room 53 (position: 0)
2026-01-15 23:48:49.246 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã tạo room: 1 (ID: 53)
2026-01-15 23:48:49.281 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: ListRoomsRequest
2026-01-15 23:48:50.868 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:60720 (ID: 8)
2026-01-15 23:48:52.810 [Server] INFO  com.mygame.server.ServerListener - Client kết nối: /127.0.0.1:60721 (ID: 9)
2026-01-15 23:48:54.064 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: LoginRequest
2026-01-15 23:48:54.064 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 8: username=123123
2026-01-15 23:48:54.107 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123
2026-01-15 23:48:54.107 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 3 cho connection 8
2026-01-15 23:48:54.107 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123 (ID: 3)
2026-01-15 23:48:54.457 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: LeaderboardRequest
2026-01-15 23:48:54.457 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 8: limit=50
2026-01-15 23:48:54.457 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 23:48:54.457 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 23:48:54.457 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 23:48:54.457 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: MatchHistoryRequest
2026-01-15 23:48:54.457 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 8: userId=3, limit=5
2026-01-15 23:48:54.457 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:48:54.459 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:48:54.459 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: GetQuestsRequest
2026-01-15 23:48:54.459 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 3
2026-01-15 23:48:54.459 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 3 on date 2026-01-15
2026-01-15 23:48:54.460 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 3
2026-01-15 23:48:54.870 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 23:48:55.125 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: JoinRoomRequest
2026-01-15 23:48:55.126 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 3 vào room 53
2026-01-15 23:48:55.126 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 3 vào room 53 (position: 1)
2026-01-15 23:48:55.126 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã tham gia room 53
2026-01-15 23:48:55.370 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 8: ListRoomsRequest
2026-01-15 23:49:00.725 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: LoginRequest
2026-01-15 23:49:00.725 [Server] INFO  c.m.server.handlers.LoginHandler - Nhận login request từ connection 9: username=123123123
2026-01-15 23:49:00.774 [Server] INFO  com.mygame.server.database.UserDAO - User đăng nhập thành công: 123123123
2026-01-15 23:49:00.774 [Server] INFO  com.mygame.server.ServerListener - Đã lưu userId 4 cho connection 9
2026-01-15 23:49:00.774 [Server] INFO  c.m.server.handlers.LoginHandler - Login thành công cho user: 123123123 (ID: 4)
2026-01-15 23:49:01.122 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: LeaderboardRequest
2026-01-15 23:49:01.122 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Nhận leaderboard request từ connection 9: limit=50
2026-01-15 23:49:01.123 [Server] DEBUG c.m.server.database.LeaderboardDAO - Đã lấy 4 players từ leaderboard
2026-01-15 23:49:01.123 [Server] DEBUG c.m.s.handlers.LeaderboardHandler - Đã gửi 4 entries trong leaderboard
2026-01-15 23:49:01.123 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 23:49:01.123 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: MatchHistoryRequest
2026-01-15 23:49:01.123 [Server] DEBUG c.m.s.handlers.MatchHistoryHandler - Nhận match history request từ connection 9: userId=4, limit=5
2026-01-15 23:49:01.124 [Server] ERROR c.m.server.database.MatchHistoryDAO - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:49:01.124 [Server] ERROR c.m.s.handlers.MatchHistoryHandler - Lỗi khi lấy match history: ERROR: column "id" does not exist
  Position: 8
org.postgresql.util.PSQLException: ERROR: column "id" does not exist
  Position: 8
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.mygame.server.database.MatchHistoryDAO.getRecentMatches(MatchHistoryDAO.java:68)
	at com.mygame.server.handlers.MatchHistoryHandler.handle(MatchHistoryHandler.java:33)
	at com.mygame.server.ServerListener$1.received(ServerListener.java:87)
	at com.esotericsoftware.kryonet.Server$1.received(Server.java:101)
	at com.esotericsoftware.kryonet.Connection.notifyReceived(Connection.java:368)
	at com.esotericsoftware.kryonet.Server.update(Server.java:318)
	at com.esotericsoftware.kryonet.Server.run(Server.java:538)
	at java.base/java.lang.Thread.run(Thread.java:842)
2026-01-15 23:49:01.124 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: GetQuestsRequest
2026-01-15 23:49:01.124 [Server] INFO  c.m.server.handlers.QuestHandler - Getting daily quests for user 4
2026-01-15 23:49:01.125 [Server] DEBUG com.mygame.server.database.QuestDAO - Retrieved 5 quests for user 4 on date 2026-01-15
2026-01-15 23:49:01.125 [Server] INFO  c.m.server.handlers.QuestHandler - Sent 5 quests to user 4
2026-01-15 23:49:01.534 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 23:49:02.009 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: JoinRoomRequest
2026-01-15 23:49:02.009 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã thêm player 4 vào room 53
2026-01-15 23:49:02.009 [Server] DEBUG com.mygame.server.room.GameRoom - Đã thêm player 4 vào room 53 (position: 2)
2026-01-15 23:49:02.009 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã tham gia room 53
2026-01-15 23:49:02.034 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 9: ListRoomsRequest
2026-01-15 23:49:04.143 [Server] DEBUG com.mygame.server.ServerListener - Nhận packet từ client 7: StartGameRequest
2026-01-15 23:49:04.143 [Server] INFO  c.mygame.server.handlers.RoomHandler - Game started in room 53 by host 2
2026-01-15 23:56:14.575 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 7)
2026-01-15 23:56:14.575 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 2 khỏi room 53
2026-01-15 23:56:14.575 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 2 khỏi room 53
2026-01-15 23:56:14.576 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 53 thành user 3
2026-01-15 23:56:14.576 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 53 từ 2 sang 3
2026-01-15 23:56:14.576 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 2 đã rời room 53 (còn lại 2 players)
2026-01-15 23:56:15.843 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 8)
2026-01-15 23:56:15.844 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 3 khỏi room 53
2026-01-15 23:56:15.844 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 3 khỏi room 53
2026-01-15 23:56:15.844 [Server] INFO  com.mygame.server.database.RoomDAO - Đã cập nhật host của room 53 thành user 4
2026-01-15 23:56:15.844 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã chuyển host của room 53 từ 3 sang 4
2026-01-15 23:56:15.844 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 3 đã rời room 53 (còn lại 1 players)
2026-01-15 23:56:17.236 [Server] INFO  com.mygame.server.ServerListener - Client ngắt kết nối: null (ID: 9)
2026-01-15 23:56:17.236 [Server] DEBUG com.mygame.server.database.RoomDAO - Đã xóa player 4 khỏi room 53
2026-01-15 23:56:17.237 [Server] DEBUG com.mygame.server.room.GameRoom - Đã xóa player 4 khỏi room 53
2026-01-15 23:56:17.237 [Server] INFO  com.mygame.server.database.RoomDAO - Đã xóa room: 53
2026-01-15 23:56:17.237 [Server] INFO  c.mygame.server.room.GameRoomManager - Đã xóa room trống: 53
2026-01-15 23:56:17.237 [Server] INFO  c.mygame.server.room.GameRoomManager - Player 4 đã rời room 53 (còn lại 0 players)
2026-01-15 23:58:02.595 [main] INFO  com.mygame.server.ServerLauncher - Step 1/4: Connecting to database...
2026-01-15 23:58:02.795 [main] INFO  c.m.server.database.DatabaseManager - Database 'postgres' đã tồn tại
2026-01-15 23:58:02.832 [main] INFO  c.m.server.database.DatabaseManager - Đã kết nối đến PostgreSQL database: postgres (catalog: postgres)
2026-01-15 23:58:02.832 [main] INFO  com.mygame.server.ServerLauncher - ✓ Database connected
2026-01-15 23:58:02.832 [main] INFO  com.mygame.server.ServerLauncher - Step 2/4: Initializing schema...
2026-01-15 23:58:02.832 [main] INFO  c.m.server.database.DatabaseManager - Đang khởi tạo database schema...
2026-01-15 23:58:02.832 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_users_credits ON us
2026-01-15 23:58:02.832 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_user_quest_progress
2026-01-15 23:58:02.832 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_status
2026-01-15 23:58:02.840 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_active_rooms_game_t
2026-01-15 23:58:02.840 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_game_
2026-01-15 23:58:02.840 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_user_
2026-01-15 23:58:02.840 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_match_history_times
2026-01-15 23:58:02.842 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_room_i
2026-01-15 23:58:02.842 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: CREATE INDEX IF NOT EXISTS idx_room_players_user_i
2026-01-15 23:58:02.842 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE daily_quest_config IS 'Static dai
2026-01-15 23:58:02.843 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE user_quest_progress IS 'User prog
2026-01-15 23:58:02.843 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE active_rooms IS 'Active game room
2026-01-15 23:58:02.843 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE match_history IS 'Completed match
2026-01-15 23:58:02.843 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: COMMENT ON TABLE room_players IS 'Many-to-many rel
2026-01-15 23:58:02.844 [main] DEBUG c.m.server.database.DatabaseManager - Đã thực thi: DELETE FROM daily_quest_config
2026-01-15 23:58:02.852 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: ERROR: syntax error at or near "IF"
  Position: 5
2026-01-15 23:58:02.852 [main] WARN  c.m.server.database.DatabaseManager - Lỗi khi thực thi SQL: Unterminated dollar quote started at position 4 in SQL END $$. Expected terminating $$
2026-01-15 23:58:02.852 [main] INFO  c.m.server.database.DatabaseManager - Đã khởi tạo database schema thành công
2026-01-15 23:58:02.852 [main] INFO  com.mygame.server.ServerLauncher - ✓ Schema initialized
2026-01-15 23:58:02.852 [main] INFO  com.mygame.server.ServerLauncher - Step 3/4: Starting network server...
2026-01-15 23:58:02.936 [main] INFO  com.mygame.server.ServerLauncher - Step 4/4: Setting up listeners...
2026-01-15 23:58:02.945 [main] INFO  c.mygame.server.room.GameRoomManager - Started empty room cleanup scheduler (every 30 seconds)
2026-01-15 23:58:02.956 [main] INFO  com.mygame.server.ServerLauncher - 
========================================
2026-01-15 23:58:02.956 [main] INFO  com.mygame.server.ServerLauncher - ✅ SERVER STARTED SUCCESSFULLY ON PORT 54555
2026-01-15 23:58:02.956 [main] INFO  com.mygame.server.ServerLauncher - ========================================

